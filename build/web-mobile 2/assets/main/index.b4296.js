window.__require=function t(e,o,i){function n(a,s){if(!o[a]){if(!e[a]){var c=a.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var p=o[a]={exports:{}};e[a][0].call(p.exports,function(t){return n(e[a][1][t]||t)},p,p.exports,t,e,o,i)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<i.length;a++)n(i[a]);return n}({AccountModel:[function(t,e,o){"use strict";cc._RF.push(e,"3c2eahU8V5Lg7AKNTIS3es/","AccountModel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/i18n/i18nMgr"),a=t("../framework/model/IDataModel"),s=t("./GameDataCenter"),c=function(t){function e(){var e=t.call(this,"account")||this;return e.avatar="",e.nickName="",e.uid=0,e.status=0,e.players=new Map,e.noMoreJilu=!1,e.myRankNo="",e.lastRankNo="",e.thisRankNo="",e.myRankNum="",e.lastRankNum="",e.thisRankNum="",e.jwt="",e}return n(e,t),e.prototype.login=function(t,e,o,i){var n=this,r={deploy_app_id:t,init_id:e,session_id:o,company_code:i};return new Promise(function(t){n.postHttpMsg("game/v1/login",r,function(e){var o=e.data;console.log(o,"\u767b\u5f55\u6570\u636e"),t(o)}.bind(n))})},e.prototype.getGameLog=function(){var t=this,e={room_type:s.default.roomInfoModel.roomType};return new Promise(function(o){t.postHttpMsg("game/v1/getGameLog",e,function(t){var e=t.data,i={type:1,list:e.sha_100_list},n={type:2,list:e.sha_list},r={type:3,betting_total:e.betting_total,result_total:e.result_total};o([i,n,r])}.bind(t))})},e.prototype.getBettingLog=function(t){var e=this,o={room_type:s.default.roomInfoModel.roomType,page:t,limit:20};return new Promise(function(t){e.noMoreJilu?t([]):e.postHttpMsg("game/v1/getbettinglog",o,function(e){for(var o=[],i=0,n=e.data.list;i<n.length;i++){var r={type:4,user:n[i]};o.push(r)}o.length<20&&(this.noMoreJilu||(this.noMoreJilu=!0,o.push({type:5}))),t(o)}.bind(e))})},e.prototype.getRank=function(){var t=this,e={room_type:s.default.roomInfoModel.roomType},o={zh:"\u672a\u4e0a\u699c",en:"Not Ranked"};return new Promise(function(i){t.postHttpMsg("game/v1/getRank",e,function(e){var n=o[r.i18nMgr.getlanguage()],a=e.data;t.lastRankNum=a.last_rank_num,t.myRankNum=t.thisRankNum=a.this_rank_num,t.lastRankNo=0==a.last_rank_no?n:String(a.last_rank_no),t.myRankNo=t.thisRankNo=0==a.this_rank_no?n:String(a.this_rank_no),i(a)})})},Object.defineProperty(e.prototype,"myPlayer",{get:function(){return this.players.get(this.uid)},enumerable:!1,configurable:!0}),e}(a.default);o.default=c,cc._RF.pop()},{"../framework/i18n/i18nMgr":"i18nMgr","../framework/model/IDataModel":"IDataModel","./GameDataCenter":"GameDataCenter"}],AudioMng:[function(t,e,o){"use strict";cc._RF.push(e,"25184GQZEZA5Ko1i1kEBCHL","AudioMng");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.AudioMng=o.audioCnf=o.AudioCnf=void 0;var r=t("../component/ViewModel"),a=t("../model/ISerialize"),s=t("../../utils/Log"),c=function(t){function e(){var e=t.call(this,"audiocnf")||this;return e.click=!0,e.bgm=!0,e.click=e.Query("click",!0),e.bgm=e.Query("bgm",!0),e.Set("click",e.click),e.Set("bgm",e.bgm),e.Save(),e}return n(e,t),e}(a.default);o.AudioCnf=c,o.audioCnf=new c,r.VM.add(o.audioCnf,"audiocnf");var l=function(){function t(){this.musicid="",this.effectRatio=1,this.bgmRatio=1,r.VM.bindPath("audiocnf.click",this.onValueChangedClick,this),r.VM.bindPath("audiocnf.bgm",this.onValueChangedBGM,this);var t=localStorage.getItem("sound")||"1",e=localStorage.getItem("effect")||"1";this.effectRatio="1"==e?1:0,this.bgmRatio="1"==t?1:0}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.onValueChangedClick=function(t){r.VM.getValue("audiocnf.click"),o.audioCnf.Set("click",t),o.audioCnf.Save()},t.prototype.onValueChangedBGM=function(t){o.audioCnf.Set("bgm",t),t?this.playBGM():this.stopBGM(),o.audioCnf.Save()},t.prototype.playSFX=function(t,e){void 0===e&&(e=0);var i=this;0!=o.audioCnf.click&&cc.loader.loadRes("sounds/"+t,cc.Asset,function(o){if(o)s.Log.log(o);else{var n=cc.loader.getRes("sounds/"+t,cc.Asset),r=cc.audioEngine.play(n,!1,1*i.effectRatio);e&&cc.audioEngine.setCurrentTime(r,e)}}.bind(this))},t.prototype.initBgm=function(){r.VM.getValue("audiocnf.bgm")&&this.playBGM()},t.prototype.playBGM=function(t){void 0===t&&(t=null);var e=this;cc.loader.loadRes("sounds/bgm",cc.Asset,function(o){if(o)s.Log.log(o);else{var i=cc.loader.getRes("sounds/bgm",cc.Asset);t=t||i,e.stopBGM(),e.musicid=cc.audioEngine.play(t,!0,1*e.bgmRatio)}}.bind(this))},t.prototype.playOnlineBGM=function(t){if(0!=o.audioCnf.bgm){var e=this;cc.loader.load(t,function(t,o){e.stopBGM(),e.musicid=cc.audioEngine.play(o,!0,1*e.bgmRatio)})}},t.prototype.playOnlineSFX=function(t){var e=this;0!=o.audioCnf.click&&cc.loader.load(t,function(t,o){cc.audioEngine.play(o,!1,1*e.effectRatio)})},t.prototype.stopBGM=function(){cc.audioEngine.stop(this.musicid)},t.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},t.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},t}();o.AudioMng=l,cc._RF.pop()},{"../../utils/Log":"Log","../component/ViewModel":"ViewModel","../model/ISerialize":"ISerialize"}],BhvButtonGroup:[function(t,e,o){"use strict";cc._RF.push(e,"dae77D38o5K6bil4yqcbffQ","BhvButtonGroup");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=cc._decorator,c=s.ccclass,l=s.property,p=s.menu;(function(t){t[t.CHILDREN_INDEX=0]="CHILDREN_INDEX",t[t.CHILDREN_NAME=1]="CHILDREN_NAME"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.transition=cc.Button.Transition.NONE,e.hoverColor=cc.color(255,255,255),e.normalColor=cc.color(214,214,214),e.pressedColor=cc.color(211,211,211),e.disabledColor=cc.color(124,124,124),e.normalSprite=null,e.pressedSprite=null,e.hoverSprite=null,e.disabledSprite=null,e.duration=1,e.zoomScale=1.1,e.paramType=a.CHILDREN_INDEX,e.touchEvents=[],e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.node.children.forEach(function(e,o){var i=e.getComponent(cc.Button);i||(i=e.addComponent(cc.Button)),i.target=e,i.transition=t.transition,i.zoomScale=t.zoomScale,i.disabledSprite=t.disabledSprite,i.hoverSprite=t.hoverSprite,i.normalSprite=t.normalSprite,i.pressedSprite=t.pressedSprite,i.hoverColor=t.hoverColor,i.normalColor=t.normalColor,i.pressedColor=t.pressedColor,i.disabledColor=t.disabledColor,t.touchEvents.forEach(function(n){var r=new cc.Component.EventHandler;r.target=n.target,r.handler=n.handler,r.component=n.component,r._componentId=n._componentId,t.paramType===a.CHILDREN_INDEX?r.customEventData=o.toString():r.customEventData=e.name,i.clickEvents.push(r)})})},r([l({type:cc.Enum(cc.Button.Transition)})],e.prototype,"transition",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],e.prototype,"hoverColor",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],e.prototype,"normalColor",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],e.prototype,"pressedColor",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.COLOR}})],e.prototype,"disabledColor",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],e.prototype,"normalSprite",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],e.prototype,"pressedSprite",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],e.prototype,"hoverSprite",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Button.Transition.SPRITE}})],e.prototype,"disabledSprite",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.SCALE||this.transition===cc.Button.Transition.COLOR}})],e.prototype,"duration",void 0),r([l({visible:function(){return this.transition===cc.Button.Transition.SCALE}})],e.prototype,"zoomScale",void 0),r([l({type:cc.Enum(a)})],e.prototype,"paramType",void 0),r([l([cc.Component.EventHandler])],e.prototype,"touchEvents",void 0),r([c,p("\u6dfb\u52a0\u7279\u6b8a\u884c\u4e3a/Input/Button Group(\u4e00\u7ec4\u6309\u94ae\u63a7\u5236)")],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],BhvFrameIndex:[function(t,e,o){"use strict";cc._RF.push(e,"f0adbBs8jxLTZq9C/Qbsw08","BhvFrameIndex");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=a.executeInEditMode,p=a.requireComponent,h=a.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteFrames=[null],e._index=0,e}return n(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){t<0||(this._index=t%this.spriteFrames.length,this.node.getComponent(cc.Sprite).spriteFrame=this.spriteFrames[this._index])},enumerable:!1,configurable:!0}),e.prototype.setName=function(t){var e=this.spriteFrames.findIndex(function(e){return e.name==t});e<0&&cc.error("frameIndex \u8bbe\u7f6e\u4e86\u4e0d\u5b58\u5728\u7684name:",t),this.index=e||0},e.prototype.random=function(t,e){if(this.spriteFrames){var o=this.spriteFrames.length;(null==t||t<0)&&(t=0),(null==e||e>o)&&(e=o),this.index=Math.floor(Math.random()*(e-t)+t)}},e.prototype.next=function(){this.index++},e.prototype.previous=function(){this.index--},r([c({type:[cc.SpriteFrame],tooltip:"sprite\u5c06\u4f1a\u7528\u5230\u5e27\u56fe\u7247"})],e.prototype,"spriteFrames",void 0),r([c({tooltip:"\u5f53\u524d\u663e\u793a\u7684\u5e27\u56fe",type:cc.Integer})],e.prototype,"index",null),r([c],e.prototype,"_index",void 0),r([s,l,p(cc.Sprite),h("\u6dfb\u52a0\u7279\u6b8a\u884c\u4e3a/UI/Frame Index(\u5e27\u56fe\u6539\u53d8)")],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],BhvGroupToggle:[function(t,e,o){"use strict";cc._RF.push(e,"68466nNnrlM+6/IPveXpcke","BhvGroupToggle");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=cc._decorator,c=s.ccclass,l=s.property,p=s.menu;(function(t){t[t.CHILDREN_INDEX=0]="CHILDREN_INDEX",t[t.CHILDREN_NAME=1]="CHILDREN_NAME"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.transition=cc.Toggle.Transition.NONE,e.hoverColor=cc.color(255,255,255),e.normalColor=cc.color(214,214,214),e.pressedColor=cc.color(211,211,211),e.disabledColor=cc.color(124,124,124),e.normalSprite=null,e.pressedSprite=null,e.hoverSprite=null,e.disabledSprite=null,e.duration=1,e.zoomScale=1.1,e.paramType=a.CHILDREN_INDEX,e.touchEvents=[],e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.node.children.forEach(function(e,o){var i=e.getComponent(cc.Toggle);i||(i=e.addComponent(cc.Toggle)),i.target=e,i.transition=t.transition,i.zoomScale=t.zoomScale,i.disabledSprite=t.disabledSprite,i.hoverSprite=t.hoverSprite,i.normalSprite=t.normalSprite,i.pressedSprite=t.pressedSprite,i.hoverColor=t.hoverColor,i.normalColor=t.normalColor,i.pressedColor=t.pressedColor,i.disabledColor=t.disabledColor,t.touchEvents.forEach(function(n){var r=new cc.Component.EventHandler;r.target=n.target,r.handler=n.handler,r.component=n.component,r._componentId=n._componentId,t.paramType===a.CHILDREN_INDEX?r.customEventData=o.toString():r.customEventData=e.name,i.clickEvents.push(r)})})},r([l({type:cc.Enum(cc.Toggle.Transition)})],e.prototype,"transition",void 0),r([l({visible:function(){return this.transition===cc.Toggle.Transition.COLOR}})],e.prototype,"hoverColor",void 0),r([l({visible:function(){return this.transition===cc.Toggle.Transition.COLOR}})],e.prototype,"normalColor",void 0),r([l({visible:function(){return this.transition===cc.Toggle.Transition.COLOR}})],e.prototype,"pressedColor",void 0),r([l({visible:function(){return this.transition===cc.Toggle.Transition.COLOR}})],e.prototype,"disabledColor",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Toggle.Transition.SPRITE}})],e.prototype,"normalSprite",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Toggle.Transition.SPRITE}})],e.prototype,"pressedSprite",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Toggle.Transition.SPRITE}})],e.prototype,"hoverSprite",void 0),r([l({type:cc.SpriteFrame,visible:function(){return this.transition===cc.Toggle.Transition.SPRITE}})],e.prototype,"disabledSprite",void 0),r([l({visible:function(){return this.transition===cc.Toggle.Transition.SCALE||this.transition===cc.Toggle.Transition.COLOR}})],e.prototype,"duration",void 0),r([l({visible:function(){return this.transition===cc.Toggle.Transition.SCALE}})],e.prototype,"zoomScale",void 0),r([l({type:cc.Enum(a)})],e.prototype,"paramType",void 0),r([l([cc.Component.EventHandler])],e.prototype,"touchEvents",void 0),r([c,p("\u6dfb\u52a0\u7279\u6b8a\u884c\u4e3a/Input/Toggle Group(\u4e00\u7ec4Toggle\u63a7\u5236)")],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],BhvRollNumber:[function(t,e,o){"use strict";cc._RF.push(e,"39c87s2NPpPz4zl0In9zuDJ","BhvRollNumber");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=cc._decorator,c=s.ccclass,l=s.property,p=s.menu;(function(t){t[t.INTEGER=0]="INTEGER",t[t.FIXED_2=1]="FIXED_2",t[t.TIMER=2]="TIMER",t[t.PERCENTAGE=3]="PERCENTAGE",t[t.KMBT_FIXED2=4]="KMBT_FIXED2",t[t.CUSTOMER=5]="CUSTOMER"})(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.value=0,e.showPlusSymbol=!1,e._targetValue=100,e.lerp=.1,e.playAtStart=!0,e.runWaitTimer=0,e.valueType=a.INTEGER,e._custom_callback=null,e.isScrolling=!1,e._lastLabelText="",e}return n(e,t),Object.defineProperty(e.prototype,"targetValue",{get:function(){return this._targetValue},set:function(t){this._targetValue=t,this.scroll()},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){null==this.label&&(this.label=this.node.getComponent(cc.Label)),this.playAtStart&&(this.updateLabel(),this.scroll())},e.prototype.scroll=function(){var t=this;this.isScrolling||(this.runWaitTimer>0?this.scheduleOnce(function(){t.isScrolling=!0},this.runWaitTimer):this.isScrolling=!0)},e.prototype.stop=function(){this.value=this.targetValue,this.isScrolling=!1,this.updateLabel()},e.prototype.init=function(t,e,o){this.targetValue=e||0,this.value=t||0,this.lerp=o||.1},e.prototype.scrollTo=function(t){null!=t&&(this.targetValue=t)},e.prototype.updateLabel=function(){var t=this.value,e="";switch(this.valueType){case a.INTEGER:e=Math.round(t)+"";break;case a.FIXED_2:e=t.toFixed(2);break;case a.TIMER:e=u(t);break;case a.PERCENTAGE:e=Math.round(100*t)+"%";break;case a.KMBT_FIXED2:e=t>=Number.MAX_VALUE?"MAX":t>1e12?(t/1e12).toFixed(2)+"T":t>1e9?(t/1e9).toFixed(2)+"B":t>1e6?(t/1e6).toFixed(2)+"M":t>1e3?(t/1e3).toFixed(2)+"K":Math.round(t).toString();break;case a.CUSTOMER:this._custom_callback&&(e=this._custom_callback(this.value,this.targetValue))}if(this.showPlusSymbol&&(t>0?e="+"+e:t<0&&(e="-"+e)),this.label){if(e===this.label.string)return;this.label.string=e}},e.prototype.update=function(){if(0!=this.isScrolling)return this.value=cc.misc.lerp(this.value,this.targetValue,this.lerp),this.updateLabel(),Math.abs(this.value-this.targetValue)<=1e-4?(this.value=this.targetValue,void(this.isScrolling=!1)):void 0},r([l({type:cc.Label,tooltip:"\u9700\u8981\u6eda\u52a8\u7684 Label \u7ec4\u4ef6,\u5982\u679c\u4e0d\u8fdb\u884c\u8bbe\u7f6e\uff0c\u5c31\u4f1a\u4ece\u81ea\u5df1\u7684\u8282\u70b9\u81ea\u52a8\u67e5\u627e"})],e.prototype,"label",void 0),r([l({tooltip:"\u5f53\u524d\u7684\u6eda\u52a8\u503c(\u5f00\u59cb\u7684\u6eda\u52a8\u503c)"})],e.prototype,"value",void 0),r([l({tooltip:"\u662f\u5426\u663e\u793a\u6b63\u8d1f\u7b26\u53f7"})],e.prototype,"showPlusSymbol",void 0),r([l({tooltip:"\u6eda\u52a8\u7684\u76ee\u6807\u503c"})],e.prototype,"targetValue",null),r([l],e.prototype,"_targetValue",void 0),r([l({tooltip:"\u6eda\u52a8\u7684\u7ebf\u6027\u5dee\u503c",step:.01,max:1,min:0})],e.prototype,"lerp",void 0),r([l({tooltip:"\u662f\u5426\u5728\u5f00\u59cb\u65f6\u5c31\u64ad\u653e"})],e.prototype,"playAtStart",void 0),r([l({tooltip:"\u5728\u6eda\u52a8\u4e4b\u524d\u4f1a\u7b49\u5f85\u51e0\u79d2",step:.1,max:1,min:0})],e.prototype,"runWaitTimer",void 0),r([l({type:cc.Enum(a),tooltip:"\u662f\u5426\u5728\u5f00\u59cb\u65f6\u5c31\u64ad\u653e"})],e.prototype,"valueType",void 0),r([c,p("\u6dfb\u52a0\u7279\u6b8a\u884c\u4e3a/UI/Roll Number (\u6eda\u52a8\u6570\u5b57)")],e)}(cc.Component);function u(t,e){void 0===t&&(t=0),void 0===e&&(e=!0);var o=Math.floor(t),i=Math.floor(o/3600),n=Math.floor(o%3600/60),r=o%60,a=""+n,s=""+r;return r<10&&(s="0"+r),e?(n<10&&(a="0"+n),i+":"+a+":"+s):(a=""+(n+60*i),n<10&&(a="0"+n),a+":"+s)}o.default=h,cc._RF.pop()},{}],BhvSwitchPage:[function(t,e,o){"use strict";cc._RF.push(e,"e5254b495BMIb5ZD5AQZcBi","BhvSwitchPage");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=a.executeInEditMode,p=a.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoopPage=!1,e._index=0,e.preIndex=0,e._isChanging=!1,e}return n(e,t),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){if(!this.isChanging){t=Math.round(t);var e=this.node.childrenCount-1;this.isLoopPage?(t>e&&(t=0),t<0&&(t=e)):(t>e&&(t=e),t<0&&(t=0)),this.preIndex=this._index,this._index=t,this._updatePage(t)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isChanging",{get:function(){return this._isChanging},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.preIndex=this.index},e.prototype._updateEditorPage=function(){},e.prototype._updatePage=function(){var t=this.node.children,e=this.preIndex,o=this.index;if(e!==o){var i=t[e],n=t[o];i.active=!1,n.active=!0}},e.prototype.next=function(){return!this.isChanging&&(this.index++,!0)},e.prototype.previous=function(){return!this.isChanging&&(this.index--,!0)},e.prototype.setEventIndex=function(t,e){return this.index>=0&&null!=this.index&&!1===this.isChanging&&(this.index=e,!0)},r([c],e.prototype,"isLoopPage",void 0),r([c],e.prototype,"_index",void 0),r([c({type:cc.Integer})],e.prototype,"index",null),r([s,l,p("\u6dfb\u52a0\u7279\u6b8a\u884c\u4e3a/UI/Switch Page (\u5207\u6362\u9875\u9762)")],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],CenterManager:[function(t,e,o){"use strict";cc._RF.push(e,"7c4408GeyVLYL2nCzl2UIcs","CenterManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.CenterManager=void 0;var a=t("../abstract/Manager"),s=t("../define/enum"),c=t("./ScrollManager"),l=t("./ViewManager"),p=cc._decorator,h=p.ccclass,u=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._enabled=!1,e.duration=1,e.containerAnchorPoint=0,e.elementAnchorPoint=0,e}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){var t=this.getContainerOffset(this.containerAnchorPoint);return this.adapter.isArrangeAxisStart?t:this.adapter.mainAxisSize-t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){var t=this.getContainerOffset(this.containerAnchorPoint);return this.adapter.isArrangeAxisStart?this.adapter.mainAxisSize-t:t},enumerable:!1,configurable:!0}),e.prototype.getContainerOffset=function(t){void 0===t&&(t=this.containerAnchorPoint);var e;return e=this.adapter.isHorizontal?-1==this.adapter.multiplier?t:1-t:1==this.adapter.multiplier?t:1-t,this.adapter.mainAxisSize*e},e.prototype.getElementOffset=function(t){return void 0===t&&(t=this.elementAnchorPoint),this.adapter.isHorizontal?-1==this.adapter.multiplier?t:1-t:1==this.adapter.multiplier?t:1-t},e.prototype.onInit=function(){this.adapter.scrollManager.on(c.ScrollManager.Event.ON_ABOUT_TO_STOP,this._onAboutToStop,this),this.adapter.viewManager.on(l.ViewManager.Event.ON_UPDATE_VIEWS,this.scrollToCenter,this,!0)},e.prototype._onAboutToStop=function(){this.scrollToCenter()},e.prototype.scrollToCenter=function(t){if(void 0===t&&(t=this.duration),this.enabled){var e=this.getCenterVisibleIndex();if(-1!=e){var o=this.adapter.viewManager.getVisibleView(e);this.adapter.scrollManager.scrollToGroupIndex(t,o.index)}}},e.prototype.getCenterVisibleIndex=function(t,e){void 0===t&&(t=this.containerAnchorPoint),void 0===e&&(e=this.elementAnchorPoint);for(var o=this.adapter.mainAxis,i=this.getContainerOffset(t),n=-1,r=Number.MAX_SAFE_INTEGER,a=0;a<this.adapter.viewManager.visibleLength;a++){var s=this.adapter.viewManager.getVisibleView(a);if(!s||!s.group)break;var c={x:s.group.position.x,y:s.group.position.y};c[o]-=this.adapter.multiplier*s.group.size[o]*e;var l=this.adapter.scrollManager.content.convertToWorldSpaceAR(cc.v3(c.x,c.y)),p=this.adapter.scrollManager.view.convertToNodeSpaceAR(l),h=Math.abs(p[o]+this.adapter.multiplier*i);h<r&&(r=h,n=a)}return n},e.prototype.getPositionByGroupIndex=function(t,e,o){void 0===e&&(e=s.AlwaysScroll.Auto),void 0===o&&(o=!1);var i=this.adapter.viewManager.getGroup(t);if(!i)return null;var n=null;if(e==s.AlwaysScroll.Header&&this.adapter.viewManager.loopHeader)o&&(n=this._checkExists(t)),null==n&&(n=this._alwaysHeader(t,i));else if(e==s.AlwaysScroll.Footer&&this.adapter.viewManager.loopFooter)o&&(n=this._checkExists(t)),null==n&&(n=this._alwaysFooter(t,i));else if(null==(n=this._checkExists(t))){var r=this.adapter.viewManager.header,a=this.adapter.viewManager.footer;r?t>a.index?n=this._calcTargetFooter(a.group,a.index+1,t,i):t<r.index&&(n=this._calcTargetHeader(r.group,r.index-1,t,i)):n={position:i.position[this.adapter.mainAxis],size:i.size[this.adapter.mainAxis],anchor:i.anchorPoint[this.adapter.mainAxis]}}return this._convertTargetToPosition(n)},e.prototype._convertTargetToPosition=function(t){var e=null;if(t){var o=this.adapter.multiplier,i=-1==o?t.anchor:1-t.anchor;e=-t.position,e-=this.getContainerOffset()*o,e-=t.size*i*o,e+=t.size*this.getElementOffset()*o}return e},e.prototype._checkExists=function(t){var e=this.adapter.viewManager.getVisibleIndexByGroupIndex(t);if(-1!=e){var o=this.adapter.viewManager.getVisibleView(e);return{position:o.group.position[this.adapter.mainAxis],size:o.group.size[this.adapter.mainAxis],anchor:o.group.anchorPoint[this.adapter.mainAxis]}}return null},e.prototype._calcTargetFooter=function(t,e,o,i){for(var n=this.adapter.viewManager.internal_getInitFooterSize(t),r=e;r<=o;r++)n+=this.adapter.viewManager.internal_accumulationSize(r);return{position:this.adapter.viewManager.internal_convertSizeToFooterPosition(n,i),size:i.size[this.adapter.mainAxis],anchor:i.anchorPoint[this.adapter.mainAxis]}},e.prototype._calcTargetHeader=function(t,e,o,i){for(var n=this.adapter.viewManager.internal_getInitHeaderSize(t),r=e;r>=o;r--)n+=this.adapter.viewManager.internal_accumulationSize(r);return{position:this.adapter.viewManager.internal_convertSizeToHeaderPosition(n,i),size:i.size[this.adapter.mainAxis],anchor:i.anchorPoint[this.adapter.mainAxis]}},e.prototype._alwaysHeader=function(t,e){var o=0,i=t,n=this.adapter.viewManager.header;return n&&(o=this.adapter.viewManager.internal_getInitHeaderSize(n.group),i=n.index),t!=i&&(o=this._calcSizeToHeader(i,t,o)),{position:this.adapter.viewManager.internal_convertSizeToHeaderPosition(o,e),size:e.size[this.adapter.mainAxis],anchor:e.anchorPoint[this.adapter.mainAxis]}},e.prototype._alwaysFooter=function(t,e){var o=0,i=t,n=this.adapter.viewManager.footer;return n&&(o=this.adapter.viewManager.internal_getInitFooterSize(n.group),i=n.index),t!=i&&(o=this._calcSizeToFooter(i,t,o)),{position:this.adapter.viewManager.internal_convertSizeToFooterPosition(o,e),size:e.size[this.adapter.mainAxis],anchor:e.anchorPoint[this.adapter.mainAxis]}},e.prototype._calcSizeToHeader=function(t,e,o){for(;;){if(--t<0){if(!this.adapter.viewManager.loopHeader)return o;t=this.adapter.viewManager.groupLength-1}if(o+=this.adapter.viewManager.internal_accumulationSize(t),e==t)return o}},e.prototype._calcSizeToFooter=function(t,e,o){for(;;){if(++t>=this.adapter.viewManager.groupLength){if(!this.adapter.viewManager.loopFooter)return o;t=0}if(o+=this.adapter.viewManager.internal_accumulationSize(t),t==e)return o}},r([u()],e.prototype,"_enabled",void 0),r([u()],e.prototype,"enabled",null),r([u({visible:function(){return this.enabled},tooltip:"\u81ea\u52a8\u5c45\u4e2d\u52a8\u753b\u7684\u65f6\u957f"})],e.prototype,"duration",void 0),r([u({range:[0,1],slide:!0,step:.1,tooltip:"\u5bb9\u5668(view)\u7684\u951a\u70b9,\u5f53\u6eda\u52a8\u505c\u6b62\u65f6,\u5143\u7d20\u951a\u70b9\u4f4d\u7f6e\u4f1a\u548c\u5bb9\u5668\u951a\u70b9\u4f4d\u7f6e\u91cd\u5408"})],e.prototype,"containerAnchorPoint",void 0),r([u({range:[0,1],slide:!0,step:.1,tooltip:"\u5143\u7d20(item)\u7684\u951a\u70b9\u4f4d\u7f6e,\u5f53\u6eda\u52a8\u505c\u6b62\u65f6,\u5143\u7d20\u951a\u70b9\u4f4d\u7f6e\u4f1a\u548c\u5bb9\u5668\u951a\u70b9\u4f4d\u7f6e\u91cd\u5408"})],e.prototype,"elementAnchorPoint",void 0),r([h("CenterManager")],e)}(a.Manager);o.CenterManager=d,cc._RF.pop()},{"../abstract/Manager":"Manager","../define/enum":"enum","./ScrollManager":"ScrollManager","./ViewManager":"ViewManager"}],ConfigModule:[function(t,e,o){"use strict";cc._RF.push(e,"7f1bb3QIGxEt4D/quJRPhPU","ConfigModule"),Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigModule=void 0;var i=function(){function t(){}return t.WS_URL_TEST="wss://dts.dking2022.com:24577/ws",t.HTTP_URL_TEST="https://dts.dking2022.com:28100",t.WS_URL_DEV="wss://dts.dking2022.com:24577/ws",t.HTTP_URL_DEV="https://dts.dking2022.com:28100",t.SHARE_URL="",t.VERSION="v1.0.1",t.SHOW_LOG=!0,t.IS_TEST=!1,t.APPID="",t.UNIVERSAL_LINK="",t}();o.ConfigModule=i,cc._RF.pop()},{}],CsjTool:[function(t,e,o){"use strict";cc._RF.push(e,"d340fDOUbRPdrvglgnDydg2","CsjTool"),Object.defineProperty(o,"__esModule",{value:!0}),o.CsjPlugin=void 0;var i=t("../../utils/Log"),n=function(){function t(){}return t.setOtherName=function(t){this.isAndroid?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","registId","(Ljava/lang/String;I)V",t,Date.now()):this.isIOS?jsb.reflection.callStaticMethod("AppController","setJPushAlias:",t):i.Log.error("\u53ea\u6709android\u548cIOS\u6709\u6781\u5149")},t.isAndroid=cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID,t.isIOS=cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS,t}();o.CsjPlugin=n,cc.CsjPlugin=n,cc._RF.pop()},{"../../utils/Log":"Log"}],DrawBorad:[function(t,e,o){"use strict";cc._RF.push(e,"b2cc63r29VAcKgTdFRDKu68","DrawBorad");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./DrawingBoard"),s=cc._decorator,c=s.ccclass,l=s.property,p=s.menu,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ndBroad=null,e.penWidth=5,e.reaserWidth=20,e._drawingBroad=null,e._texture=new cc.Texture2D,e._sprite=null,e.broadYMax=-1,e.broadXMin=-1,e._touching=!1,e}return n(e,t),e.prototype.onLoad=function(){this.ndBroad||(this.ndBroad=this.node),this._sprite=this.ndBroad.getComponent(cc.Sprite),this._sprite||(this._sprite=this.ndBroad.addComponent(cc.Sprite)),this._drawingBroad=new a.default(this.ndBroad.width,this.ndBroad.height),this._drawingBroad.setColor(0,0,0,255),this._drawingBroad.setLineWidth(this.penWidth),this._touching=!1;var t=this.ndBroad.convertToWorldSpaceAR(cc.v2(0,0));this.broadYMax=t.y+this.ndBroad.height/2,this.broadXMin=t.x-this.ndBroad.width/2,this.ndBroad.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.ndBroad.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.ndBroad.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.ndBroad.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.start=function(){},e.prototype.setData=function(t){this._drawingBroad.setData(t),this.updateTexture(this._drawingBroad.getData(),this.ndBroad.width,this.ndBroad.height)},e.prototype.touchStart=function(t){if(!this._touching){this._touching=!0;var e=t.getLocation();this._drawingBroad.moveTo(e.x-this.broadXMin,this.getRealY(e.y))}},e.prototype.touchMove=function(t){if(this._touching){var e=t.getLocation();this._drawingBroad.lineTo(e.x-this.broadXMin,this.getRealY(e.y)),this.updateTexture(this._drawingBroad.getData(),this.ndBroad.width,this.ndBroad.height)}},e.prototype.touchCancel=function(){this._touching=!1},e.prototype.touchEnd=function(){this._touching=!1},e.prototype.onDestroy=function(){this.ndBroad.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.ndBroad.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.ndBroad.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),this.ndBroad.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.setColor=function(t,e,o,i){this._drawingBroad.setColor(t,e,o,i)},e.prototype.setLineWidth=function(t){this._drawingBroad.setLineWidth(t)},e.prototype.setPen=function(){this.setColor(0,0,0,255),this.setLineWidth(this.penWidth)},e.prototype.setReaser=function(){this.setColor(0,0,0,0),this.setLineWidth(this.reaserWidth)},e.prototype.getTexture=function(){return this._texture},e.prototype.updateTexture=function(t,e,o){this._texture.initWithData(t,cc.Texture2D.PixelFormat.RGBA8888,e,o),this._sprite.spriteFrame.setTexture(this._texture),this._sprite.markForRender(!0)},e.prototype.getRealY=function(t){return this._sprite.spriteFrame._flipY?this.broadYMax-(cc.visibleRect.height-t):this.broadYMax-t},r([l(cc.Node)],e.prototype,"ndBroad",void 0),r([l({type:cc.Integer,displayName:"\u753b\u7b14\u7c97\u7ec6"})],e.prototype,"penWidth",void 0),r([l({type:cc.Integer,displayName:"\u6a61\u76ae\u7c97\u7ec6"})],e.prototype,"reaserWidth",void 0),r([c,p("\u753b\u677f/DrawBorad")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./DrawingBoard":"DrawingBoard"}],DrawingBoard:[function(t,e,o){"use strict";cc._RF.push(e,"d27abuHaOlKM7HWJE9w84jQ","DrawingBoard"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,e,o){this.init(t,e,o)}return Object.defineProperty(t.prototype,"width",{get:function(){return this._witdh},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e,o){this.tempColor=this.tempR=this.tempG=this.tempB=this.tempA=0,this.curColor=0,this._witdh=Math.round(t),this._height=Math.round(e),this.initPointColor(),this.initPixelColor(),this.initLineData(),o&&this.setData(o)},t.prototype.initPointColor=function(){this.pointColor||(this.pointColor=[]);for(var t=0;t<this.width;++t){this.pointColor[t]||(this.pointColor[t]=[]);for(var e=0;e<this.height;++e)this.pointColor[t][e]=0}this.colorCount={},this.colorCount[0]=this.width*this.height},t.prototype.initPixelColor=function(){this.buffer=new ArrayBuffer(this.width*this.height*4),this.pixelColor=new Uint8Array(this.buffer),this.pixelColor.fill(0)},t.prototype.reset=function(){this.resetPointColor(),this.resetPixelColor()},t.prototype.resetPointColor=function(){for(var t=this.width-1;t>=0;--t)for(var e=this.height-1;e>=0;--e)this.pointColor[t][e]=0;for(var o in this.colorCount)this.colorCount[o]=0},t.prototype.resetPixelColor=function(){this.pixelColor.fill(0)},t.prototype.setData=function(t){var e=new Uint8Array(t);e.length!=this.width*this.height*4&&(console.warn("\u753b\u677f\u8bbe\u7f6e\u6570\u636e\u5931\u8d25\uff0c\u6570\u636e\u957f\u5ea6\u4e0e\u753b\u677f\u5927\u5c0f\u4e0d\u4e00\u81f4\u3002"),e=e.subarray(0,this.width*this.height*4)),this.setPixelColorByRGBA(e),this.setPointColorByRGBA(e)},t.prototype.setPixelColorByRGBA=function(t){this.pixelColor.set(t)},t.prototype.setPointColorByRGBA=function(t){this.colorCount={};for(var e=0;e<this.height;++e)for(var o=e*this.width*4,i=0;i<this.width;++i){var n=this.convertToNumber(t[o++],t[o++],t[o++],t[o++]);this.pointColor[i][e]=n,this.colorCount[n]?this.colorCount[n]+=1:this.colorCount[n]=1}},t.prototype.copyData=function(t){void 0===t&&(t=[]);for(var e=0,o=this.pixelColor.length;e<o;++e)t[e]=this.pixelColor[e];return t},t.prototype.getData=function(){return this.pixelColor},t.prototype.getBuffer=function(){return this.buffer},t.prototype.getColorCount=function(t,e,o,i){void 0===i&&(i=255);var n=this.convertToNumber(t,e,o,i);return this.colorCount[n]},t.prototype.setColor=function(t,e,o,i){void 0===i&&(i=255),this.curColor=this.convertToNumber(t,e,o,i),this.colorCount[this.curColor]||(this.colorCount[this.curColor]=0),this.tempColor=this.curColor,this.tempR=t,this.tempG=e,this.tempB=o,this.tempA=i},t.prototype.clear=function(){this.reset()},t.prototype.initLineData=function(){this.previousLineEndPos=new n,this.previousLineEndPosT=new n,this.previousLineEndPosB=new n,this.previousLineCircleEnd=!0,this.previousLineWidth=1},t.prototype.moveTo=function(t,e){t=Math.round(t),e=Math.round(e),this.previousLineEndPos.set(t,e),this.previousLineEndPosT.set(t,e),this.previousLineEndPosB.set(t,e)},t.prototype.setLineWidth=function(t){this.previousLineWidth=t},t.prototype.setLineCircleEnd=function(t){this.previousLineCircleEnd=t},t.prototype.line=function(t,e,o,i){if(t=Math.round(t),o=Math.round(o),e=Math.round(e),i=Math.round(i),t!=o||e!=i){var r=this.previousLineWidth,a=this.previousLineCircleEnd;this.previousLineEndPos.set(o,i);var s=0,c=0,l=1;if(t==o)s=Math.round(.5*r);else if(e==i)c=Math.round(.5*r);else{var p=(i-e)/(o-t);c=.5*r/(l=Math.sqrt(p*p+1)),s=Math.round(c*p),c=Math.round(c)}this.previousLineEndPosT.set(o-s,i+c),this.previousLineEndPosB.set(o+s,i-c);var h=new n(t,e),u=new n(o,i);t>o&&(h.x=o,h.y=i,u.x=t,u.y=e),this._drawLine(h,u,r,s,c,l),a&&(this._drawCircle(t,e,.5*r),this._drawCircle(o,i,.5*r))}},t.prototype.lineTo=function(t,e){if(t=Math.round(t),e=Math.round(e),this.previousLineEndPos.x!=t||this.previousLineEndPos.y!=e){var o=this.previousLineWidth,i=this.previousLineCircleEnd,r=this.previousLineEndPos.x,a=this.previousLineEndPos.y,s=t,c=e;r>s&&(r=s,a=c,s=this.previousLineEndPos.x,c=this.previousLineEndPos.y);var l=0,p=0,h=1;if(r==s)l=Math.round(.5*o);else if(a==c)p=Math.round(.5*o);else{var u=(c-a)/(s-r);p=.5*o/(h=Math.sqrt(u*u+1)),l=Math.round(p*u),p=Math.round(p)}if(i)this._drawCircle(r,a,.5*o),this._drawCircle(s,c,.5*o);else if(this.previousLineEndPos.x!=this.previousLineEndPosT.x||this.previousLineEndPos.y!=this.previousLineEndPosT.y){var d=new n(this.previousLineEndPos.x-l,this.previousLineEndPos.y+p),f=new n(this.previousLineEndPos.x+l,this.previousLineEndPos.y-p);this._drawTriangle([d,f,this.previousLineEndPosT]),this._drawTriangle([d,f,this.previousLineEndPosB])}this._drawLine(new n(r,a),new n(s,c),o,l,p,h),this.previousLineEndPos.set(t,e),this.previousLineEndPosT.set(t-l,e+p),this.previousLineEndPosB.set(t+l,e-p)}},t.prototype._drawLine=function(t,e,o,i,r,a){if(t.y==e.y){var s=t.x<e.x?t.x:e.x;this._drawRect(new n(s,Math.round(t.y-.5*o)),Math.abs(t.x-e.x),o)}else if(t.x==e.x){var c=t.y<e.y?t.y:e.y;this._drawRect(new n(Math.round(t.x-.5*o),c),o,Math.abs(t.y-e.y))}else{var l=(t.x-e.x)/(t.y-e.y),p=new n(t.x-i,t.y+r),h=new n(t.x+i,t.y-r),u=new n(e.x-i,e.y+r),d=new n(e.x+i,e.y-r),f=new n,_=new n,g=Math.round(o*a);e.y>t.y?h.x<u.x?(f.x=h.x,f.y=h.y+g,_.x=u.x,_.y=u.y-g,this._drawVerticalTriangle(f,h,p),this._drawParallelogram(h,_,g),this._drawVerticalTriangle(u,_,d)):(f.x=h.x,f.y=Math.round(u.y-(f.x-u.x)*l),_.x=u.x,_.y=Math.round(h.y+(h.x-_.x)*l),this._drawVerticalTriangle(u,_,p),this._drawParallelogram(_,h,u.y-_.y),this._drawVerticalTriangle(f,h,d)):p.x<d.x?(f.x=p.x,f.y=p.y-g,_.x=d.x,_.y=d.y+g,this._drawVerticalTriangle(p,f,h),this._drawParallelogram(f,d,g),this._drawVerticalTriangle(_,d,u)):(f.x=p.x,f.y=Math.round(d.y-(f.x-d.x)*l),_.x=d.x,_.y=Math.round(p.y+(p.x-_.x)*l),this._drawVerticalTriangle(_,d,h),this._drawParallelogram(d,f,p.y-f.y),this._drawVerticalTriangle(p,f,u))}},t.prototype.rect=function(t,e,o,i){this._drawRect(new n(t,e),o,i)},t.prototype._drawRect=function(t,e,o){for(var i=this.clampX(t.x),n=this.clampX(t.x+e),r=this.clampY(t.y),a=this.clampY(t.y+o),s=r;s<=a;++s)this._drawRowPixel(i,n,s)},t.prototype._drawParallelogram=function(t,e,o){if(t.x!=e.x)for(var i=(e.y-t.y)/(e.x-t.x),n=this._minX(t.x),r=this._maxX(e.x),a=n;a<=r;++a){var s=t.y+Math.round((a-t.x)*i),c=s+o;s=this._minY(s),c=this._maxY(c),this._drawColPixel(s,c,a)}},t.prototype.triangle=function(t,e,o,i,r,a){var s=[];s.push(new n(t,e)),s.push(new n(o,i)),s.push(new n(r,a)),this._drawTriangle(s)},t.prototype._drawTriangle=function(t){t.sort(function(t,e){return t.x-e.x});var e=t[0],o=t[1],i=t[2];if(e.x==o.x){if(e.x==i.x)return;return e.y<o.y&&(e=t[1],o=t[0]),void this._drawVerticalTriangle(e,o,i)}var r=(i.y-e.y)/(i.x-e.x),a=new n(o.x,Math.round(e.y+(o.x-e.x)*r));a.y!=o.y&&(a.y<o.y?(this._drawVerticalTriangle(o,a,e),this._drawVerticalTriangle(o,a,i)):(this._drawVerticalTriangle(a,o,e),this._drawVerticalTriangle(a,o,i)))},t.prototype._drawVerticalTriangle=function(t,e,o){if(o.x!=t.x){var i=(o.y-t.y)/(o.x-t.x),n=(o.y-e.y)/(o.x-e.x),r=o.x,a=t.x;r<a&&(r=t.x,a=o.x),a=this._minX(a),r=this._maxX(r);for(var s=a;s<=r;++s){var c=this.clampY(Math.round(t.y+(s-t.x)*i)),l=this.clampY(Math.round(e.y+(s-e.x)*n));this._drawColPixel(l,c,s)}}},t.prototype.circle=function(t,e,o){t=Math.round(t),e=Math.round(e),this._drawCircle(t,e,o)},t.prototype._drawCircle=function(t,e,o){if(0!=(o=Math.round(o)))for(var i=o*o,n=this.clampY(e-o),r=this.clampY(e+o),a=n;a<=r;++a){var s=a-e;s=Math.round(Math.sqrt(i-s*s));var c=this.clampX(t-s),l=this.clampX(t+s);this._drawRowPixel(c,l,a)}},t.prototype._minX=function(t){return t>=0?t:0},t.prototype._maxX=function(t){return t<this.width?t:this.width-1},t.prototype._minY=function(t){return t>=0?t:0},t.prototype._maxY=function(t){return t<this.height?t:this.height-1},t.prototype.clampX=function(t){return t<0?0:t>=this.width?this.width-1:t},t.prototype.clampY=function(t){return t<0?0:t>=this.height?this.height-1:t},t.prototype._drawPixel=function(t,e){if(this.pointColor[t][e]!=this.tempColor){var o=4*(e*this.width+t);this.pixelColor[o]=this.tempR,this.pixelColor[o+1]=this.tempG,this.pixelColor[o+2]=this.tempB,this.pixelColor[o+3]=this.tempA;var i=this.pointColor[t][e];this.colorCount[i]--,this.colorCount[this.tempColor]++,this.pointColor[t][e]=this.tempColor}},t.prototype._drawRowPixel=function(t,e,o){for(var i=4*(o*this.width+t),n=t;n<=e;++n){if(this.pointColor[n][o]!=this.tempColor){this.pixelColor[i]=this.tempR,this.pixelColor[i+1]=this.tempG,this.pixelColor[i+2]=this.tempB,this.pixelColor[i+3]=this.tempA;var r=this.pointColor[n][o];this.colorCount[r]--,this.colorCount[this.tempColor]++,this.pointColor[n][o]=this.tempColor}i+=4}},t.prototype._drawColPixel=function(t,e,o){for(var i=4*(t*this.width+o),n=t;n<=e;++n){if(this.pointColor[o][n]!=this.tempColor){this.pixelColor[i]=this.tempR,this.pixelColor[i+1]=this.tempG,this.pixelColor[i+2]=this.tempB,this.pixelColor[i+3]=this.tempA;var r=this.pointColor[o][n];this.colorCount[r]--,this.colorCount[this.tempColor]++,this.pointColor[o][n]=this.tempColor}i+=4*this.width}},t.prototype.convertToNumber=function(t,e,o,i){return void 0===i&&(i=255),(254&t)<<23|e<<16|o<<8|i},t.prototype.convertToRGBA=function(t){return{r:(4009754624&t)>>23,g:(16711680&t)>>16,b:(65280&t)>>8,a:255&t}},t}();o.default=i;var n=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){"number"==typeof t?(this.x=t,this.y=e):(this.x=t.x,this.y=t.y)},t}();cc._RF.pop()},{}],EventConst:[function(t,e,o){"use strict";cc._RF.push(e,"62b29hAAl1CxKDivknegsV+","EventConst"),Object.defineProperty(o,"__esModule",{value:!0}),o.VideoEvent=o.GameEvent=void 0;var i=function(){function t(){}return t.SET_DOORS="SET_DOORS",t.RANK_TAB_CHANGE="RANK_TAB_CHANGE",t.RANK_PAGE_1="RANK_PAGE_1",t.RANK_PAGE_2="RANK_PAGE_2",t.CLOSE_GAME="CLOSE_GAME",t.OPEN_GAME="OPEN_GAME",t.COIN_SCALE="COIN_SCALE",t}();o.GameEvent=i;o.VideoEvent=function(){},cc._RF.pop()},{}],EventMng:[function(t,e,o){"use strict";cc._RF.push(e,"9349fbv8BlF870yiY+l5lmA","EventMng"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=new cc.EventTarget,cc._RF.pop()},{}],FrameEventConst:[function(t,e,o){"use strict";cc._RF.push(e,"a97ffjjnoFCqZiD9wouPq7l","FrameEventConst"),Object.defineProperty(o,"__esModule",{value:!0}),o.FrameEventConst=void 0;var i=function(){function t(){}return t.SERVER_TIME_CHANGE="SERVER_TIME_CHANGE",t.WX_VIDEO_FINISH="WX_VIDEO_FINISH",t.WX_UPLOAD_IMG_SUCCESS="WX_UPLOAD_IMG_SUCCESS",t}();o.FrameEventConst=i,cc._RF.pop()},{}],GameController:[function(t,e,o){"use strict";cc._RF.push(e,"44fb0GtNJBETJLEnhIdcBfw","GameController"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./network/Network"),n=t("./network/SocketDelegate"),r=t("./userData/GameDataCenter"),a=t("./framework/lib/SingletonFactory"),s=function(){function t(){this.network=null,this.socket=null}return t.prototype.init=function(){r.default.initModule(),this.network=a.SingletonFactory.getInstance(i.Network),this.socket=a.SingletonFactory.getInstance(n.SocketDelegate)},t}();o.default=new s,cc._RF.pop()},{"./framework/lib/SingletonFactory":"SingletonFactory","./network/Network":"Network","./network/SocketDelegate":"SocketDelegate","./userData/GameDataCenter":"GameDataCenter"}],GameDataCenter:[function(t,e,o){"use strict";cc._RF.push(e,"0da53w3nbVJRrmOVi2znxBL","GameDataCenter"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../framework/lib/SingletonFactory"),n=t("./../framework/component/ViewModel"),r=t("./SocketModel"),a=t("./AccountModel"),s=t("./RoomInfoModel"),c=t("./RoomChoseModel"),l=function(){function t(){this._tModel=[],this.accountModel=null,this.socketModel=null,this.roomInfoModel=null,this.roomChoseModel=null,t.instance=this}return t.prototype.newModel=function(t){var e=i.SingletonFactory.getInstance(t);return this._tModel.push(e),e},t.prototype.clear=function(){this._tModel.forEach(function(t){t.clear()})},t.prototype.initModule=function(){this.accountModel=this.newModel(a.default),this.socketModel=this.newModel(r.default),this.roomInfoModel=this.newModel(s.default),this.roomChoseModel=this.newModel(c.default),n.VM.add(this.accountModel,"account"),n.VM.add(this.roomInfoModel,"roomInfo"),n.VM.add(this.roomChoseModel,"roomChose")},t}();o.default=new l,window.GameDataCenter=l,cc._RF.pop()},{"../framework/lib/SingletonFactory":"SingletonFactory","./../framework/component/ViewModel":"ViewModel","./AccountModel":"AccountModel","./RoomChoseModel":"RoomChoseModel","./RoomInfoModel":"RoomInfoModel","./SocketModel":"SocketModel"}],Group:[function(t,e,o){"use strict";cc._RF.push(e,"48757UrRxBBIYVG24rV4zSe","Group"),Object.defineProperty(o,"__esModule",{value:!0}),o.Group=void 0;var i=t("../define/enum"),n=function(){function t(t){this._index=-1,this._models=[],this._size={x:0,y:0},this._oldSize={x:0,y:0},this._anchorPoint={x:.5,y:.5},this._position={x:0,y:0},this._oldPosition={x:0,y:0},this._totalMinSize={x:0,y:0},this._totalPreferredSize={x:0,y:0},this._totalFlexibleSize={x:0,y:0},this._isFixed=!1,this._fixedIndex=-1,this._adapter=t,this.internal_reset()}return Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"models",{get:function(){return this._models},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldSize",{get:function(){return this._oldSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchorPoint",{get:function(){return this._anchorPoint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldPosition",{get:function(){return this._oldPosition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalMinSize",{get:function(){return this._totalMinSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalPreferredSize",{get:function(){return this._totalPreferredSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalFlexibleSize",{get:function(){return this._totalFlexibleSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFixed",{get:function(){return this._isFixed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedIndex",{get:function(){return this._fixedIndex},enumerable:!1,configurable:!0}),t.prototype.findModelIndex=function(t){return this.models.findIndex(function(e){return e.index==t})},t.prototype.internal_reset=function(){this._models=[],this._size={x:0,y:0},this._oldSize={x:0,y:0},this._anchorPoint={x:.5,y:.5},this._position={x:0,y:0},this._oldPosition={x:0,y:0},this._totalMinSize={x:0,y:0},this._totalPreferredSize={x:0,y:0},this._totalFlexibleSize={x:0,y:0},this._isFixed=!1,this._fixedIndex=-1,this._setAnchorPoint()},t.prototype.internal_setPosition=function(t){var e=this.adapter.mainAxis;this.oldPosition[e]=this.position[e],this.position[e]=t},t.prototype.internal_setIndex=function(t){this._index=t},t.prototype.internal_insert=function(t,e,o){e.internal_reset();var i=this.models;if(this.internal_reset(),this._fixedIndex=t.fixedIndex,!o)for(var n=0;n<i.length&&(r=i[n]).index<t.modelIndex;n++)if(!this._insertHandler(r,e))return t.modelIndex=r.index,t.fixedIndex=this.isFixed?this.index:t.fixedIndex,!0;for(n=t.modelIndex;n<this.adapter.modelManager.length;n++){var r=this.adapter.modelManager.get(n);if(!this._insertHandler(r,e))return t.modelIndex=r.index,t.fixedIndex=this.isFixed?this.index:t.fixedIndex,r.index}return!1},t.prototype.internal_includes=function(t){for(var e=function(e){var i=t[e];if(-1!=o.models.findIndex(function(t){return t.data==i}))return{value:!0}},o=this,i=0;i<t.length;i++){var n=e(i);if("object"==typeof n)return n.value}return!1},t.prototype._insertHandler=function(t,e){if(e.internal_isWrap(t,this))return e.internal_reset(),!1;e.internal_push(t),t.element.fixed&&(this._isFixed=!0,this._fixedIndex=-1);var o=this.adapter.mainAxis,i=this.adapter.crossAxis;return(!t.element.ignoreLayout||t.element.ignoreLayout&&t.element.placeholder)&&(this.size[o]=Math.max(this.size[o],t.size[o]*t.scale[o])),this.size[i]=this.adapter.crossAxisSize,this.oldSize[o]=this.size[o],this.oldSize[i]=this.size[i],this.models.push(t),!0},t.prototype._setAnchorPoint=function(){switch(this.adapter.viewManager.stretchDirection){case i.StretchDirection.Center:this.anchorPoint[this.adapter.mainAxis]=.5;break;case i.StretchDirection.Header:this.anchorPoint[this.adapter.mainAxis]=1-this.adapter.mainAxisAnchorPoint;break;default:this.anchorPoint[this.adapter.mainAxis]=this.adapter.mainAxisAnchorPoint}},t}();o.Group=n,cc._RF.pop()},{"../define/enum":"enum"}],H5WxSdkTool:[function(t,e,o){"use strict";cc._RF.push(e,"f5afe4LsrNFUYN7nSMvueOk","H5WxSdkTool");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../utils/Log"),a=t("../const/FrameEventConst"),s=t("../lib/base64"),c=t("../lib/crypto"),l=t("../manager/EventMng"),p=function(t){function e(){var e=t.call(this)||this;return e.env={uploadImageUrl:"xxxx",AccessKeySecret:"xxxx",OSSAccessKeyId:"xxxx",timeout:8e4},e}return n(e,t),e.getInstance=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.getSign=function(){var t=location.href.split("#")[0],e={url:encodeURIComponent(t)};this.sendHttpMsg("login/getwxconfig",e,this.setConfig,!1)},e.prototype.setConfig=function(t){var e=this,o=t.data;wx.config({debug:!1,appId:o.appid,timestamp:o.timestamp,nonceStr:o.noncestr,signature:o.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]}),wx.error(function(){r.Log.log("wx.error")}),wx.ready(function(){r.Log.log("wx.ready"),e.shareMessage(),e.shareTimeline()})},e.prototype.shareMessage=function(){wx.ready(function(){wx.updateAppMessageShareData({title:"",desc:"",link:"",imgUrl:"",success:function(){}})})},e.prototype.shareTimeline=function(){wx.ready(function(){wx.updateTimelineShareData({title:"",link:"",imgUrl:"",success:function(){}})})},e.prototype.shareWeibo=function(){wx.onMenuShareWeibo({title:"",desc:"",link:"",imgUrl:"",success:function(){},cancel:function(){}})},e.prototype.previewImage=function(t){wx.previewImage({current:t,urls:[t]})},e.prototype.pay=function(t,e){var o=this;this.payData=t,this.payCallback=e,"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",function(){o.onBridgeReady()},!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",function(){o.onBridgeReady()}),document.attachEvent("onWeixinJSBridgeReady",function(){o.onBridgeReady()})):this.onBridgeReady()},e.prototype.onBridgeReady=function(){var t=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:this.payData.appId,timeStamp:this.payData.timeStamp,nonceStr:this.payData.nonceStr,package:this.payData.package,signType:this.payData.signType,paySign:this.payData.paySign},function(e){"get_brand_wcpay_request:ok"==e.err_msg?(r.Log.log("\u5145\u503c\u6210\u529f"),t.payCallback()):"get_brand_wcpay_request:cancel"==e.err_msg||"get_brand_wcpay_request:fail"==e.err_msg&&r.Log.log("\u5145\u503c\u5931\u8d25",e)})},e.prototype.chooseImage=function(){var t=this;wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){var o=e.tempFilePaths;r.Log.log("tempFilePaths",o);for(var i=t.formatTime(new Date),n=0;n<e.tempFilePaths.length;n++)wx.showLoading({title:"\u4e0a\u4f20\u4e2d"+(n+1)+"/"+e.tempFilePaths.length,mask:!0}),t.uploadFile(e.tempFilePaths[n],"images/"+i+"/",function(t){r.Log.log("======\u4e0a\u4f20\u6210\u529f\u56fe\u7247\u5730\u5740\u4e3a\uff1a",t),l.default.emit(a.FrameEventConst.WX_UPLOAD_IMG_SUCCESS,t),wx.hideLoading()},function(t){r.Log.log("======\u4e0a\u4f20\u5931\u8d25======",t),wx.hideLoading()})}})},e.prototype.uploadFile=function(t,e,o,i){if(!t||t.length<1)wx.showModal({title:"\u56fe\u7247\u9519\u8bef",content:"\u8bf7\u91cd\u8bd5",showCancel:!1});else{r.Log.log("\u4e0a\u4f20\u56fe\u7247.....");var n=e+(new Date).getTime()+Math.floor(150*Math.random())+".png",a=this.env.uploadImageUrl,s=this.env.OSSAccessKeyId,c=this.getPolicyBase64(),l=this.getSignature(c);wx.uploadFile({url:a,filePath:t,name:"file",formData:{key:n,policy:c,OSSAccessKeyId:s,signature:l,success_action_status:"200"},success:function(t){200==t.statusCode?o(a+n):i(new Error("\u4e0a\u4f20\u9519\u8bef:"+JSON.stringify(t)))},fail:function(t){t.wxaddinfo=a,i(t)}})}},e.prototype.getPolicyBase64=function(){var t=new Date;t.setHours(t.getHours()+this.env.timeout);var e={expiration:t.toISOString(),conditions:[["content-length-range",0,5242880]]};return s.base64.encode(JSON.stringify(e))},e.prototype.getSignature=function(t){var e=this.env.AccessKeySecret,o=c.Cryptos.HMAC(t,e,{asBytes:!0});return c.Cryptos.util.bytesToBase64(o)},e.prototype.formatTime=function(t){var e=t.getFullYear(),o=t.getMonth()+1,i=t.getDate();return t.getHours(),t.getMinutes(),t.getSeconds(),[e,o,i].map(this.formatNumber).join("-")},e.prototype.formatNumber=function(t){return(t=t.toString())[1]?t:"0"+t},e}(t("../model/IDataModel").default);o.default=p,cc._RF.pop()},{"../../utils/Log":"Log","../const/FrameEventConst":"FrameEventConst","../lib/base64":"base64","../lib/crypto":"crypto","../manager/EventMng":"EventMng","../model/IDataModel":"IDataModel"}],Holder:[function(t,e,o){"use strict";cc._RF.push(e,"26ef2pkW2VBH4/VYxAirmHu","Holder"),Object.defineProperty(o,"__esModule",{value:!0}),o.Holder=void 0;var i=t("../help/helper"),n=t("../manager/ModelManager"),r=cc._decorator,a=(r.ccclass,r.property,function(){function t(t,e,o){this._fixedIndex=-1,this._oldData=null,this._oldElement=null,this._isCallCreated=!1,this._isLayout=!1,this._node=t,this._code=e,this._adapter=o,this._transform=t}return Object.defineProperty(t.prototype,"node",{get:function(){return this._node},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transform",{get:function(){return this._transform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"view",{get:function(){return this._view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._model&&this._model.data},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fixedIndex",{get:function(){return this._fixedIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldData",{get:function(){return this._oldData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._model&&this._model.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._model&&this._model.index},enumerable:!1,configurable:!0}),t.prototype.internal_visible=function(t,e,o){var i=this;this._view=t,this._model=e,this._oldElement=Object.assign({},e.element),this._model.element.update=this._updateElement.bind(this),this._oldData=this.data,o&&(this.node.active=!0,this._isCallCreated||(this._isCallCreated=!0,this.onCreated()),this.element.fixed&&(this._fixedIndex=this.view.group.models.findIndex(function(t){return t.index==i.model.index})),this.transform.setContentSize(this.model.size.x,this.model.size.y),this.node.setScale(this.model.scale.x,this.model.scale.y),this._register(),this.onVisible(),this._model.update=this._updateHandler.bind(this))},t.prototype._updateElement=function(){this._oldElement.layer!=this.element.layer&&(this.node.parent=this.adapter.scrollManager.getLayerNode(this.element.layer),this._oldElement.layer=this.element.layer),(this._oldElement.wrapAfterMode!=this.element.wrapAfterMode||this._oldElement.wrapBeforeMode!=this.element.wrapBeforeMode||this._oldElement.ignoreLayout!=this.element.ignoreLayout||this.element.ignoreLayout&&this._oldElement.placeholder!=this.element.placeholder)&&(this.adapter.viewManager.internal_updateVisibleView(this.model.index),this._oldElement.wrapAfterMode=this.element.wrapAfterMode,this._oldElement.wrapBeforeMode=this.element.wrapBeforeMode,this._oldElement.ignoreLayout=this.element.ignoreLayout,this._oldElement.placeholder=this.element.placeholder)},t.prototype._updateHandler=function(){this._model.update=function(){},this.onVisible(),this._model.update=this._updateHandler.bind(this)},t.prototype.internal_disable=function(){this.adapter.scrollManager.internal_disableTouchTarget(this.node),this.onDisable(),this._unregister(),this._model.update=function(){},this._model.element.update=function(){},this._view=null,this._model=null,this._fixedIndex=-1,this._isLayout=!1,this._oldData=null,this.node.active=!1},t.prototype.internal_layout=function(){var t={x:this.model.size.x,y:this.model.size.y};this.adapter.layoutManager.isControlMainAxisSize&&(t[this.adapter.mainAxis]=this.model.layoutSize[this.adapter.mainAxis]),this.adapter.layoutManager.isControlCrossAxisSize&&(t[this.adapter.crossAxis]=this.model.layoutSize[this.adapter.crossAxis]),this._isLayout=!0,this.transform.setContentSize(t.x,t.y),this._isLayout=!1,this.node.setPosition(this.model.position.x,this.model.position.y)},t.prototype._register=function(){this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.on(cc.Node.EventType.SCALE_CHANGED,this._onScaleChanged,this),this.node.on(cc.Node.EventType.ANCHOR_CHANGED,this._onAnchorPointChanged,this),this._adapter.modelManager.on(n.ModelManager.Event.ON_UPDATE,this._updateHandler,this)},t.prototype._unregister=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChanged,this),this.node.off(cc.Node.EventType.SCALE_CHANGED,this._onScaleChanged,this),this.node.off(cc.Node.EventType.ANCHOR_CHANGED,this._onAnchorPointChanged,this),this._adapter.modelManager.off(n.ModelManager.Event.ON_UPDATE,this._updateHandler,this)},t.prototype._onSizeChanged=function(){if(!this._isLayout){var t=i.Helper.approximately(this.model.size[this.adapter.mainAxis],i.Helper.sizeToVec(this.transform.getContentSize())[this.adapter.mainAxis]),e=i.Helper.approximately(this.model.size[this.adapter.crossAxis],i.Helper.sizeToVec(this.transform.getContentSize())[this.adapter.crossAxis]);this.model.size.x=this.transform.width,this.model.size.y=this.transform.height,t&&e||this.view.internal_holderChanged(t)}},t.prototype._onScaleChanged=function(){if(this.adapter.layoutManager.controlScaleWidth||this.adapter.layoutManager.controlScaleHeight){var t=i.Helper.approximately(this.model.scale[this.adapter.mainAxis],this.node.scale[this.adapter.mainAxis]),e=i.Helper.approximately(this.model.scale[this.adapter.crossAxis],this.node.scale[this.adapter.crossAxis]);this.model.scale.x=this.node.scaleX,this.model.scale.y=this.node.scaleY,t&&e||this.view.internal_holderChanged(t)}},t.prototype._onAnchorPointChanged=function(){var t=i.Helper.approximately(this.model.anchorPoint[this.adapter.mainAxis],this.transform.getAnchorPoint()[this.adapter.mainAxis]),e=i.Helper.approximately(this.model.anchorPoint[this.adapter.crossAxis],this.transform.getAnchorPoint()[this.adapter.crossAxis]);this.model.anchorPoint.x=this.transform.anchorX,this.model.anchorPoint.y=this.transform.anchorY,t&&e||this.view.internal_holderChanged(t)},t}());o.Holder=a,cc._RF.pop()},{"../help/helper":"helper","../manager/ModelManager":"ModelManager"}],Http:[function(t,e,o){"use strict";cc._RF.push(e,"342ff1eLJhPFpsXPkyJ/H3H","Http");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Http=void 0;var n=cc._decorator,r=n.ccclass,a=(n.property,function(){function t(){}return t.get=function(t,e,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){},i.onerror=function(){e.call(o,"ERROR",i)},i.onprogress=function(){e.call(o,"PROGRESS",i)},i.onloadend=function(){e.call(o,"COMPLETE",i)},i.ontimeout=function(){e.call(o,"TIMEOUT",i)},i.open("GET",t,!0),i.send()},t.catobj=function(t){var e=[];for(var o in t){var i=o+"="+t[o];e.push(i)}return e.join("&")},t.post=function(t,e,o,i){var n=new XMLHttpRequest;n.onreadystatechange=function(){},n.onerror=function(){o.call(i,"ERROR",n)},n.onprogress=function(){o.call(i,"PROGRESS",n)},n.onloadend=function(){o.call(i,"COMPLETE",n)},n.ontimeout=function(){o.call(i,"TIMEOUT",n)},n.open("POST",t,!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(e))},i([r],t)}());o.Http=a,cc._RF.pop()},{}],IDataModel:[function(t,e,o){"use strict";cc._RF.push(e,"b507eDXZNJNq7Wv9lyj+i5K","IDataModel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../GameController"),a=t("../../utils/Log"),s=t("../manager/EventMng"),c=function(t){function e(e){void 0===e&&(e="default");var o=t.call(this,e)||this;return o.registerListeners(),o}return n(e,t),e.prototype.clear=function(){},e.prototype.registerListeners=function(){var t=this.getMessageListeners(),e=function(e){t.hasOwnProperty(e)&&s.default.on(e.toString(),function(o){t[e](o)})};for(var o in t)e(o)},e.prototype.getMessageListeners=function(){return{}},e.prototype.postHttpMsg=function(t,e,o,i){void 0===i&&(i=!0);try{r.default.network.httpPost(t,e,o,i)}catch(n){a.Log.error("send http proto",e,n)}},e.prototype.sendHttpMsg=function(t,e,o,i){void 0===i&&(i=!0);try{r.default.network.httpSend(t,e,o,i)}catch(n){a.Log.error("send http proto",e,n)}},e.prototype.sendSocketMsg=function(t,e,o){try{r.default.socket.send(t,e,o)}catch(i){a.Log.error("send socket proto",e,i)}},e}(t("./ISerialize").default);o.default=c,cc._RF.pop()},{"../../GameController":"GameController","../../utils/Log":"Log","../manager/EventMng":"EventMng","./ISerialize":"ISerialize"}],ISerialize:[function(t,e,o){"use strict";cc._RF.push(e,"f9874ODyStKfZKjktHLxlA8","ISerialize"),Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t){void 0===t&&(t="default"),this.modelName="default",this._dLocalData={},this.modelName=t,this.LoadStorage()}return t.prototype.clear=function(){},t.prototype.LoadStorage=function(){var t=this;if(cc.sys.platform==cc.sys.WECHAT_GAME)wx.getStorage({key:"model_"+this.modelName,success:function(e){var o=JSON.parse(e.data);o&&""!==o?t._dLocalData=o:(t._dLocalData={},t.Save())}});else{var e=JSON.parse(cc.sys.localStorage.getItem("model_"+this.modelName));e&&""!==e?this._dLocalData=e:(this._dLocalData={},this.Save())}},t.prototype.Query=function(t,e){return void 0===e&&(e=null),null!=this._dLocalData[t]?this._dLocalData[t]:e},t.prototype.Set=function(t,e){return!(this._dLocalData[t]&&this._dLocalData[t]==e||(this._dLocalData[t]=e,0))},t.prototype.Save=function(){cc.sys.platform==cc.sys.WECHAT_GAME?wx.setStorage({key:"model_"+this.modelName,data:JSON.stringify(this._dLocalData)}):cc.sys.localStorage.setItem("model_"+this.modelName,JSON.stringify(this._dLocalData))},t}();o.default=i,cc._RF.pop()},{}],Indicator:[function(t,e,o){"use strict";cc._RF.push(e,"8eaaaEkOotGj4EDXygTBiJF","Indicator");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Indicator=void 0;var a=t("../../../userData/EventConst"),s=t("../../../userData/GameDataCenter"),c=t("../../manager/EventMng"),l=t("../abstract/ScrollAdapter"),p=t("../define/enum"),h=t("../manager/PageViewManager"),u=cc._decorator,d=u.ccclass,f=u.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adapterNode=null,e.tabNode=null,e.spriteNode=[],e.indicatorMode=p.IndicatorMode.Normal,e.cellSize=new cc.Size(10,10),e.spacing=10,e._indicators=[],e._layout=null,e._color=new cc.Color,e.adapter=null,e}return n(e,t),Object.defineProperty(e.prototype,"layout",{get:function(){return null==this._layout&&(this._layout=this.getComponent(cc.Layout)||this.addComponent(cc.Layout),this.adapter.isHorizontal?(this._layout.type=cc.Layout.Type.HORIZONTAL,this._layout.spacingX=this.spacing):(this._layout.type=cc.Layout.Type.VERTICAL,this._layout.spacingY=this.spacing),this._layout.resizeMode=cc.Layout.ResizeMode.CONTAINER),this._layout},enumerable:!1,configurable:!0}),e.prototype.__preload=function(){this.adapter=this.adapterNode.getComponent(l.ScrollAdapter),this.adapter&&(this.adapter.pageViewManager.on(h.PageViewManager.Event.ON_PAGE_LENGTH_CHANGED,this._onPageLengthChanged,this),this.adapter.pageViewManager.on(h.PageViewManager.Event.ON_SCROLL_PAGE_END,this._onScrollPageEnd,this))},e.prototype._onScrollPageEnd=function(){this.changedState()},e.prototype._onPageLengthChanged=function(){if(this.adapter){var t=this._indicators,e=this.adapter.viewManager.groupLength;if(e!==t.length){var o=0;if(e>t.length)for(o=0;o<e;++o)t[o]||(t[o]=this._createIndicator(o));else for(o=t.length-e;o>0;--o){var i=t[o-1];this.node.removeChild(i),t.splice(o-1,1)}this.layout&&this.layout.enabledInHierarchy&&this.layout.updateLayout(),this.changedState()}}},e.prototype._createIndicator=function(t){var e=this.spriteNode[t];if(e.parent=this.node,this.indicatorMode==p.IndicatorMode.Button){var o=e.getComponent(cc.Button)||e.addComponent(cc.Button),i=new cc.Component.EventHandler;i.component="Indicator",i.handler="_click",i.target=this.node,i.customEventData=t,o.clickEvents.push(i)}return e},e.prototype._click=function(t,e){this.adapter.pageViewManager.scrollToPage(this.adapter.pageViewManager.pageTurningSpeed,e)},e.prototype.changedState=function(){var t=this._indicators;if(0!==t.length&&this.adapter){var e=this.adapter.pageViewManager.currentIndex;if(c.default.emit(a.GameEvent.RANK_TAB_CHANGE,e),!(e>=t.length)){this.tabNode.stopAllActions(),this.tabNode.runAction(cc.moveTo(.1,cc.v2(t[e].position.x,t[e].position.y)));var o=s.default.accountModel;o.myRankNum=0==e?o.thisRankNum:o.lastRankNum,o.myRankNo=0==e?o.thisRankNo:o.lastRankNo;for(var i=0;i<t.length;++i)t[i].getChildByName("font").color=cc.color(255,255,255);t[e]&&(t[e].getChildByName("font").color=cc.color(146,151,157))}}},r([f(cc.Node)],e.prototype,"adapterNode",void 0),r([f(cc.Node)],e.prototype,"tabNode",void 0),r([f({type:[cc.Node]})],e.prototype,"spriteNode",void 0),r([f({type:p.IndicatorMode})],e.prototype,"indicatorMode",void 0),r([f],e.prototype,"cellSize",void 0),r([f],e.prototype,"spacing",void 0),r([d],e)}(cc.Component);o.Indicator=_,cc._RF.pop()},{"../../../userData/EventConst":"EventConst","../../../userData/GameDataCenter":"GameDataCenter","../../manager/EventMng":"EventMng","../abstract/ScrollAdapter":"ScrollAdapter","../define/enum":"enum","../manager/PageViewManager":"PageViewManager"}],JSBridgeManager:[function(t,e,o){"use strict";cc._RF.push(e,"479b867VXtLtIkKZqPM6f58","JSBridgeManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.JSBridgeManager=void 0;var i=function(){function t(){this.registerFunc("callBack",this.callFromFlutter)}return t.getInstance=function(){return null==t._instance&&(t._instance=new t),this._instance},t.prototype.registerFunc=function(t,e){window.jsBridge?window.jsBridge.registerFuncForFlutter(t,e):document.addEventListener("jsBridgeReady",function(){window.jsWebBridge.registerFuncForFlutter(t,e)},!1)},t.prototype.callFlutterFunc=function(t,e,o){window.jsBridge&&window.jsBridge.callFlutterFunc(t,e,o)},t.prototype.callFromFlutter=function(){},t}();o.JSBridgeManager=i,cc._RF.pop()},{}],JgTool:[function(t,e,o){"use strict";cc._RF.push(e,"e8031RbaMBN1p1keGuyKO2z","JgTool"),Object.defineProperty(o,"__esModule",{value:!0}),o.JPushPlugin=void 0;var i=t("../../utils/Log"),n=function(){function t(){}return t.setOtherName=function(t){this.isAndroid?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","registId","(Ljava/lang/String;I)V",t,Date.now()):this.isIOS?jsb.reflection.callStaticMethod("AppController","setJPushAlias:",t):i.Log.error("\u53ea\u6709android\u548cIOS\u6709\u6781\u5149")},t.isAndroid=cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID,t.isIOS=cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS,t}();o.JPushPlugin=n,cc.JPushPlugin=n,cc._RF.pop()},{"../../utils/Log":"Log"}],JiluAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"ee55ezOwmVL7Kvmo2s5Eh7p","JiluAdapter");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.JiluAdapter=void 0;var c=t("../../../framework/adapter/abstract/Holder"),l=t("../../../framework/adapter/abstract/ScrollAdapter"),p=t("../../../framework/adapter/abstract/View"),h=t("../../../framework/adapter/define/enum"),u=t("../../../framework/adapter/manager/ReleaseManager"),d=t("../../../userData/GameDataCenter"),f=t("./UIJiluItem1"),_=t("./UIJiluItem2"),g=t("./UIJiluItem3"),y=t("./UIJiluItem4"),m=t("./UIJiluItem5"),v=cc._decorator,b=v.ccclass,C=v.menu,M=v.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab1=null,e.prefab2=null,e.prefab3=null,e.prefab4=null,e.prefab5=null,e.header=null,e.loading=null,e._isHeaderPlay=!1,e.page=1,e}return n(e,t),e.prototype.getPrefab=function(t){return 1==t.type?this.prefab1:2==t.type?this.prefab2:3==t.type?this.prefab3:4==t.type?this.prefab4:this.prefab5},e.prototype.getHolder=function(t,e){return new S(t,e,this)},e.prototype.getView=function(){return new O(this)},e.prototype.initElement=function(){},e.prototype.start=function(){return a(this,void 0,void 0,function(){var t,e;return s(this,function(o){switch(o.label){case 0:return this.releaseManager.on(u.ReleaseManager.Event.ON_PULL_UP,this.onPullDown,this),this._headerTween=new cc.Tween(this.header).to(.518,{height:this.releaseManager.bottom*this.mainAxisSize},{easing:"elasticOut"}),this._loadTween=new cc.Tween(this.loading).by(1,{angle:-360}).union().repeatForever(),d.default.accountModel.noMoreJilu=!1,[4,d.default.accountModel.getGameLog()];case 1:return t=o.sent(),this.modelManager.insert(t),[4,d.default.accountModel.getBettingLog(1)];case 2:return e=o.sent(),this.modelManager.insert(e),[2]}})})},e.prototype.onPullDown=function(t){return a(this,void 0,void 0,function(){var e,o;return s(this,function(i){switch(i.label){case 0:return t.state!=h.ReleaseState.RELEASE?[3,2]:this._isHeaderPlay?(this._loadTween.start(),t.wait(),this.page+=1,[4,d.default.accountModel.getBettingLog(this.page)]):[3,2];case 1:e=i.sent(),this.modelManager.insert(e),this.scheduleOnce(function(){t.release()}),this._loadTween.stop(),i.label=2;case 2:return o=t.progress,t.state==h.ReleaseState.WAIT&&(o=.1),o>=.1?this._isHeaderPlay||(this._headerTween.start(),this._isHeaderPlay=!0):(this._headerTween.stop(),this._isHeaderPlay=!1,this.loading.opacity=0),this.loading.angle=-360*t.progress,[2]}})})},e.prototype.scrollToHeader=function(){this.scrollManager.scrollToHeader(1)},r([M(cc.Prefab)],e.prototype,"prefab1",void 0),r([M(cc.Prefab)],e.prototype,"prefab2",void 0),r([M(cc.Prefab)],e.prototype,"prefab3",void 0),r([M(cc.Prefab)],e.prototype,"prefab4",void 0),r([M(cc.Prefab)],e.prototype,"prefab5",void 0),r([M(cc.Node)],e.prototype,"header",void 0),r([M(cc.Node)],e.prototype,"loading",void 0),r([b,C("UI/prefab/JiluAdapter")],e)}(l.ScrollAdapter);o.JiluAdapter=w;var O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onVisible=function(){},e.prototype.onDisable=function(){},e}(p.View),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._chatItem=null,e}return n(e,t),e.prototype.onCreated=function(){this._chatItem=this.node.getComponent(m.default)||this.node.getComponent(y.default)||this.node.getComponent(g.default)||this.node.getComponent(_.default)||this.node.getComponent(f.default)},e.prototype.onVisible=function(){this._chatItem.show(this)},e.prototype.onDisable=function(){this._chatItem.hide()},e}(c.Holder);cc._RF.pop()},{"../../../framework/adapter/abstract/Holder":"Holder","../../../framework/adapter/abstract/ScrollAdapter":"ScrollAdapter","../../../framework/adapter/abstract/View":"View","../../../framework/adapter/define/enum":"enum","../../../framework/adapter/manager/ReleaseManager":"ReleaseManager","../../../userData/GameDataCenter":"GameDataCenter","./UIJiluItem1":"UIJiluItem1","./UIJiluItem2":"UIJiluItem2","./UIJiluItem3":"UIJiluItem3","./UIJiluItem4":"UIJiluItem4","./UIJiluItem5":"UIJiluItem5"}],JsonOb:[function(t,e,o){"use strict";cc._RF.push(e,"668405Qq5BESrb1V1cAn+UY","JsonOb"),Object.defineProperty(o,"__esModule",{value:!0}),o.JsonOb=void 0;var i=t("../../utils/Log"),n=Object.prototype,r={obj:"[object Object]",array:"[object Array]"},a=["push","pop","shift","unshift","sort","reverse","splice"],s=function(){function t(t,e){n.toString.call(t)!==r.obj&&n.toString.call(t)!==r.array&&i.Log.error("\u8bf7\u4f20\u5165\u4e00\u4e2a\u5bf9\u8c61\u6216\u6570\u7ec4"),this._callback=e,this.observe(t)}return t.prototype.observe=function(t,e){var o=this;n.toString.call(t)===r.array&&this.overrideArrayProto(t,e),Object.keys(t).forEach(function(i){var a=o,s=t[i],c=e&&e.slice();c?c.push(i):c=[i],Object.defineProperty(t,i,{get:function(){return s},set:function(t){s!==t&&("[object Object]"===n.toString.call(t)&&a.observe(t,c),a._callback(t,s,c),s=t)}}),n.toString.call(t[i])!==r.obj&&n.toString.call(t[i])!==r.array||o.observe(t[i],c)},this)},t.prototype.overrideArrayProto=function(t,e){var o,i=Array.prototype,n=Object.create(Array.prototype),r=this;a.forEach(function(t){Object.defineProperty(n,t,{value:function(){var n=this.slice();return o=i[t].apply(this,arguments),r.observe(this,e),r._callback(this,n,e),o}})}),t.__proto__=n},t}();o.JsonOb=s,cc._RF.pop()},{"../../utils/Log":"Log"}],LayoutManager:[function(t,e,o){"use strict";cc._RF.push(e,"85d16WqWb9B+5wUAnuXbTmK","LayoutManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LayoutManager=void 0;var a,s=t("../abstract/Manager"),c=t("../define/enum"),l=t("../help/helper"),p=cc._decorator,h=p.ccclass,u=p.property;(function(t){t[t.ON_LAYOUT_COMPLATED=0]="ON_LAYOUT_COMPLATED",t[t.ON_CHANGED_LAYOUT_STATE=1]="ON_CHANGED_LAYOUT_STATE"})(a||(a={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._childAlignment=c.ChildAlignment.UpperLeft,e._spacing=0,e._reverseArrangement=!1,e.delayLayout=!0,e._forceExpandWidth=!1,e._forceExpandHeight=!0,e._controlSizeWidth=!1,e._controlSizeHeight=!1,e._controlScaleWidth=!1,e._controlScaleHeight=!1,e._isDirty=!1,e._layoutQueue=[],e}return n(e,t),Object.defineProperty(e.prototype,"childAlignment",{get:function(){return this._childAlignment},set:function(t){t!=this._childAlignment&&(this._childAlignment=t,this.emit(a.ON_CHANGED_LAYOUT_STATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){t!=this._spacing&&(this._spacing=t,this.emit(a.ON_CHANGED_LAYOUT_STATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reverseArrangement",{get:function(){return this._reverseArrangement},set:function(t){t!=this._reverseArrangement&&(this._reverseArrangement=t,this.emit(a.ON_CHANGED_LAYOUT_STATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"forceExpandWidth",{get:function(){return this._forceExpandWidth},set:function(t){t!=this._forceExpandWidth&&(this._forceExpandWidth=t,this.emit(a.ON_CHANGED_LAYOUT_STATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"forceExpandHeight",{get:function(){return this._forceExpandHeight},set:function(t){t!=this._forceExpandHeight&&(this._forceExpandHeight=t,this.emit(a.ON_CHANGED_LAYOUT_STATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controlSizeWidth",{get:function(){return this._controlSizeWidth},set:function(t){t!=this._controlSizeWidth&&(this._controlSizeWidth=t,this.emit(a.ON_CHANGED_LAYOUT_STATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controlSizeHeight",{get:function(){return this._controlSizeHeight},set:function(t){t!=this._controlSizeHeight&&(this._controlSizeHeight=t,this.emit(a.ON_CHANGED_LAYOUT_STATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controlScaleWidth",{get:function(){return this._controlScaleWidth},set:function(t){t!=this._controlScaleWidth&&(this._controlScaleWidth=t,this.emit(a.ON_CHANGED_LAYOUT_STATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"controlScaleHeight",{get:function(){return this._controlScaleHeight},set:function(t){t!=this._controlScaleHeight&&(this._controlScaleHeight=t,this.emit(a.ON_CHANGED_LAYOUT_STATE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.adapter.isVertical?0:this.adapter.viewManager.top},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.adapter.isVertical?0:this.adapter.viewManager.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.adapter.isHorizontal?0:this.adapter.viewManager.left},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.adapter.isHorizontal?0:this.adapter.viewManager.right},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"horizontal",{get:function(){return this.left+this.right},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return this.top+this.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isControlMainAxisSize",{get:function(){return this.adapter.isHorizontal&&this.controlSizeWidth||this.adapter.isVertical&&this.controlSizeHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isControlCrossAxisSize",{get:function(){return this.adapter.isHorizontal&&this.controlSizeHeight||this.adapter.isVertical&&this.controlSizeWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isControlCrossAxisScale",{get:function(){return this.adapter.isHorizontal&&this.controlScaleHeight||this.adapter.isVertical&&this.controlScaleWidth},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){},e.prototype.layout=function(t){t&&(this.delayLayout?(this.unLayout(t.index),this._layoutQueue.push(t),this._isDirty=!0):(this._layoutHandler(t),this.emit(a.ON_LAYOUT_COMPLATED,[t.index])))},e.prototype.unLayout=function(t){-1!=(t=this._layoutQueue.findIndex(function(e){return e.index==t}))&&this._layoutQueue.splice(t,1)},e.prototype._layoutHandler=function(t){this._calcAlongAxis(t,c.Orientation.Horizontal,this.adapter.isHorizontal),this._setChildrenAlongAxis(t,c.Orientation.Horizontal,this.adapter.isHorizontal),this._calcAlongAxis(t,c.Orientation.Vertical,this.adapter.isHorizontal),this._setChildrenAlongAxis(t,c.Orientation.Vertical,this.adapter.isHorizontal)},e.prototype._calcAlongAxis=function(t,e,o){for(var i=e==c.Orientation.Horizontal?this.horizontal:this.vertical,n=this._getControlSize(e),r=this._getControlScale(e),a=this._getForceExpandSize(e),s=i,l=i,p=0,h=o!=(e==c.Orientation.Vertical),u=this._getLayoutList(t.models),d=0;d<u.length;d++){var f=u[d],_=this._getChildSizes(f,e,n,a),g=_.min,y=_.preferred,m=_.flexible;if(r){var v=f.scale[this._getAxis(e)];g*=v,y*=v,m*=v}h?(s=Math.max(g+i,s),l=Math.max(y+i,l),p=Math.max(m,p)):(s+=g+this.spacing,l+=y+this.spacing,p+=m)}!h&&u.length>0&&(s-=this.spacing,l-=this.spacing),l=Math.max(s,l),this._setLayoutInputForAxis(t,s,l,p,e)},e.prototype._getControlSize=function(t){return t==c.Orientation.Horizontal?this.controlSizeWidth:this.controlSizeHeight},e.prototype._getControlScale=function(t){return t==c.Orientation.Horizontal?this.controlScaleWidth:this.controlScaleHeight},e.prototype._getForceExpandSize=function(t){return t==c.Orientation.Horizontal?this.forceExpandWidth:this.forceExpandHeight},e.prototype._setChildrenAlongAxis=function(t,e,o){var i=t.size[this._getAxis(e)],n=this._getControlSize(e),r=this._getControlScale(e),a=this._getForceExpandSize(e),s=this._getAlignmentOnAxis(e),p=this._getLayoutList(t.models),h=o!=(e==c.Orientation.Vertical),u=this.reverseArrangement?p.length-1:0,d=this.reverseArrangement?0:p.length,f=this.reverseArrangement?-1:1,_=this._getAxis(e);if(h)for(var g=i-(e==c.Orientation.Horizontal?this.horizontal:this.vertical),y=u;this.reverseArrangement?y>=d:y<d;y+=f){var m=p[y],v=this._getChildSizes(m,e,n,a),b=v.min,C=v.preferred,M=v.flexible,w=r?m.scale[_]:1,O=l.Helper.clamp(g,b,M>0?i:C),S=this._getStartOffset(t,e,O*w);if(n)this._setChildAlongAxisWithScale(t,m,e,S,w,O);else{var P=(O-m.size[_])*s;P*=w,this._setChildAlongAxisWithScale(t,m,e,S+P,w)}}else{var A=e==c.Orientation.Horizontal?this.left:this.top,E=0,x=i-this._getTotalPreferredSize(t,e);x>0&&(0==this._getTotalFlexibleSize(t,e)?A=this._getStartOffset(t,e,this._getTotalPreferredSize(t,e)-(e==c.Orientation.Horizontal?this.horizontal:this.vertical)):this._getTotalFlexibleSize(t,e)>0&&(E=x/this._getTotalFlexibleSize(t,e)));var I=0;for(this._getTotalMinSize(t,e)!=this._getTotalPreferredSize(t,e)&&(I=l.Helper.clamp01((i-this._getTotalMinSize(t,e))/(this._getTotalPreferredSize(t,e)-this._getTotalMinSize(t,e)))),y=u;this.reverseArrangement?y>=d:y<d;y+=f){var T=p[y],R=this._getChildSizes(T,e,n,a),N=(b=R.min,C=R.preferred,M=R.flexible,w=r?T.scale[_]:1,l.Helper.lerp(b,C,I));N+=M*E,n?this._setChildAlongAxisWithScale(t,T,e,A,w,N):(P=(N-T.size[_])*s,this._setChildAlongAxisWithScale(t,T,e,A+P,w)),A+=N*w+this.spacing}}},e.prototype._setChildAlongAxisWithScale=function(t,e,o,i,n,r){if(null!=e){var a=this._getAxis(o),s=0;isNaN(r)?s=e.size[a]:(e.layoutSize[a]=r,s=r);var l={x:e.position.x,y:e.position.y},p=0;o==c.Orientation.Horizontal?(p=i+s*e.anchorPoint[a]*n,p-=t.size[a]*t.anchorPoint[a],p+=t.position[a]):(p=-i-s*(1-e.anchorPoint[a])*n,p+=t.size[a]*(1-t.anchorPoint[a]),p+=t.position[a]),l[a]=p,e.position=l}},e.prototype._getStartOffset=function(t,e,o){var i=o+(e==c.Orientation.Horizontal?this.horizontal:this.vertical),n=t.size[this._getAxis(e)]-i,r=this._getAlignmentOnAxis(e);return(e==c.Orientation.Horizontal?this.left:this.top)+n*r},e.prototype._setLayoutInputForAxis=function(t,e,o,i,n){var r=this._getAxis(n);t.totalMinSize[r]=e,t.totalPreferredSize[r]=o,t.totalFlexibleSize[r]=i},e.prototype._getAxis=function(t){return t==c.Orientation.Horizontal?"x":"y"},e.prototype._getMinSize=function(t,e){return t.minSize[this._getAxis(e)]},e.prototype._getPreferredSize=function(t,e){var o=this._getAxis(e);return Math.max(t.minSize[o],t.preferredSize[o])},e.prototype._getFlexibleSize=function(t,e){return t.flexibleSize[this._getAxis(e)]},e.prototype._getTotalMinSize=function(t,e){return t.totalMinSize[this._getAxis(e)]},e.prototype._getTotalPreferredSize=function(t,e){return t.totalPreferredSize[this._getAxis(e)]},e.prototype._getTotalFlexibleSize=function(t,e){return t.totalFlexibleSize[this._getAxis(e)]},e.prototype._getChildSizes=function(t,e,o,i){var n,r,a;return o?(n=this._getMinSize(t.element,e),r=this._getPreferredSize(t.element,e),a=this._getFlexibleSize(t.element,e)):(r=n=t.size[this._getAxis(e)],a=0),i&&(a=Math.max(a,1)),{min:n,preferred:r,flexible:a}},e.prototype._getAlignmentOnAxis=function(t){return t==c.Orientation.Horizontal?this.adapter.layoutManager.childAlignment%3*.5:.5*Math.floor(this.adapter.layoutManager.childAlignment/3)},e.prototype._getLayoutList=function(t){for(var e=[],o=0;o<t.length;o++){var i=t[o];i.element.ignoreLayout||e.push(i)}return e},e.prototype.internal_lateUpdate=function(){if(this._isDirty){this._isDirty=!1;for(var t=[];this._layoutQueue.length>0;){var e=this._layoutQueue.shift();this._layoutHandler(e),t.push(e.index)}t.length>0&&this.emit(a.ON_LAYOUT_COMPLATED,t)}},e.Event=a,r([u({type:c.ChildAlignment})],e.prototype,"_childAlignment",void 0),r([u({type:c.ChildAlignment,tooltip:"\u5e03\u5c40\u5143\u7d20\u7684\u5bf9\u9f50\u65b9\u5f0f"})],e.prototype,"childAlignment",null),r([u()],e.prototype,"_spacing",void 0),r([u({tooltip:"\u5143\u7d20\u4ea4\u53c9\u8f74\u5e03\u5c40\u7684\u95f4\u8ddd"})],e.prototype,"spacing",null),r([u()],e.prototype,"_reverseArrangement",void 0),r([u({tooltip:"\u53cd\u8f6c\u5e03\u5c40"})],e.prototype,"reverseArrangement",null),r([u({tooltip:"\u5ef6\u8fdf\u5e03\u5c40\uff0c\u5f00\u542f\u540e\u4f1a\u7edf\u4e00\u5728\u4e0b\u4e00\u5e27\u5e03\u5c40\uff0c\u5efa\u8bae\u5f00\u542f"})],e.prototype,"delayLayout",void 0),r([u()],e.prototype,"_forceExpandWidth",void 0),r([u({group:{id:"0",name:"forceExpand"},tooltip:"\u662f\u5426\u5f3a\u5236\u5e03\u5c40\u5143\u7d20\u5bbd\u5ea6\u6269\u5c55\u4ee5\u586b\u5145\u989d\u5916\u7684\u53ef\u7528\u7a7a\u95f4"})],e.prototype,"forceExpandWidth",null),r([u()],e.prototype,"_forceExpandHeight",void 0),r([u({group:{id:"0",name:"forceExpand"},tooltip:"\u662f\u5426\u5f3a\u5236\u5e03\u5c40\u5143\u7d20\u9ad8\u5ea6\u6269\u5c55\u4ee5\u586b\u5145\u989d\u5916\u7684\u53ef\u7528\u7a7a\u95f4"})],e.prototype,"forceExpandHeight",null),r([u()],e.prototype,"_controlSizeWidth",void 0),r([u({group:{id:"0",name:"controlSize"},tooltip:"\u5982\u679c\u8bbe\u7f6e\u4e3a false\uff0c\u5e03\u5c40\u53ea\u4f1a\u5f71\u54cd\u5143\u7d20\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u5bbd\u5ea6\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u5143\u7d20\u7684\u5bbd\u5ea6\n\u5982\u679c\u8bbe\u7f6e\u4e3a true\uff0c\u5143\u7d20\u7684\u5bbd\u5ea6\u5c06\u7531\u5e03\u5c40\u6839\u636e\u5b83\u4eec\u5404\u81ea\u7684 IElement.minSize\u3001IElement.preferredSize\u3001IElement.flexibleSize\u81ea\u52a8\u8bbe\u7f6e\u3002\u5982\u679c\u5143\u7d20\u7684\u5bbd\u5ea6\u5e94\u6839\u636e\u53ef\u7528\u7a7a\u95f4\u7684\u5927\u5c0f\u800c\u53d8\u5316\uff0c\u5e94\u5f00\u542f\u6b64\u529f\u80fd\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u80fd\u76f4\u63a5\u8bbe\u7f6e\u6bcf\u4e2a\u5143\u7d20\u7684\u5bbd\u5ea6\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u63a7\u5236\u6bcf\u4e2a\u5143\u7d20\u7684IElement.minSize\u3001IElement.preferredSize\u3001IElement.flexibleSize\u6765\u8fdb\u884c\u63a7\u5236"})],e.prototype,"controlSizeWidth",null),r([u()],e.prototype,"_controlSizeHeight",void 0),r([u({group:{id:"0",name:"controlSize"},tooltip:"\u5982\u679c\u8bbe\u7f6e\u4e3a false\uff0c\u5e03\u5c40\u53ea\u4f1a\u5f71\u54cd\u5143\u7d20\u7684\u4f4d\u7f6e\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u9ad8\u5ea6\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u5143\u7d20\u7684\u9ad8\u5ea6\n\u5982\u679c\u8bbe\u7f6e\u4e3a true\uff0c\u5143\u7d20\u7684\u9ad8\u5ea6\u5c06\u7531\u5e03\u5c40\u6839\u636e\u5b83\u4eec\u5404\u81ea\u7684 IElement.minSize\u3001IElement.preferredSize\u3001IElement.flexibleSize\u81ea\u52a8\u8bbe\u7f6e\u3002\u5982\u679c\u5143\u7d20\u7684\u9ad8\u5ea6\u5e94\u6839\u636e\u53ef\u7528\u7a7a\u95f4\u7684\u5927\u5c0f\u800c\u53d8\u5316\uff0c\u5e94\u5f00\u542f\u6b64\u529f\u80fd\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u80fd\u76f4\u63a5\u8bbe\u7f6e\u6bcf\u4e2a\u5143\u7d20\u7684\u9ad8\u5ea6\uff0c\u4f46\u53ef\u4ee5\u901a\u8fc7\u63a7\u5236\u6bcf\u4e2a\u5143\u7d20\u7684IElement.minSize\u3001IElement.preferredSize\u3001IElement.flexibleSize\u6765\u8fdb\u884c\u63a7\u5236"})],e.prototype,"controlSizeHeight",null),r([u()],e.prototype,"_controlScaleWidth",void 0),r([u({group:{id:"0",name:"controlScale"},tooltip:"\u662f\u5426\u4f7f\u7528 x \u7f29\u653e\u8ba1\u7b97\u5bbd\u5ea6"})],e.prototype,"controlScaleWidth",null),r([u()],e.prototype,"_controlScaleHeight",void 0),r([u({group:{id:"0",name:"controlScale"},tooltip:"\u662f\u5426\u4f7f\u7528 y \u7f29\u653e\u8ba1\u7b97\u9ad8\u5ea6"})],e.prototype,"controlScaleHeight",null),r([h("LayoutManager")],e)}(s.Manager);o.LayoutManager=d,cc._RF.pop()},{"../abstract/Manager":"Manager","../define/enum":"enum","../help/helper":"helper"}],Loading_Layer:[function(t,e,o){"use strict";cc._RF.push(e,"66fe4auSddHg5RPiyWv/p9g","Loading_Layer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labelPercent=null,e.progPercent=null,e}return n(e,t),e.prototype.start=function(){var t=this;cc.view.enableAutoFullScreen(!1),this.labelPercent.string="0%",this.progPercent.progress=0,cc.director.preloadScene("game",function(e,o){var i=e/o*80,n=Math.ceil(Math.max(100*t.progPercent.progress,i));t.labelPercent.string=n+"%",t.progPercent.progress=n/100},function(){cc.tween({num:80}).to(.5,{num:100},{progress:function(e,o,i,n){return t.labelPercent.string=Math.ceil(i)+"%",t.progPercent.progress=i/100,(o-e)*n+e}}).call(function(){cc.director.loadScene("game",function(){})}).start()})},r([c(cc.Label)],e.prototype,"labelPercent",void 0),r([c(cc.ProgressBar)],e.prototype,"progPercent",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Log:[function(t,e,o){"use strict";cc._RF.push(e,"3adacx4eIVM+pyEOpvQHt8S","Log"),Object.defineProperty(o,"__esModule",{value:!0}),o.Log=o.LOG_TAG=void 0,o.LOG_TAG={SOCKET:{desc:"LOG_SOCKET",isOpen:!0},HTTP:{desc:"LOG_HTTP",isOpen:!0},TEST:{desc:"LOG_TEST",isOpen:!0}};var i=function(){function t(){}return t.log=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var n=console.log||cc.log,r=o.LOG_TAG.TEST;if(r&&r.isOpen){var a=Array.prototype.slice.call(arguments);a.splice(0,0,"["+r.desc+"]");var s=t.stack(2)+t.getDateString()+" ";a.splice(1,0,s),n.apply(n,a)}},t.logTag=function(e){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var r=console.log||cc.log;if(e&&e.isOpen)if(e==o.LOG_TAG.SOCKET||e==o.LOG_TAG.HTTP)r.apply(r,i);else{var a=Array.prototype.slice.call(arguments);a.splice(0,1,"["+e.desc+"]");var s=t.stack(2)+t.getDateString()+" ";a.splice(1,0,s),r.apply(r,a)}},t.warn=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=console.warn||cc.warn,n=Array.prototype.slice.call(arguments),r=t.stack(2)+t.getDateString()+" ";n.splice(0,0,r),i.apply(i,n)},t.error=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var i=console.error||cc.error,n=Array.prototype.slice.call(arguments),r=t.stack(2)+t.getDateString()+" ";n.splice(0,0,r),i.apply(i,n)},t.getDateString=function(){var t=new Date,e=t.getHours().toString(),o="";return o+=(1==e.length?"0"+e:e)+":",o+=(1==(e=t.getMinutes().toString()).length?"0"+e:e)+":",o+=(1==(e=t.getSeconds().toString()).length?"0"+e:e)+":",1==(e=t.getMilliseconds().toString()).length&&(e="00"+e),2==e.length&&(e="0"+e),"["+(o+=e)+"]"},t.stack=function(t){void 0===t&&(t=2);var e=(new Error).stack.split("\n");e.shift();var o=[];e.forEach(function(t){var e,i=(t=t.substring(7)).split(" ");i.length<2?o.push(i[0]):o.push(((e={})[i[0]]=i[1],e))});var i=[];if(t<o.length-1)for(var n in o[t])i.push(n);if(i[0]){var r=i[0].split(".");return r[0]+".js->"+r[1]+":"}return""},t}();o.Log=i,cc._RF.pop()},{}],Manager:[function(t,e,o){"use strict";cc._RF.push(e,"3f7da4FIUZPX4Fxpwa4dOTs","Manager");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,n++)i[n]=r[a];return i};Object.defineProperty(o,"__esModule",{value:!0}),o.Manager=void 0;var r=cc._decorator,a=r.ccclass,s=(r.property,function(){function t(){this._inited=!1,this._eventMap=new Map,this._adapter=null}return Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapter},enumerable:!1,configurable:!0}),t.prototype.internal_create=function(t){this._adapter=t},t.prototype.internal_init=function(){this._inited||(this._inited=!0,this.onInit())},t.prototype.on=function(t,e,o,i){void 0===i&&(i=!1),this._eventMap.has(t)||this._eventMap.set(t,[]);var n=this._eventMap.get(t);n&&n.find(function(t){return t.target==o&&t.callback==e})||n.push({callback:e,target:o,once:i})},t.prototype.off=function(t,e,o){if(this._eventMap.has(t)){var i=this._eventMap.get(t),n=i&&i.findIndex(function(t){return t.callback==e&&t.target==o});-1!=n&&i.splice(n,1)}},t.prototype.emit=function(t){for(var e,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(this._eventMap.has(t))for(var r=this._eventMap.get(t),a=0;a<r.length;a++){var s=r[a];(e=s.callback).call.apply(e,n([s.target],o)),s.once&&(r.splice(a,1),a--)}},i([a("Manager")],t)}());o.Manager=s,cc._RF.pop()},{}],ModelManager:[function(t,e,o){"use strict";cc._RF.push(e,"04fa2FnfnxE55PfLiHA4WwK","ModelManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,n++)i[n]=r[a];return i};Object.defineProperty(o,"__esModule",{value:!0}),o.ModelManager=void 0;var l,p=t("../abstract/Manager"),h=t("../define/enum"),u=t("../help/helper"),d=cc._decorator,f=d.ccclass;d.property,function(t){t[t.ON_CLEAR=0]="ON_CLEAR",t[t.ON_INSERT=1]="ON_INSERT",t[t.ON_REMOVE=2]="ON_REMOVE",t[t.ON_MOVE=3]="ON_MOVE",t[t.ON_UPDATE=4]="ON_UPDATE",t[t.ON_CHANGE_BEFORE=5]="ON_CHANGE_BEFORE"}(l||(l={}));var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._modelList=[],e._length=0,e}return n(e,t),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modelList",{get:function(){return this._modelList},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){},e.prototype.insert=function(t,e){return void 0===e&&(e=this.length),a(this,void 0,void 0,function(){var o;return s(this,function(){return o=this._toArray(t),e=u.Helper.clamp(e,0,this.length),this.emit(l.ON_CHANGE_BEFORE),this._insertHandler(o,e),this._length=this._modelList.length,o.length>0&&this.emit(l.ON_INSERT,e),[2]})})},e.prototype._insertHandler=function(t,e){var o=this,i=e;this._length=this._modelList.length;for(var n=[],r=function(t,e){return(h=o._getNewModel(t)).index=e,o._modelList.push(h),h},a=function(t){var e=o.get(i);if(e)n.push(o._copyModel(e,{})),e.data=t,e.index=i,o._initModel(e);else{var a=r(t,i);o._initModel(a)}i++},s=0,c=t.length;s<c;s++)a(t[s]);for(s=0;s<n.length;s++){var l=n[s],p=i+s;if(this.get(p)){var h=this.get(p);n.push(this._copyModel(h,{})),this._copyModel(l,h)}else{var u=r(l.data,p);this._copyModel(l,u)}}},e.prototype.remove=function(t,e){if(void 0===e&&(e=1),0!=e&&!(t<0||t>=this.length)){var o=this.length;this.emit(l.ON_CHANGE_BEFORE);for(var i=t;i<this.length;i++){var n=this.get(i),r=this.get(i+e);if(!r){o=i;break}this._copyModel(r,n),n.index=i}this._modelList.splice(o,this.length),this._length=this._modelList.length,console.log(this._modelList),this.emit(l.ON_REMOVE,t)}},e.prototype.move=function(t,e,o){var i=this;if(!(t<0||e<=0)){this.emit(l.ON_CHANGE_BEFORE);var n=this._modelList.map(function(t){return i._copyModel(t,{})}),r=n.splice(t,e);n.splice.apply(n,c([o,0],r));for(var a=0;a<n.length;a++)this._copyModel(n[a],this._modelList[a]);var s=Math.min(t,o);this.emit(l.ON_MOVE,s),console.log("\u79fb\u52a8\u540e\u7684\u6570\u636e",this._modelList)}},e.prototype.update=function(){this.emit(l.ON_UPDATE)},e.prototype.clear=function(){this._modelList.length=0,this._length=0,this.emit(l.ON_CLEAR)},e.prototype.has=function(t){return!!this._modelList[t]},e.prototype.get=function(t){return isNaN(t)?null:this._modelList[t]},e.prototype.slice=function(t,e){return 0==this.length?[]:this._modelList.slice(t,e)},e.prototype._toArray=function(t){return t?t instanceof Array?t:[t]:[]},e.prototype._getNewModel=function(t){return{data:t,index:-1,code:null,size:{x:0,y:0},layoutSize:{x:0,y:0},scale:{x:0,y:0},position:{x:0,y:0},anchorPoint:{x:0,y:0},element:{wrapBeforeMode:h.WrapMode.Wrap,wrapAfterMode:h.WrapMode.Nowrap,ignoreLayout:!1,placeholder:!1,minSize:{x:0,y:0},preferredSize:{x:0,y:0},flexibleSize:{x:0,y:0},layer:h.Layer.Lowest,fixed:!1,fixedOffset:0,fixedSpacing:null,update:function(){}},isValid:!0,update:function(){}}},e.prototype._initModel=function(t){var e;if(!this.adapter.getPrefab(t.data))throw Error("\u9884\u5236\u4f53\u4e0d\u80fd\u4e3a\u7a7a");if(!(e=this.adapter.getPrefab(t.data)))throw Error("\u9884\u5236\u4f53\u4e0d\u80fd\u4e3a\u7a7a");if(e instanceof cc.Node){var o=e;t.code=e.uuid,t.size={x:o.width,y:o.height},t.scale={x:o.scaleX,y:o.scaleY},t.anchorPoint={x:o.anchorX,y:o.anchorY}}else o=e.data,t.code=e.data.uuid,t.size={x:o.width,y:o.height},t.scale={x:o.scaleX,y:o.scaleY},t.anchorPoint={x:o.anchorX,y:o.anchorY};t.layoutSize={x:0,y:0},t.position={x:0,y:0},t.element={wrapBeforeMode:h.WrapMode.Wrap,wrapAfterMode:h.WrapMode.Nowrap,ignoreLayout:!1,placeholder:!1,minSize:{x:0,y:0},preferredSize:{x:0,y:0},flexibleSize:{x:0,y:0},layer:h.Layer.Lowest,fixed:!1,fixedOffset:0,fixedSpacing:null,update:function(){}},this.adapter.initElement(t.element,t.data)},e.prototype._copyModel=function(t,e){t.element.update=function(){};var o=function(t,e){for(var i in t){var n=t[i];"data"!=i?"index"!=i&&(null!=n&&"object"==typeof n?(e[i]={},o(n,e[i])):e[i]=n):e[i]=n}};return o(t,e),e},e.Event=l,r([f("ModelManager")],e)}(p.Manager);o.ModelManager=_,cc._RF.pop()},{"../abstract/Manager":"Manager","../define/enum":"enum","../help/helper":"helper"}],Network:[function(t,e,o){"use strict";cc._RF.push(e,"27b98ncGaFEN4kT7kMMG7xJ","Network"),Object.defineProperty(o,"__esModule",{value:!0}),o.Network=void 0;var i=t("./Http"),n=t("../userData/ConfigModule"),r=t("../framework/ui/UIHelp"),a=t("../userData/GameDataCenter"),s=t("../utils/Log"),c=function(){function t(){n.ConfigModule.IS_TEST?this._httpUrl=n.ConfigModule.HTTP_URL_TEST:this._httpUrl=n.ConfigModule.HTTP_URL_DEV}return t.prototype.httpSend=function(t,e,o,n){n&&r.default.ShowLoding(),e&&a.default.accountModel.jwt&&(e.jwt=a.default.accountModel.jwt);var c=this.obj_contact(e),l=encodeURI(this._httpUrl+"/"+t+c);s.Log.logTag(s.LOG_TAG.HTTP,"%chttp\u53d1\u9001: "+t+"--\x3e","color:#000;background:yellow",l),i.Http.get(l,function(e,i){if(r.default.CloseLoding(),"COMPLETE"==e)if(4==i.readyState&&i.status>=200&&i.status<400){var n=JSON.parse(i.responseText),c=t.replace(/\//g,"_");if(cc.sys.isNative?s.Log.logTag(s.LOG_TAG.HTTP,"%chttp\u63a5\u6536: "+c+"--\x3e","color:#000;background:orange",JSON.stringify(n)):s.Log.logTag(s.LOG_TAG.HTTP,"%chttp\u63a5\u6536: "+c+"--\x3e","color:#000;background:orange",n),0!=n.errcode)return"1000"==n.errcode&&(a.default.accountModel.jwt=""),void r.default.ShowTips(n.errmsg);o&&o(n)}else r.default.ShowTips("\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d");else"TIMEOUT"==e?s.Log.error("\u6dfb\u52a0\u63d0\u793a\u8fde\u63a5\u7f51\u5173\u8d85\u65f6"):"ERROR"==e&&s.Log.error("\u6dfb\u52a0\u63d0\u793a\u8fde\u63a5\u7f51\u5173\u53d1\u751f\u9519\u8bef")},this)},t.prototype.httpPost=function(t,e,o,n){var c;n&&r.default.ShowLoding(),c=t,a.default.accountModel.jwt&&(c=t+"?jwt="+a.default.accountModel.jwt);var l=encodeURI(this._httpUrl+"/"+c);s.Log.logTag(s.LOG_TAG.HTTP,"%chttp\u53d1\u9001: "+t+"--\x3e","color:#000;background:yellow",l),i.Http.post(l,e,function(e,i){if(r.default.CloseLoding(),"COMPLETE"==e){if(4==i.readyState&&i.status>=200&&i.status<400){var n=JSON.parse(i.responseText),c=t.replace(/\//g,"_");if(cc.sys.isNative?s.Log.logTag(s.LOG_TAG.HTTP,"%chttp\u63a5\u6536: "+c+"--\x3e","color:#000;background:orange",JSON.stringify(n)):s.Log.logTag(s.LOG_TAG.HTTP,"%chttp\u63a5\u6536: "+c+"--\x3e","color:#000;background:orange",n),0!=n.errcode)return void r.default.ShowTips(n.errmsg);n.data.jwt&&(a.default.accountModel.jwt=n.data.jwt),o&&o(n)}}else"TIMEOUT"==e?(this.et.emit("TIMEOUT",{}),s.Log.error("\u6dfb\u52a0\u63d0\u793a\u8fde\u63a5\u7f51\u5173\u8d85\u65f6")):"ERROR"==e&&s.Log.error("\u6dfb\u52a0\u63d0\u793a\u8fde\u63a5\u7f51\u5173\u53d1\u751f\u9519\u8bef")},this)},t.prototype.obj_contact=function(t){var e="";for(var o in t){var i=t[o];0==e.length?e+="?"+o+"="+i:e+="&"+o+"="+i}return e},t}();o.Network=c,cc._RF.pop()},{"../framework/ui/UIHelp":"UIHelp","../userData/ConfigModule":"ConfigModule","../userData/GameDataCenter":"GameDataCenter","../utils/Log":"Log","./Http":"Http"}],NodeSetting:[function(t,e,o){"use strict";cc._RF.push(e,"557c8cUqqREPL+khgStU6tv","NodeSetting");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../framework/i18n/i18nMgr"),s=t("../../framework/manager/AudioMng"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labEn=null,e.labZh=null,e.toggleEffect=null,e.toggleSound=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){var t=localStorage.getItem("effect")||"1";this.toggleEffect.isChecked="1"==t;var e=localStorage.getItem("sound")||"1";this.toggleSound.isChecked="1"==e;var o=a.i18nMgr.getlanguage();this.labEn.node.active="en"==o,this.labZh.node.active="zh"==o,this.toggleSound.node.getChildByName("checkmark_2").active=!this.toggleSound.isChecked,this.toggleEffect.node.getChildByName("checkmark_2").active=!this.toggleEffect.isChecked},e.prototype.onToggleEffect=function(t){localStorage.setItem("effect",t.isChecked?"1":"0"),t.node.getChildByName("checkmark_2").active=!t.isChecked,s.AudioMng.getInstance().effectRatio=t.isChecked?1:0},e.prototype.onToggleSound=function(t){localStorage.setItem("sound",t.isChecked?"1":"0"),t.node.getChildByName("checkmark_2").active=!t.isChecked,s.AudioMng.getInstance().bgmRatio=t.isChecked?1:0,t.isChecked?s.AudioMng.getInstance().playBGM():s.AudioMng.getInstance().stopBGM()},e.prototype.onToggleLanguage=function(t){var e=t.isChecked?"en":"zh";this.labEn.node.active="en"==e,this.labZh.node.active="zh"==e,a.i18nMgr.setLanguage(e)},e.prototype.onBtnClose=function(){this.node.active=!1},r([p(cc.Label)],e.prototype,"labEn",void 0),r([p(cc.Label)],e.prototype,"labZh",void 0),r([p(cc.Toggle)],e.prototype,"toggleEffect",void 0),r([p(cc.Toggle)],e.prototype,"toggleSound",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../framework/i18n/i18nMgr":"i18nMgr","../../framework/manager/AudioMng":"AudioMng"}],PageViewManager:[function(t,e,o){"use strict";cc._RF.push(e,"e8963SMQKlJqITGS1GlAC8A","PageViewManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PageViewManager=void 0;var a,s=t("../abstract/Manager"),c=t("../define/enum"),l=t("./ScrollManager"),p=t("./ViewManager"),h=cc._decorator,u=h.ccclass,d=h.property;(function(t){t[t.ON_PAGE_LENGTH_CHANGED=0]="ON_PAGE_LENGTH_CHANGED",t[t.ON_SCROLL_PAGE_BEFOR=1]="ON_SCROLL_PAGE_BEFOR",t[t.ON_SCROLL_PAGE_END=2]="ON_SCROLL_PAGE_END"})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._enabled=!1,e.scrollThreshold=.5,e.pageTurningEventTiming=.1,e.autoPageTurningThreshold=100,e.pageTurningSpeed=.3,e._currentIndex=0,e}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t,this._enabled?this._register():this._unregister())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentIndex",{get:function(){return this._currentIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.adapter.viewManager.groupLength},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){this._register()},e.prototype._register=function(){this.adapter&&this.enabled&&(this.adapter.scrollManager.on(l.ScrollManager.Event.ON_SCROLL_END,this._handleReleaseLogic,this),this.adapter.scrollManager.on(l.ScrollManager.Event.ON_SCROLL_CANCEL,this._handleReleaseLogic,this),this.adapter.scrollManager.on(l.ScrollManager.Event.ON_SCROLL_TO_GROUPINDEX_BEFOR,this._onScrollToIndex,this),this.adapter.viewManager.on(p.ViewManager.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this,!0))},e.prototype._unregister=function(){this.adapter&&!this.enabled&&(this.adapter.scrollManager.off(l.ScrollManager.Event.ON_SCROLL_END,this._handleReleaseLogic,this),this.adapter.scrollManager.off(l.ScrollManager.Event.ON_SCROLL_CANCEL,this._handleReleaseLogic,this),this.adapter.scrollManager.off(l.ScrollManager.Event.ON_SCROLL_TO_GROUPINDEX_BEFOR,this._onScrollToIndex,this),this.adapter.viewManager.off(p.ViewManager.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this))},e.prototype.scrollToPage=function(t,e,o){e<0||e>=this.length||e==this.currentIndex&&0!=this.adapter.scrollManager.calcOffset()||(this.adapter.scrollManager.scrollToGroupIndex(t,e,o),this.emit(a.ON_SCROLL_PAGE_BEFOR,e))},e.prototype.scrollToPrevPage=function(t,e){void 0===t&&(t=this.pageTurningSpeed),void 0===e&&(e=c.AlwaysScroll.Header),0!=this._currentIndex?this.scrollToPage(t,this._currentIndex-1,e):this.adapter.viewManager.loopHeader&&this.scrollToPage(t,this.length-1,e)},e.prototype.scrollToNextPage=function(t,e){void 0===t&&(t=this.pageTurningSpeed),void 0===e&&(e=c.AlwaysScroll.Footer),this._currentIndex>=this.length-1?this.adapter.viewManager.loopFooter&&this.scrollToPage(t,0,e):this.scrollToPage(t,this._currentIndex+1,e)},e.prototype._onUpdateViews=function(){this.emit(a.ON_PAGE_LENGTH_CHANGED),this._currentIndex=0,this.scrollToPage(this.pageTurningSpeed,this._currentIndex)},e.prototype._onScrollToIndex=function(t){this._currentIndex=t,this.emit(a.ON_SCROLL_PAGE_END,t)},e.prototype._handleReleaseLogic=function(t){if(this._enabled&&this.adapter.scrollManager.isMyEventAndMoved){var e=t.getStartLocation()[this.adapter.mainAxis]-t.getLocation()[this.adapter.mainAxis],o=this._getNextIndex(e);this._isScrollable(e)||this._isQuicklyScrollable(this.adapter.scrollManager.velocity)?this.scrollToPage(this.pageTurningSpeed,o):this.scrollToPage(this.pageTurningSpeed,this._currentIndex)}},e.prototype._getNextIndex=function(t){var e=this._currentIndex;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?t>0?e++:t<0&&e--:(t<0&&e++,t>0&&e--):this.adapter.isArrangeAxisStart?t<0?e++:t>0&&e--:t>0?e++:t<0&&e--,e>=this.length&&this.adapter.viewManager.loopFooter?e=0:e<0&&this.adapter.viewManager.loopHeader&&(e=this.length-1),(e<0||e>=this.length)&&(e=this._currentIndex),e},e.prototype._isScrollable=function(t){return Math.abs(t)>=this.adapter.mainAxisSize*this.scrollThreshold},e.prototype._isQuicklyScrollable=function(t){return Math.abs(t)>this.autoPageTurningThreshold},e.Event=a,r([d()],e.prototype,"_enabled",void 0),r([d()],e.prototype,"enabled",null),r([d({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"\u6eda\u52a8\u4e34\u754c\u503c\uff0c\u9ed8\u8ba4\u5355\u4f4d\u767e\u5206\u6bd4\uff0c\u5f53\u62d6\u62fd\u8d85\u51fa\u8be5\u6570\u503c\u65f6\uff0c\u677e\u5f00\u4f1a\u81ea\u52a8\u6eda\u52a8\u4e0b\u4e00\u9875\uff0c\u5c0f\u4e8e\u65f6\u5219\u8fd8\u539f"})],e.prototype,"scrollThreshold",void 0),r([d({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"\u8bbe\u7f6e PageView PageTurning \u4e8b\u4ef6\u7684\u53d1\u9001\u65f6\u673a"})],e.prototype,"pageTurningEventTiming",void 0),r([d({visible:function(){return this.enabled},tooltip:"\u5feb\u901f\u6ed1\u52a8\u7ffb\u9875\u4e34\u754c\u503c\n        \u5f53\u7528\u6237\u5feb\u901f\u6ed1\u52a8\u65f6\uff0c\u4f1a\u6839\u636e\u6ed1\u52a8\u5f00\u59cb\u548c\u7ed3\u675f\u7684\u8ddd\u79bb\u4e0e\u65f6\u95f4\u8ba1\u7b97\u51fa\u4e00\u4e2a\u901f\u5ea6\u503c\n        \u8be5\u503c\u4e0e\u6b64\u4e34\u754c\u503c\u76f8\u6bd4\u8f83\uff0c\u5982\u679c\u5927\u4e8e\u4e34\u754c\u503c\uff0c\u5219\u8fdb\u884c\u81ea\u52a8\u7ffb\u9875"})],e.prototype,"autoPageTurningThreshold",void 0),r([d({visible:function(){return this.enabled},tooltip:"\u6bcf\u4e2a\u9875\u9762\u7ffb\u9875\u65f6\u6240\u9700\u65f6\u95f4\u3002\u5355\u4f4d\uff1a\u79d2"})],e.prototype,"pageTurningSpeed",void 0),r([u("PageViewManager")],e)}(s.Manager);o.PageViewManager=f,cc._RF.pop()},{"../abstract/Manager":"Manager","../define/enum":"enum","./ScrollManager":"ScrollManager","./ViewManager":"ViewManager"}],PlayerModel:[function(t,e,o){"use strict";cc._RF.push(e,"108a9GK8kBCpbSaxfh5PMes","PlayerModel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.KILLER_ROADS=o.ROADS=void 0;var r=t("../framework/i18n/i18nMgr"),a=t("../framework/manager/PoolMng"),s=t("../framework/model/IDataModel"),c=t("../framework/ui/UIHelp"),l=t("../logic/ui/prefab/UIGameLayer"),p=t("../logic/ui/prefab/UIPlayer"),h=t("../logic/ui/prefab/UIPlayerName"),u=t("./GameDataCenter");o.ROADS={1:[1,3,4,1111],2:[1,2,9,2222],3:[1,3,3333],4:[1,2,6,4444],5:[1,2,5,5555]},o.KILLER_ROADS={1:[12,11,3,4],2:[12,11,2,9],3:[12,11,3],4:[12,11,2,6],5:[12,11,2,5]};var d=function(t){function e(){var e=t.call(this,"player")||this;return e.avatar="",e.coin=0,e.nickname="",e.uid=0,e.node=null,e.nodeName=null,e.roomId=0,e.rankNo=0,e.isMySelf=!1,e}return n(e,t),e.prototype.destroy=function(){this.node&&(this.node.stopAllActions(),a.PoolMng.instance.putNode(this.node),this.nodeName.stopAllActions(),a.PoolMng.instance.putNode(this.nodeName)),u.default.accountModel.players.delete(this.uid)},e.prototype.initData=function(t){this.avatar=t.avatar,this.coin=t.coin,this.isMySelf=t.uid==u.default.accountModel.uid,this.nickname=this.isMySelf?{zh:"\u81ea\u5df1",en:"Myself"}[r.i18nMgr.getlanguage()]:t.nickname,this.uid=t.uid,this.isMySelf&&0==t.rank_no?this.rankNo=-1:this.rankNo=t.rank_no},e.prototype.showBetting=function(t){var e;this.node&&(null===(e=this.node.getComponent(p.default))||void 0===e||e.showBetting(t))},e.prototype.loadPlayerAni=function(t){var e,o;this.roomId=t;var i=this.node=a.PoolMng.instance.getNode(l.default.instance.playerPrefab,this.isMySelf?l.default.instance.ui.node_player_my:l.default.instance.ui.node_player),n=this.nodeName=a.PoolMng.instance.getNode(l.default.instance.playerNamePrefab,this.isMySelf?l.default.instance.ui.node_player_name_my:l.default.instance.ui.node_player_name),r=this.isMySelf?c.default.getRadomPos(l.default.instance.ui["room"+100*t]):c.default.getRadomPos(l.default.instance.ui["room"+t]);i.setPosition(r),null===(e=i.getComponent(p.default))||void 0===e||e.initAni(this.rankNo),n.setPosition(r),null===(o=n.getComponent(h.default))||void 0===o||o.setName(this.nickname)},e.prototype.moveToRoomById=function(t){var e,i,n,r,a,s;if(this.node)if(0==this.roomId){this.roomId=t;for(var u=[],d=0,f=o.ROADS[t];d<f.length;d++){var _=f[d],g=l.default.instance.ui["pos"+_];u.push(g.position)}this.isMySelf?u.push(c.default.getRadomPos(l.default.instance.ui["room"+100*t])):u.push(c.default.getRadomPos(l.default.instance.ui["room"+t])),null===(e=this.node.getComponent(p.default))||void 0===e||e.playWalk(),null===(i=this.node.getComponent(p.default))||void 0===i||i.move([].concat(u),!1),null===(n=this.nodeName.getComponent(h.default))||void 0===n||n.move([].concat(u),!1)}else{this.roomId=t,null===(r=this.node.getComponent(p.default))||void 0===r||r.playWait();var y=c.default.getRadomPos(l.default.instance.ui["room"+100*t]);null===(a=this.node.getComponent(p.default))||void 0===a||a.flashToRoomById(y),null===(s=this.nodeName.getComponent(h.default))||void 0===s||s.flashToRoomById(y)}},e.prototype.moveBack=function(){var t,e,i;if(this.node&&0!=this.roomId){for(var n=[],r=0,a=o.ROADS[this.roomId];r<a.length;r++){var s=a[r],u=l.default.instance.ui["pos"+s];n.push(u.position)}n.reverse(),n.push(c.default.getRadomPos(l.default.instance.ui.room0)),null===(t=this.node.getComponent(p.default))||void 0===t||t.playWalk(),null===(e=this.node.getComponent(p.default))||void 0===e||e.move([].concat(n),!0),null===(i=this.nodeName.getComponent(h.default))||void 0===i||i.move([].concat(n),!0),this.roomId=0,l.default.instance.resetRoomId()}},e.prototype.demoXXX1=function(){var t=this,e={};return new Promise(function(o){t.sendHttpMsg("index",e,function(t){var e=t.data;o(e)}.bind(t))})},e}(s.default);o.default=d,cc._RF.pop()},{"../framework/i18n/i18nMgr":"i18nMgr","../framework/manager/PoolMng":"PoolMng","../framework/model/IDataModel":"IDataModel","../framework/ui/UIHelp":"UIHelp","../logic/ui/prefab/UIGameLayer":"UIGameLayer","../logic/ui/prefab/UIPlayer":"UIPlayer","../logic/ui/prefab/UIPlayerName":"UIPlayerName","./GameDataCenter":"GameDataCenter"}],PoolMng:[function(t,e,o){"use strict";cc._RF.push(e,"c09aaw/i21GLZ3SWGwG6uge","PoolMng");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PoolMng=void 0;var n=cc._decorator,r=n.ccclass,a=(n.property,function(){function t(){this.dictPool={},this.dictPrefab={}}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new e,this._instance)},enumerable:!1,configurable:!0}),t.prototype.getNode=function(t,e){var o,i=t.data.name;if(this.dictPrefab[i]=t,this.dictPool.hasOwnProperty(i))o=(n=this.dictPool[i]).size()>0?n.get():cc.instantiate(t);else{var n=new cc.NodePool;this.dictPool[i]=n,o=cc.instantiate(t)}return o.parent=e,o},t.prototype.putNode=function(t){var e=t.name,o=null;this.dictPool.hasOwnProperty(e)?o=this.dictPool[e]:(o=new cc.NodePool,this.dictPool[e]=o),o.put(t)},t.prototype.clearPool=function(t){this.dictPool.hasOwnProperty(t)&&this.dictPool[t].clear()},e=i([r("poolMng")],t)}());o.PoolMng=a,cc._RF.pop()},{}],Qrcode:[function(t,e,o){"use strict";cc._RF.push(e,"c65638c0FhCEZ8CNK8MQdJB","Qrcode"),Object.defineProperty(o,"__esModule",{value:!0}),o.QRBitBuffer=o.QRRSBlock=o.QRPolynomial=o.QRCode=void 0;var i=function(){function t(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}return t.createData=function(e,o,i){for(var n=p.getRSBlocks(e,o),r=new h,s=0;s<i.length;s++){var c=i[s];r.put(c.mode,4),r.put(c.getLength(),a.getLengthInBits(c.mode,e)),c.write(r)}var l=0;for(s=0;s<n.length;s++)l+=n[s].dataCount;if(r.getLengthInBits()>8*l)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*l+")");for(r.getLengthInBits()+4<=8*l&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*l||(r.put(t.PAD0,8),r.getLengthInBits()>=8*l));)r.put(t.PAD1,8);return t.createBytes(r,n)},t.createBytes=function(t,e){for(var o=0,i=0,n=0,r=new Array(e.length),s=new Array(e.length),c=0;c<e.length;c++){var p=e[c].dataCount,h=e[c].totalCount-p;i=Math.max(i,p),n=Math.max(n,h),r[c]=new Array(p);for(var u=0;u<r[c].length;u++)r[c][u]=255&t.buffer[u+o];o+=p;var d=a.getErrorCorrectPolynomial(h),f=new l(r[c],d.getLength()-1).mod(d);for(s[c]=new Array(d.getLength()-1),u=0;u<s[c].length;u++){var _=u+f.getLength()-s[c].length;s[c][u]=_>=0?f.get(_):0}}var g=0;for(u=0;u<e.length;u++)g+=e[u].totalCount;var y=new Array(g),m=0;for(u=0;u<i;u++)for(c=0;c<e.length;c++)u<r[c].length&&(y[m++]=r[c][u]);for(u=0;u<n;u++)for(c=0;c<e.length;c++)u<s[c].length&&(y[m++]=s[c][u]);return y},t.prototype.addData=function(t){var e=new n(t);this.dataList.push(e),this.dataCache=null},t.prototype.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},t.prototype.getModuleCount=function(){return this.moduleCount},t.prototype.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=p.getRSBlocks(t,this.errorCorrectLevel),o=new h,i=0,n=0;n<e.length;n++)i+=e[n].dataCount;for(n=0;n<this.dataList.length;n++){var r=this.dataList[n];o.put(r.mode,4),o.put(r.getLength(),a.getLengthInBits(r.mode,t)),r.write(o)}if(o.getLengthInBits()<=8*i)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},t.prototype.makeImpl=function(e,o){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[i][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,o),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,o)},t.prototype.setupPositionProbePattern=function(t,e){for(var o=-1;o<=7;o++)if(!(t+o<=-1||this.moduleCount<=t+o))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+o][e+i]=0<=o&&o<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=i&&i<=4)},t.prototype.getBestMaskPattern=function(){for(var t=0,e=0,o=0;o<8;o++){this.makeImpl(!0,o);var i=a.getLostPoint(this);(0==o||t>i)&&(t=i,e=o)}return e},t.prototype.createMovieClip=function(t,e,o){var i=t.createEmptyMovieClip(e,o);this.make();for(var n=0;n<this.modules.length;n++)for(var r=1*n,a=0;a<this.modules[n].length;a++){var s=1*a;this.modules[n][a]&&(i.beginFill(0,100),i.moveTo(s,r),i.lineTo(s+1,r),i.lineTo(s+1,r+1),i.lineTo(s,r+1),i.endFill())}return i},t.prototype.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},t.prototype.setupPositionAdjustPattern=function(){for(var t=a.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var o=0;o<t.length;o++){var i=t[e],n=t[o];if(null==this.modules[i][n])for(var r=-2;r<=2;r++)for(var s=-2;s<=2;s++)this.modules[i+r][n+s]=-2==r||2==r||-2==s||2==s||0==r&&0==s}},t.prototype.setupTypeNumber=function(t){for(var e=a.getBCHTypeNumber(this.typeNumber),o=0;o<18;o++){var i=!t&&1==(e>>o&1);this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=i}for(o=0;o<18;o++)i=!t&&1==(e>>o&1),this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=i},t.prototype.setupTypeInfo=function(t,e){for(var o=this.errorCorrectLevel<<3|e,i=a.getBCHTypeInfo(o),n=0;n<15;n++){var r=!t&&1==(i>>n&1);n<6?this.modules[n][8]=r:n<8?this.modules[n+1][8]=r:this.modules[this.moduleCount-15+n][8]=r}for(n=0;n<15;n++)r=!t&&1==(i>>n&1),n<8?this.modules[8][this.moduleCount-n-1]=r:n<9?this.modules[8][15-n-1+1]=r:this.modules[8][15-n-1]=r;this.modules[this.moduleCount-8][8]=!t},t.prototype.mapData=function(t,e){for(var o=-1,i=this.moduleCount-1,n=7,r=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var c=0;c<2;c++)if(null==this.modules[i][s-c]){var l=!1;r<t.length&&(l=1==(t[r]>>>n&1)),a.getMask(e,i,s-c)&&(l=!l),this.modules[i][s-c]=l,-1==--n&&(r++,n=7)}if((i+=o)<0||this.moduleCount<=i){i-=o,o=-o;break}}},t.PAD0=236,t.PAD1=17,t}();o.QRCode=i;var n=function(){function t(t){this.mode=r.MODE_8BIT_BYTE,this.data=t}return t.prototype.getLength=function(){return this.data.length},t.prototype.write=function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)},t}();o.default=n;for(var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;a.getBCHDigit(e)-a.getBCHDigit(a.G15)>=0;)e^=a.G15<<a.getBCHDigit(e)-a.getBCHDigit(a.G15);return(t<<10|e)^a.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;a.getBCHDigit(e)-a.getBCHDigit(a.G18)>=0;)e^=a.G18<<a.getBCHDigit(e)-a.getBCHDigit(a.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return a.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,o){switch(t){case 0:return(e+o)%2==0;case 1:return e%2==0;case 2:return o%3==0;case 3:return(e+o)%3==0;case 4:return(Math.floor(e/2)+Math.floor(o/3))%2==0;case 5:return e*o%2+e*o%3==0;case 6:return(e*o%2+e*o%3)%2==0;case 7:return(e*o%3+(e+o)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new l([1],0),o=0;o<t;o++)e=e.multiply(new l([1,s.gexp(o)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),o=0,i=0;i<e;i++)for(var n=0;n<e;n++){for(var r=0,a=t.isDark(i,n),s=-1;s<=1;s++)if(!(i+s<0||e<=i+s))for(var c=-1;c<=1;c++)n+c<0||e<=n+c||0==s&&0==c||a==t.isDark(i+s,n+c)&&r++;r>5&&(o+=3+r-5)}for(i=0;i<e-1;i++)for(n=0;n<e-1;n++){var l=0;t.isDark(i,n)&&l++,t.isDark(i+1,n)&&l++,t.isDark(i,n+1)&&l++,t.isDark(i+1,n+1)&&l++,0!=l&&4!=l||(o+=3)}for(i=0;i<e;i++)for(n=0;n<e-6;n++)t.isDark(i,n)&&!t.isDark(i,n+1)&&t.isDark(i,n+2)&&t.isDark(i,n+3)&&t.isDark(i,n+4)&&!t.isDark(i,n+5)&&t.isDark(i,n+6)&&(o+=40);for(n=0;n<e;n++)for(i=0;i<e-6;i++)t.isDark(i,n)&&!t.isDark(i+1,n)&&t.isDark(i+2,n)&&t.isDark(i+3,n)&&t.isDark(i+4,n)&&!t.isDark(i+5,n)&&t.isDark(i+6,n)&&(o+=40);var p=0;for(n=0;n<e;n++)for(i=0;i<e;i++)t.isDark(i,n)&&p++;return o+Math.abs(100*p/e/e-50)/5*10}},s={glog:function(t){if(t<1)throw new Error("glog("+t+")");return s.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return s.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},c=0;c<8;c++)s.EXP_TABLE[c]=1<<c;for(c=8;c<256;c++)s.EXP_TABLE[c]=s.EXP_TABLE[c-4]^s.EXP_TABLE[c-5]^s.EXP_TABLE[c-6]^s.EXP_TABLE[c-8];for(c=0;c<255;c++)s.LOG_TABLE[s.EXP_TABLE[c]]=c;var l=function(){function t(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var o=0;o<t.length&&0==t[o];)o++;this.num=new Array(t.length-o+e);for(var i=0;i<t.length-o;i++)this.num[i]=t[i+o]}return t.prototype.get=function(t){return this.num[t]},t.prototype.getLength=function(){return this.num.length},t.prototype.multiply=function(e){for(var o=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<e.getLength();n++)o[i+n]^=s.gexp(s.glog(this.get(i))+s.glog(e.get(n)));return new t(o,0)},t.prototype.mod=function(e){if(this.getLength()-e.getLength()<0)return this;for(var o=s.glog(this.get(0))-s.glog(e.get(0)),i=new Array(this.getLength()),n=0;n<this.getLength();n++)i[n]=this.get(n);for(n=0;n<e.getLength();n++)i[n]^=s.gexp(s.glog(e.get(n))+o);return new t(i,0).mod(e)},t}();o.QRPolynomial=l;var p=function(){function t(t,e){this.totalCount=t,this.dataCount=e}return t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t.getRSBlocks=function(e,o){var i=t.getRsBlockTable(e,o);if(null==i)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+o);for(var n=i.length/3,r=new Array,a=0;a<n;a++)for(var s=i[3*a+0],c=i[3*a+1],l=i[3*a+2],p=0;p<s;p++)r.push(new t(c,l));return r},t.getRsBlockTable=function(e,o){switch(o){case 1:return t.RS_BLOCK_TABLE[4*(e-1)+0];case 0:return t.RS_BLOCK_TABLE[4*(e-1)+1];case 3:return t.RS_BLOCK_TABLE[4*(e-1)+2];case 2:return t.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},t}();o.QRRSBlock=p;var h=function(){function t(){this.buffer=new Array,this.length=0}return t.prototype.get=function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},t.prototype.put=function(t,e){for(var o=0;o<e;o++)this.putBit(1==(t>>>e-o-1&1))},t.prototype.getLengthInBits=function(){return this.length},t.prototype.putBit=function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++},t}();o.QRBitBuffer=h,cc._RF.pop()},{}],RankAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"d4a2eT+AodDuY3ID81F9L9a","RankAdapter");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.RankAdapter=void 0;var c=t("../../../framework/adapter/abstract/Holder"),l=t("../../../framework/adapter/abstract/ScrollAdapter"),p=t("../../../framework/adapter/abstract/View"),h=t("../../../userData/GameDataCenter"),u=t("./RankPart1"),d=t("./RankPart2"),f=t("./RankPart3"),_=cc._decorator,g=_.ccclass,y=_.menu,m=_.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab1=null,e.prefab2=null,e.prefab3=null,e}return n(e,t),e.prototype.getPrefab=function(t){return 1==t.type?this.prefab1:2==t.type?this.prefab2:this.prefab3},e.prototype.getHolder=function(t,e){return new C(t,e,this)},e.prototype.getView=function(){return new b(this)},e.prototype.initElement=function(){},e.prototype.start=function(){return a(this,void 0,void 0,function(){var t,e;return s(this,function(o){switch(o.label){case 0:return[4,h.default.accountModel.getRank()];case 1:return t=o.sent(),e=[{type:1,data:t.mian},{type:2,data:{lastWeekRank:t.last_week_rank,thisWeekRank:t.this_week_rank}},{type:3,data:t.mian}],this.modelManager.insert(e),[2]}})})},r([m(cc.Node)],e.prototype,"prefab1",void 0),r([m(cc.Node)],e.prototype,"prefab2",void 0),r([m(cc.Node)],e.prototype,"prefab3",void 0),r([g,y("UI/prefab/RankAdapter")],e)}(l.ScrollAdapter);o.RankAdapter=v;var b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onVisible=function(){},e.prototype.onDisable=function(){},e}(p.View),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onCreated=function(){this._chatItem=this.node.getComponent(u.RankPart1)||this.node.getComponent(d.RankPart2)||this.node.getComponent(f.RankPart3)},e.prototype.onVisible=function(){this._chatItem.show(this)},e.prototype.onDisable=function(){this._chatItem.hide()},e}(c.Holder);cc._RF.pop()},{"../../../framework/adapter/abstract/Holder":"Holder","../../../framework/adapter/abstract/ScrollAdapter":"ScrollAdapter","../../../framework/adapter/abstract/View":"View","../../../userData/GameDataCenter":"GameDataCenter","./RankPart1":"RankPart1","./RankPart2":"RankPart2","./RankPart3":"RankPart3"}],RankPage1:[function(t,e,o){"use strict";cc._RF.push(e,"4829fs3Zp1GL4VbgaDRy13w","RankPage1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RankPage1=void 0;var a=t("../../../framework/manager/EventMng"),s=t("../../../framework/ui/UIHelp"),c=t("../../../userData/EventConst"),l=cc._decorator,p=l.ccclass,h=l.menu,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultAvatar=null,e}return n(e,t),e.prototype.onEnable=function(){a.default.on(c.GameEvent.RANK_PAGE_1,this.initUI,this)},e.prototype.onDisable=function(){a.default.off(c.GameEvent.RANK_PAGE_1,this.initUI,this)},e.prototype.initUI=function(t){for(var e=0;e<10;e++){var o=t[e],i=this.node.getChildByName("node_xian").getChildByName("fengexian"+(e+1)),n=this.node.getChildByName("node_quanxi").getChildByName("label_pfqy"+(e+1)),r=this.node.getChildByName("node_icon").getChildByName("VM_coin"+(e+1)),a=this.node.getChildByName("node_avatar").getChildByName("spr_avatar"+(e+1)),c=this.node.getChildByName("node_coin").getChildByName("lab_coin"+(e+1)),l=this.node.getChildByName("node_rank").getChildByName("lab_rank"+(e+1)),p=this.node.getChildByName("node_name").getChildByName("lab_name"+(e+1));i.active=Boolean(o),n.active=!1,r.active=Boolean(o),a.active=Boolean(o),c.active=Boolean(o),l.active=Boolean(o),p.active=Boolean(o),o&&(s.default.SetLabel(c,o.score),s.default.SetLabel(p,o.nickname),s.default.SetSpriteFrame(a,o.avatar,void 0,this.defaultAvatar))}},r([u(cc.SpriteFrame)],e.prototype,"defaultAvatar",void 0),r([p,h("UI/prefab/RankPage1")],e)}(cc.Component);o.RankPage1=d,cc._RF.pop()},{"../../../framework/manager/EventMng":"EventMng","../../../framework/ui/UIHelp":"UIHelp","../../../userData/EventConst":"EventConst"}],RankPage2:[function(t,e,o){"use strict";cc._RF.push(e,"4cd2dHfoVtD7bOD2dHVmpUF","RankPage2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RankPage2=void 0;var a=t("../../../framework/manager/EventMng"),s=t("../../../framework/ui/UIHelp"),c=t("../../../userData/EventConst"),l=cc._decorator,p=l.ccclass,h=l.menu,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultAvatar=null,e}return n(e,t),e.prototype.onEnable=function(){a.default.on(c.GameEvent.RANK_PAGE_2,this.initUI,this)},e.prototype.onDisable=function(){a.default.off(c.GameEvent.RANK_PAGE_2,this.initUI,this)},e.prototype.initUI=function(t){console.log(t,"\u6392\u884c\u699c\u6570\u636e");for(var e=0;e<10;e++){var o=t[e],i=this.node.getChildByName("node_xian").getChildByName("fengexian"+(e+1)),n=this.node.getChildByName("node_quanxi").getChildByName("label_pfqy"+(e+1)),r=this.node.getChildByName("node_icon").getChildByName("VM_coin"+(e+1)),a=this.node.getChildByName("node_avatar").getChildByName("spr_avatar"+(e+1)),c=this.node.getChildByName("node_coin").getChildByName("lab_coin"+(e+1)),l=this.node.getChildByName("node_rank").getChildByName("lab_rank"+(e+1)),p=this.node.getChildByName("node_name").getChildByName("lab_name"+(e+1));i.active=Boolean(o),n.active=Boolean(o),r.active=Boolean(o),a.active=Boolean(o),c.active=Boolean(o),l.active=Boolean(o),p.active=Boolean(o),o&&(s.default.SetLabel(c,o.score),s.default.SetLabel(p,o.nickname),console.log(o.avatar,"ndex.avatar"),s.default.SetSpriteFrame(a,o.avatar,void 0,this.defaultAvatar))}},r([u(cc.SpriteFrame)],e.prototype,"defaultAvatar",void 0),r([p,h("UI/prefab/RankPage2")],e)}(cc.Component);o.RankPage2=d,cc._RF.pop()},{"../../../framework/manager/EventMng":"EventMng","../../../framework/ui/UIHelp":"UIHelp","../../../userData/EventConst":"EventConst"}],RankPageAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"83b1cfbLrJEsrY2ny5IUZDh","RankPageAdapter");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RankPageAdapter=void 0;var a=t("../../../framework/adapter/abstract/Holder"),s=t("../../../framework/adapter/abstract/ScrollAdapter"),c=t("../../../framework/adapter/abstract/View"),l=cc._decorator,p=l.ccclass,h=l.menu,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab1=null,e.prefab2=null,e}return n(e,t),e.prototype.getPrefab=function(t){return 1==t.type?this.prefab1:this.prefab2},e.prototype.getHolder=function(t,e){return new _(t,e,this)},e.prototype.getView=function(){return new f(this)},e.prototype.initElement=function(){},e.prototype.start=function(){this.modelManager.insert([{type:1},{type:2}])},r([u(cc.Node)],e.prototype,"prefab1",void 0),r([u(cc.Node)],e.prototype,"prefab2",void 0),r([p,h("UI/prefab/RankPageAdapter")],e)}(s.ScrollAdapter);o.RankPageAdapter=d;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onVisible=function(){},e.prototype.onDisable=function(){},e}(c.View),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onCreated=function(){},e.prototype.onVisible=function(){},e.prototype.onDisable=function(){},e}(a.Holder);cc._RF.pop()},{"../../../framework/adapter/abstract/Holder":"Holder","../../../framework/adapter/abstract/ScrollAdapter":"ScrollAdapter","../../../framework/adapter/abstract/View":"View"}],RankPart1:[function(t,e,o){"use strict";cc._RF.push(e,"3dfa13i17NBeLaFE4q31adN","RankPart1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RankPart1=void 0;var a=t("../../../framework/i18n/i18nMgr"),s=cc._decorator,c=s.ccclass,l=s.menu,p=s.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labMian1=null,e.labMian2=null,e.labMian3=null,e.labDes=null,e}return n(e,t),e.prototype.show=function(t){var e={en:"Loss Reduction ",zh:"\u6e1b\u640d"},o=t.data.data;this.labMian1.string=e[a.i18nMgr.getlanguage()]+""+o.mian_top1,this.labMian2.string=e[a.i18nMgr.getlanguage()]+""+o.mian_top2,this.labMian3.string=e[a.i18nMgr.getlanguage()]+""+o.mian_top3,this.labDes.string={en:"Reward outfits with Up to Loss Reduction",zh:"\u734e\u52f5\u6e1b\u640d\u88dd\u626e\uff0c\u6700\u9ad8\u6e1b\u640d"}[a.i18nMgr.getlanguage()]+""+o.mian_top1},e.prototype.hide=function(){},r([p(cc.Label)],e.prototype,"labMian1",void 0),r([p(cc.Label)],e.prototype,"labMian2",void 0),r([p(cc.Label)],e.prototype,"labMian3",void 0),r([p(cc.Label)],e.prototype,"labDes",void 0),r([c,l("UI/prefab/RankPart1")],e)}(cc.Component);o.RankPart1=h,cc._RF.pop()},{"../../../framework/i18n/i18nMgr":"i18nMgr"}],RankPart2:[function(t,e,o){"use strict";cc._RF.push(e,"b3aa0SRf3VABIXmVwQAsRWf","RankPart2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RankPart2=void 0;var a=t("../../../framework/manager/EventMng"),s=t("../../../userData/EventConst"),c=cc._decorator,l=c.ccclass,p=c.menu,h=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labCoinName=null,e}return n(e,t),e.prototype.show=function(t){a.default.emit(s.GameEvent.RANK_PAGE_1,t.data.data.thisWeekRank),a.default.emit(s.GameEvent.RANK_PAGE_2,t.data.data.lastWeekRank)},e.prototype.hide=function(){},e.prototype.start=function(){},r([h(cc.Node)],e.prototype,"labCoinName",void 0),r([l,p("UI/prefab/RankPart2")],e)}(cc.Component);o.RankPart2=u,cc._RF.pop()},{"../../../framework/manager/EventMng":"EventMng","../../../userData/EventConst":"EventConst"}],RankPart3:[function(t,e,o){"use strict";cc._RF.push(e,"5b11ccje/RDIZvQa22ncjF7","RankPart3");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RankPart3=void 0;var a=t("../../../framework/manager/EventMng"),s=t("../../../userData/EventConst"),c=cc._decorator,l=c.ccclass,p=c.menu,h=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tab1=null,e.tab2=null,e.labJianshaoList=[],e.labNameList=[],e}return n(e,t),e.prototype.onEnable=function(){a.default.on(s.GameEvent.RANK_TAB_CHANGE,this.tabChange,this)},e.prototype.onDisable=function(){a.default.off(s.GameEvent.RANK_TAB_CHANGE,this.tabChange,this)},e.prototype.start=function(){this.tab1.active=!0,this.tab2.active=!1},e.prototype.tabChange=function(t){this.tab1.active=0==t,this.tab2.active=1==t},e.prototype.show=function(){},e.prototype.hide=function(){},r([h(cc.Node)],e.prototype,"tab1",void 0),r([h(cc.Node)],e.prototype,"tab2",void 0),r([h([cc.Label])],e.prototype,"labJianshaoList",void 0),r([h([cc.Label])],e.prototype,"labNameList",void 0),r([l,p("UI/prefab/RankPart3")],e)}(cc.Component);o.RankPart3=u,cc._RF.pop()},{"../../../framework/manager/EventMng":"EventMng","../../../userData/EventConst":"EventConst"}],ReleaseManager:[function(t,e,o){"use strict";cc._RF.push(e,"effb2zQe+JLwolQH2dGj59B","ReleaseManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ReleaseEvent=o.ReleaseManager=void 0;var a,s=t("../abstract/Manager"),c=t("../define/enum"),l=t("./ScrollManager"),p=cc._decorator,h=p.ccclass,u=p.property;(function(t){t[t.ON_PULL_UP=0]="ON_PULL_UP",t[t.ON_PULL_DOWN=1]="ON_PULL_DOWN",t[t.ON_PULL_LEFT=2]="ON_PULL_LEFT",t[t.ON_PULL_RIGHT=3]="ON_PULL_RIGHT"})(a||(a={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._enabled=!1,e.left=0,e.right=0,e.top=0,e.bottom=0,e}return n(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.enabled?this.adapter.isHorizontal?this._pullLeft?this._pullLeft.expand:0:this._pullDown?this._pullDown.expand:0:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.enabled?this.adapter.isHorizontal?this._pullRight?this._pullRight.expand:0:this._pullUp?this._pullUp.expand:0:0},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){this.enabled&&(this._pullUp=new f(this,a.ON_PULL_UP,this.bottom),this._pullDown=new f(this,a.ON_PULL_DOWN,this.top),this._pullLeft=new f(this,a.ON_PULL_LEFT,this.right),this._pullRight=new f(this,a.ON_PULL_RIGHT,this.left),this.adapter.scrollManager.on(l.ScrollManager.Event.ON_SCROLL_START,this.onScrollStart,this),this.adapter.scrollManager.on(l.ScrollManager.Event.ON_SCROLL_END,this.onScrollEnd,this),this.adapter.scrollManager.on(l.ScrollManager.Event.ON_SCROLL_CANCEL,this.onScrollEnd,this),this.checkLoop())},e.prototype.checkLoop=function(){this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?(this.left>0&&(this.adapter.viewManager.loopHeader=!1),this.right>0&&(this.adapter.viewManager.loopFooter=!1)):(this.left>0&&(this.adapter.viewManager.loopFooter=!1),this.right>0&&(this.adapter.viewManager.loopHeader=!1)):this.adapter.isArrangeAxisStart?(this.top>0&&(this.adapter.viewManager.loopHeader=!1),this.bottom>0&&(this.adapter.viewManager.loopFooter=!1)):(this.top>0&&(this.adapter.viewManager.loopFooter=!1),this.bottom>0&&(this.adapter.viewManager.loopHeader=!1))},e.prototype.onScrollStart=function(){this.adapter.isHorizontal?(this.left>0&&this._pullRight._setState(c.ReleaseState.IDLE),this.right>0&&this._pullLeft._setState(c.ReleaseState.IDLE)):(this.top>0&&this._pullDown._setState(c.ReleaseState.IDLE),this.bottom>0&&this._pullUp._setState(c.ReleaseState.IDLE))},e.prototype.onScrollEnd=function(){this.adapter.isHorizontal?(this.left>0&&this._pullRight._setState(c.ReleaseState.RELEASE),this.right>0&&this._pullLeft._setState(c.ReleaseState.RELEASE)):(this.top>0&&this._pullDown._setState(c.ReleaseState.RELEASE),this.bottom>0&&this._pullUp._setState(c.ReleaseState.RELEASE))},e.prototype.internal_lateUpdate=function(){if(this.enabled){var t=this.adapter.scrollManager.boundaryOffset;this.adapter.scrollManager.dragging||(t=0),this.adapter.isHorizontal?(this.left>0&&this._pullRight._set(Math.max(-t,0),t<0),this.right>0&&this._pullLeft._set(Math.max(t,0),t>0)):(this.top>0&&this._pullDown._set(Math.max(t,0),t>0),this.bottom>0&&this._pullUp._set(Math.max(-t,0),t<0))}},e.Event=a,r([u()],e.prototype,"_enabled",void 0),r([u()],e.prototype,"enabled",null),r([u({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"\u6839\u636e\u6b64\u9608\u503c\u6765\u5207\u6362state\u72b6\u6001"})],e.prototype,"left",void 0),r([u({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"\u6839\u636e\u6b64\u9608\u503c\u6765\u5207\u6362state\u72b6\u6001"})],e.prototype,"right",void 0),r([u({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"\u6839\u636e\u6b64\u9608\u503c\u6765\u5207\u6362state\u72b6\u6001"})],e.prototype,"top",void 0),r([u({range:[0,1],slide:!0,step:.01,visible:function(){return this.enabled},tooltip:"\u6839\u636e\u6b64\u9608\u503c\u6765\u5207\u6362state\u72b6\u6001"})],e.prototype,"bottom",void 0),r([h("ReleaseManager")],e)}(s.Manager);o.ReleaseManager=d;var f=function(){function t(t,e,o){this._expand=0,this._progress=0,this._offset=0,this._defaultPercentage=o,this._manager=t,this._event=e}return Object.defineProperty(t.prototype,"expand",{get:function(){return this._expand},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"progress",{get:function(){return this._progress},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype._set=function(t,e){e&&(this._stop=!1),this._stop||(this._offset=t,this._progress=t/(this._defaultPercentage*this._manager.adapter.mainAxisSize),this._stop=this._offset<=.1,this._setState(c.ReleaseState.PULL),this._manager.emit(this._event,this))},t.prototype._setState=function(t){this._state!=c.ReleaseState.WAIT&&(t==c.ReleaseState.PULL&&this._state==c.ReleaseState.RELEASE||(this._state=t))},t.prototype.wait=function(t){void 0===t&&(t=this._defaultPercentage*this._manager.adapter.mainAxisSize),this._expand=t,this._state=c.ReleaseState.WAIT},t.prototype.release=function(){this._expand=0,this._state=c.ReleaseState.IDLE,this.offset<=.1&&(this._offset=0,this._progress=0,this._manager.emit(this._event,this))},t}();o.ReleaseEvent=f,cc._RF.pop()},{"../abstract/Manager":"Manager","../define/enum":"enum","./ScrollManager":"ScrollManager"}],RoomChoseModel:[function(t,e,o){"use strict";cc._RF.push(e,"6ea54WI06BIy6T7JMxf6BXS","RoomChoseModel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this,"roomChose")||this;return e.room1_type=2,e.room2_type=2,e.room3_type=2,e.room1_min=0,e.room1_max=30,e.room2_min=0,e.room2_max=30,e.room3_min=0,e.room3_max=30,e}return n(e,t),e.prototype.initData=function(t){var e=t[0],o=t[1],i=t[2];this.room1_type=null==e?void 0:e.status,this.room1_min=null==e?void 0:e.num,this.room1_max=null==e?void 0:e.total,this.room2_type=null==o?void 0:o.status,this.room2_min=null==o?void 0:o.num,this.room2_max=null==o?void 0:o.total,this.room3_type=null==i?void 0:i.status,this.room3_min=null==i?void 0:i.num,this.room3_max=null==i?void 0:i.total},e}(t("../framework/model/IDataModel").default);o.default=r,cc._RF.pop()},{"../framework/model/IDataModel":"IDataModel"}],RoomCoin:[function(t,e,o){"use strict";cc._RF.push(e,"34a8capEKRMlKbumef4sK/3","RoomCoin");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RoomCoin=void 0;var a=t("../../../framework/manager/EventMng"),s=t("../../../userData/EventConst"),c=t("../../../userData/GameDataCenter"),l=cc._decorator,p=l.ccclass,h=l.menu,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labCoin=null,e.id=0,e.scaling=!1,e}return n(e,t),e.prototype.onLoad=function(){a.default.on(s.GameEvent.COIN_SCALE,this.showScale,this)},e.prototype.onDestroy=function(){a.default.off(s.GameEvent.COIN_SCALE,this.showScale,this)},e.prototype.showScale=function(t){var e=this;this.scaling||c.default.roomInfoModel["coin"+this.id]>=t[this.id-1].total||(this.scaling=!0,cc.tween(this.node).by(.5,{scale:.2}).by(.5,{scale:-.2}).call(function(){e.scaling=!1}).start())},r([u(cc.Label)],e.prototype,"labCoin",void 0),r([u(cc.Integer)],e.prototype,"id",void 0),r([p,h("UI/prefab/RoomCoin")],e)}(cc.Component);o.RoomCoin=d,cc._RF.pop()},{"../../../framework/manager/EventMng":"EventMng","../../../userData/EventConst":"EventConst","../../../userData/GameDataCenter":"GameDataCenter"}],RoomInfoModel:[function(t,e,o){"use strict";cc._RF.push(e,"b25600AWy5EVoTi3Lzrm2Ri","RoomInfoModel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ROOM_NAME=o.ROAD_NAME=void 0;var r=t("../framework/i18n/i18nMgr"),a=t("../framework/manager/EventMng"),s=t("../framework/model/IDataModel"),c=t("./EventConst"),l=t("./GameDataCenter");o.ROAD_NAME={1:{zh:"\u98db\u9df9\u90e8\u843d",en:"Falcon tribes"},2:{zh:"\u96c4\u9e7f\u90e8\u843d",en:"Stag tribe"},3:{zh:"\u767d\u99ac\u90e8\u843d",en:"Horse tribes"},4:{zh:"\u9ed1\u864e\u90e8\u843d",en:"Tiger tribes"},5:{zh:"\u84bc\u72fc\u90e8\u843d",en:"Wolf tribe"},6:{zh:"\u68ee\u6797\u90e8\u843d",en:"Forest tribes"},7:{zh:"\u8349\u539f\u90e8\u843d",en:"Prairie Tribe"},8:{zh:"\u8352\u91ce\u90e8\u843d",en:"Wilderness tribes"}},o.ROOM_NAME={1:{zh:"\u69b4\u83b2",en:"\u69b4\u83b2"},2:{zh:"\u69b4\u83b2",en:"\u69b4\u83b2"},3:{zh:"\u69b4\u83b2",en:"\u69b4\u83b2"}};var p=function(t){function e(){var e=t.call(this,"roomInfo")||this;return e.gameStage=1,e.roomType=1,e.waitTime=0,e.coin=0,e.coin1=0,e.coin2=0,e.coin3=0,e.coin4=0,e.coin5=0,e.coin6=0,e.coin7=0,e.coin8=0,e.coinName="\u91d1\u5e01",e.bettingConfig1=0,e.bettingConfig2=0,e.bettingConfig3=0,e.bettingNum=0,e.bettingId=1,e.roomId=0,e.minPlayerNum=0,e.maxPlayerNum=0,e.killRoomId=void 0,e.coinGuafenNum=0,e.resultType=0,e.gameNo=0,e.lastShaRoomId=void 0,e.bettingCoin=0,e.winCoin=0,e}return n(e,t),Object.defineProperty(e.prototype,"killRoomName",{get:function(){return o.ROAD_NAME[this.killRoomId]?o.ROAD_NAME[this.killRoomId][r.i18nMgr.getlanguage()]:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastShaRoomName",{get:function(){return o.ROAD_NAME[this.lastShaRoomId]?o.ROAD_NAME[this.lastShaRoomId][r.i18nMgr.getlanguage()]:""},enumerable:!1,configurable:!0}),e.prototype.initData=function(t){this.roomType=t.room_type,this.minPlayerNum=t.betting_num,this.maxPlayerNum=t.total_num,this.gameNo=t.game_no,this.lastShaRoomId=t.last_shaid,this.changeRoomStage(t),this.setRoomName(t.room_type)},e.prototype.changeRoomStage=function(t){this.gameStage=t.game_stage,this.waitTime=t.wait_time,console.warn("game_stage:  ",this.gameStage)},e.prototype.initBettingConf=function(t){var e,o,i;this.bettingConfig1=this.bettingNum=(null===(e=t[0])||void 0===e?void 0:e.coin)||.2,this.bettingConfig2=(null===(o=t[1])||void 0===o?void 0:o.coin)||.2,this.bettingConfig3=(null===(i=t[2])||void 0===i?void 0:i.coin)||.2,this.bettingId=1},e.prototype.initRoomsCoin=function(t,e){e&&a.default.emit(c.GameEvent.COIN_SCALE,t);for(var o=0,i=t;o<i.length;o++){var n=i[o];this["coin"+n.roomid]=n.total}},e.prototype.setCoin=function(t){t.uid==l.default.accountModel.uid&&(this.coin=t.coin)},e.prototype.se\u69b4\u83b2illResult=function(t){this.lastShaRoomId=t.shaid,this.killRoomId=t.shaid,this.coinGuafenNum=t.sha_total,this.bettingCoin=t.betting_coin,this.winCoin=t.win_coin,"over"==t.tp?0==this.roomId?this.resultType=2:this.roomId==t.shaid?this.resultType=1:this.resultType=3:"win"==t.tp?this.resultType=4:"lose"==t.tp&&(this.resultType=1)},e.prototype.setRoomName=function(t){this.coinName=o.ROOM_NAME[t][r.i18nMgr.getlanguage()]},e}(s.default);o.default=p,cc._RF.pop()},{"../framework/i18n/i18nMgr":"i18nMgr","../framework/manager/EventMng":"EventMng","../framework/model/IDataModel":"IDataModel","./EventConst":"EventConst","./GameDataCenter":"GameDataCenter"}],ScrollAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"a7f19svYitFBaPKRI1PgCQJ","ScrollAdapter");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.DefaultHolder=o.DefaultView=o.ScrollAdapter=void 0;var a=t("../define/enum"),s=t("../help/helper"),c=t("../manager/CenterManager"),l=t("../manager/LayoutManager"),p=t("../manager/ModelManager"),h=t("../manager/PageViewManager"),u=t("../manager/ReleaseManager"),d=t("../manager/ScrollManager"),f=t("../manager/ViewManager"),_=t("./Holder"),g=t("./View"),y=cc._decorator,m=y.ccclass,v=y.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollManager=new d.ScrollManager,e.viewManager=new f.ViewManager,e.layoutManager=new l.LayoutManager,e.pageViewManager=new h.PageViewManager,e.releaseManager=new u.ReleaseManager,e.centerManager=new c.CenterManager,e.modelManager=new p.ModelManager,e}return n(e,t),e.prototype.initElement=function(){},e.prototype.getView=function(){return new C(this)},e.prototype.getHolder=function(t,e){return new M(t,e,this)},Object.defineProperty(e.prototype,"isVertical",{get:function(){return this.scrollManager.orientation==a.Orientation.Vertical},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHorizontal",{get:function(){return this.scrollManager.orientation==a.Orientation.Horizontal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isArrangeAxisStart",{get:function(){return this.viewManager.arrangeAxis==a.ArrangeAxis.Start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainAxis",{get:function(){return this.isVertical?"y":"x"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"crossAxis",{get:function(){return this.isVertical?"x":"y"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainAxisAnchorPoint",{get:function(){var t=this.isVertical?1:0;return this.isArrangeAxisStart?t:1-t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainAxisSize",{get:function(){return s.Helper.sizeToVec(this.scrollManager.view.getContentSize())[this.mainAxis]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"crossAxisSize",{get:function(){return s.Helper.sizeToVec(this.scrollManager.view.getContentSize())[this.crossAxis]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multiplier",{get:function(){var t=this.isVertical?-1:1;return this.isArrangeAxisStart?-t:t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paddingHeader",{get:function(){return this.isHorizontal?this.isArrangeAxisStart?this.viewManager.left:this.viewManager.right:this.isArrangeAxisStart?this.viewManager.top:this.viewManager.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paddingFooter",{get:function(){return this.isHorizontal?this.isArrangeAxisStart?this.viewManager.right:this.viewManager.left:this.isArrangeAxisStart?this.viewManager.bottom:this.viewManager.top},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainAxisPadding",{get:function(){return this.isHorizontal?this.viewManager.left+this.viewManager.right:this.viewManager.top+this.viewManager.bottom},enumerable:!1,configurable:!0}),e.prototype.getParentAdapter=function(t){if(null!=t&&!(t instanceof cc.Scene))return t.getComponent("ScrollAdapter")||this.getParentAdapter(t.parent)},e.prototype.__preload=function(){this.scrollManager.internal_create(this),this.viewManager.internal_create(this),this.modelManager.internal_create(this),this.releaseManager.internal_create(this),this.layoutManager.internal_create(this),this.pageViewManager.internal_create(this),this.centerManager.internal_create(this),this.viewManager.internal_init(),this.releaseManager.internal_init(),this.layoutManager.internal_init(),this.pageViewManager.internal_init(),this.centerManager.internal_init(),this.scrollManager.internal_init(),this.modelManager.internal_init()},e.prototype.update=function(t){this.scrollManager.internal_lateUpdate(t),this.viewManager.internal_lateUpdate(t),this.layoutManager.internal_lateUpdate(t),this.releaseManager.internal_lateUpdate(t)},r([v(d.ScrollManager)],e.prototype,"scrollManager",void 0),r([v(f.ViewManager)],e.prototype,"viewManager",void 0),r([v(l.LayoutManager)],e.prototype,"layoutManager",void 0),r([v(h.PageViewManager)],e.prototype,"pageViewManager",void 0),r([v(u.ReleaseManager)],e.prototype,"releaseManager",void 0),r([v(c.CenterManager)],e.prototype,"centerManager",void 0),r([m],e)}(cc.Component);o.ScrollAdapter=b;var C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onVisible=function(){this.adapter.node.emit(a.ViewEvent.VISIBLE,this)},e.prototype.onDisable=function(){this.adapter.node.emit(a.ViewEvent.DISABLE,this)},e}(g.View);o.DefaultView=C;var M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onCreated=function(){this.node.emit(a.HolderEvent.CREATED,this)},e.prototype.onVisible=function(){this.node.emit(a.HolderEvent.VISIBLE,this)},e.prototype.onDisable=function(){this.node.emit(a.HolderEvent.DISABLE,this)},e}(_.Holder);o.DefaultHolder=M,cc._RF.pop()},{"../define/enum":"enum","../help/helper":"helper","../manager/CenterManager":"CenterManager","../manager/LayoutManager":"LayoutManager","../manager/ModelManager":"ModelManager","../manager/PageViewManager":"PageViewManager","../manager/ReleaseManager":"ReleaseManager","../manager/ScrollManager":"ScrollManager","../manager/ViewManager":"ViewManager","./Holder":"Holder","./View":"View"}],ScrollManager:[function(t,e,o){"use strict";cc._RF.push(e,"6c212CgWnZM+7ueFzm9YvHL","ScrollManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ScrollManager=o.ADAPTER=void 0;var a,s=t("../abstract/Manager"),c=t("../define/debug"),l=t("../define/enum"),p=t("../help/helper"),h=t("./ViewManager"),u=cc._decorator,d=u.ccclass,f=u.property,_=new cc.Vec3;o.ADAPTER="__ADAPTER__",function(t){t[t.ON_SCROLL=0]="ON_SCROLL",t[t.ON_UPDATE_PERCENTAGE=1]="ON_UPDATE_PERCENTAGE",t[t.ON_VIEW_SIZE_CHANGED=2]="ON_VIEW_SIZE_CHANGED",t[t.ON_ABOUT_TO_STOP=3]="ON_ABOUT_TO_STOP",t[t.ON_SCROLL_START=4]="ON_SCROLL_START",t[t.ON_SCROLL_END=5]="ON_SCROLL_END",t[t.ON_SCROLL_CANCEL=6]="ON_SCROLL_CANCEL",t[t.ON_CHANGED_ORIENTATION=7]="ON_CHANGED_ORIENTATION",t[t.ON_SCROLL_TO_GROUPINDEX_BEFOR=8]="ON_SCROLL_TO_GROUPINDEX_BEFOR",t[t.ON_SCROLL_TO_GROUPINDEX_AFTER=9]="ON_SCROLL_TO_GROUPINDEX_AFTER",t[t.ON_SCROLL_TO_MODELINDEX_BEFOR=10]="ON_SCROLL_TO_MODELINDEX_BEFOR",t[t.ON_SCROLL_TO_MODELINDEX_AFTER=11]="ON_SCROLL_TO_MODELINDEX_AFTER"}(a||(a={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._view=null,e._content=null,e._orientation=l.Orientation.Vertical,e.touchMode=l.TouchMode.Auto,e.movementType=l.MovementType.Elastic,e.elasticity=.1,e.inertia=!0,e.decelerationRate=.135,e.aboutToStopVelocity=100,e.cancelInnerEvents=!0,e.nestedMinThreshold=.001,e.nestedMaxThreshold=.999,e._boundaryOffset=0,e._viewWidget=null,e._percentage=0,e._velocity=0,e._dragging=!1,e._scrolling=!1,e._isCanceledEvent=!1,e._contentStartPosition=new cc.Vec2,e._prevContentPosition=new cc.Vec2,e._nestedDirection=l.NestedDirection.Both,e._parentTouch=!1,e._stopCheckNested=!1,e._scrollHandlePercentage=null,e._scrollHandlePosition=null,e._isEmitAboutToStop=!1,e._isMyEventAndMoved=!1,e._scrollDirection=l.ScrollDirection.None,e._laseScrollDirection=l.ScrollDirection.None,e._touchEvent=null,e.test=!1,e}return n(e,t),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},set:function(t){this._view=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"content",{get:function(){return this._content},set:function(t){this._content=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"orientation",{get:function(){return this._orientation},set:function(t){t!=this._orientation&&(this._orientation=t,this.emit(a.ON_CHANGED_ORIENTATION))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_viewMin",{get:function(){return-this.adapter.mainAxisSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_viewMax",{get:function(){return this.adapter.mainAxisSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_defaultMin",{get:function(){return 1==this.adapter.multiplier?-this.adapter.mainAxisSize:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_defaultMax",{get:function(){return 1==this.adapter.multiplier?0:this.adapter.mainAxisSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMyEventAndMoved",{get:function(){return this._isMyEventAndMoved},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollDirection",{get:function(){return this._scrollDirection},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"laseScrollDirection",{get:function(){return this._laseScrollDirection},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"percentage",{get:function(){return this._percentage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dragging",{get:function(){return this._dragging},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundaryOffset",{get:function(){return this._boundaryOffset},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentAdapter",{get:function(){return this._parentAdapter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canAutoScroll",{get:function(){return!this.dragging&&this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canTouch",{get:function(){return this.touchMode==l.TouchMode.AlwaysAllow||this.touchMode!=l.TouchMode.Disabled&&(!!this.adapter.centerManager.enabled||!!this.adapter.releaseManager.enabled||this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentPosition",{get:function(){return this.content.position[this.adapter.mainAxis]},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){var t=this;this._initView(),this._initContent(),this._parentAdapter=this.adapter.getParentAdapter(this.adapter.node.parent),this.view[o.ADAPTER]=!0,this.adapter.viewManager.on(h.ViewManager.Event.ON_UPDATE_VIEWS,this._onUpdateViews,this),this.adapter.viewManager.on(h.ViewManager.Event.ON_CHANGED_VIRTUALSIZE,this._onChangedVirtualSize,this),this.adapter.viewManager.on(h.ViewManager.Event.ON_CHANGED_OVERFLOWHEADER,this._onChangedOverflowHeader,this),this.adapter.viewManager.on(h.ViewManager.Event.ON_RESET_ALL_STATE,this._onResetAllState,this),this.adapter.viewManager.on(h.ViewManager.Event.ON_CLEARVIEWS,this._onResetAllState,this),this.adapter.node.on(cc.Node.EventType.SIZE_CHANGED,this._onAdapterSizeChanged,this),this.view.on(cc.Node.EventType.SIZE_CHANGED,this._onViewSizeChanged,this),this._registerTouchEvent(),this.__createDebug(),this.adapter.scheduleOnce(function(){t._updatePercentage()})},e.prototype._initView=function(){if(!this.view)throw Error("ScrollManager view \u53c2\u6570\u4e3a\u7a7a\uff01");var t={x:.5,y:.5};t[this.adapter.mainAxis]=this.adapter.mainAxisAnchorPoint,this.view.setAnchorPoint(t.x,t.y);var e=this.view.getComponent(cc.Widget);e||((e=this.view.addComponent(cc.Widget)).isAlignLeft=e.isAlignRight=e.isAlignTop=e.isAlignBottom=!0,e.left=e.right=e.top=e.bottom=0),e.updateAlignment(),this._viewWidget=e},e.prototype.__createDebug=function(){if(c.ADAPTER_DEBUG_CONTENT){var t=new cc.Node("__DEBUG_CONTENT_RECT__");t.parent=this.view,this.__debug_graphics=t.addComponent(cc.Graphics),this.__debug_graphics.lineWidth=c.DEBUG_DRAW_LIND_WIDTH,this.__debug_graphics.fillColor=c.DEBUG_DRAW_FILL_COLOR,this.__debug_graphics.strokeColor=c.DEBUG_DRAW_BORDER_COLOR}},e.prototype.__drawDebug=function(){if(this.__debug_graphics){this.__debug_graphics.clear();var t=this.adapter.mainAxis,e=this.adapter.crossAxis,o=this.adapter.multiplier,i={x:0,y:0},n={x:0,y:0};n[t]=this.adapter.viewManager.virtualSize,n[e]=this.adapter.crossAxisSize,i[t]=this.contentPosition-n[t]*this.content.getAnchorPoint()[t]*o,i[t]+=this.adapter.viewManager.overflowHeader,i[e]-=n[e]*this.view.getAnchorPoint()[e],this.__debug_graphics.fillRect(i.x,i.y,n.x,n.y),this.__debug_graphics.stroke()}},e.prototype._initContent=function(){if(!this.content)throw Error("ScrollManager content \u53c2\u6570\u4e3a\u7a7a\uff01");this.content.setAnchorPoint(this.view.getAnchorPoint());var t={x:0,y:0};t[this.adapter.crossAxis]=p.Helper.sizeToVec(this.view.getContentSize())[this.adapter.crossAxis],this.content.setContentSize(t.x,t.y),this._layerLowest||(this._layerLowest=new cc.Node("_layerLowest"),this._layerMedium=new cc.Node("_layerMedium"),this._layerHighest=new cc.Node("_layerHighest"),this.content.addChild(this._layerLowest),this.content.addChild(this._layerMedium),this.content.addChild(this._layerHighest)),this._updateContentPosition({x:0,y:0})},e.prototype._registerTouchEvent=function(){this.view.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this,!0),this.view.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this,!0),this.view.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this,!0),this.view.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this,!0)},e.prototype._bubbleToParent=function(t){this._parentAdapter&&this._parentAdapter.scrollManager.view.dispatchEvent(t)},e.prototype._emitCancelEvent=function(t){if(!this._isCanceledEvent){var e=t.getLocation();e.subSelf(t.getStartLocation()),this.cancelInnerEvents&&e.mag()>7&&t.target!==this.view&&(this._simulateEvent(t,cc.Node.EventType.MOUSE_LEAVE),this._simulateEvent(t,cc.Node.EventType.TOUCH_CANCEL),this._isCanceledEvent=!0)}},e.prototype._simulateEvent=function(t,e,o){if(void 0===o&&(o=!0),t){var i=new cc.Event.EventTouch(t.getTouches(),t.bubbles),n=t.target;i.type=e,i.touch=t.touch,i.simulate=o,n.dispatchEvent(i)}},e.prototype._onUpdateViews=function(){this._velocity=0,this._updatePercentage()},e.prototype._onChangedVirtualSize=function(){this._updatePercentage(),null!=this._scrollHandlePosition&&null!=this._scrollHandlePosition.change&&this._scrollHandlePosition.change()},e.prototype._onChangedOverflowHeader=function(){this.__drawDebug()},e.prototype._onResetAllState=function(){this._velocity=0,this._scrolling=!1,this._dragging=!1,this._isMyEventAndMoved=!1,this._scrollDirection=l.ScrollDirection.None,this._percentage=0,this._isEmitAboutToStop=!1,this._boundaryOffset=0,this._isCanceledEvent=!1,this._parentTouch=!1,this._stopCheckNested=!1,this._scrollDirection=l.ScrollDirection.None,this._touchEvent=null,this.stopScroll(),this._initView(),this._initContent()},e.prototype._onAdapterSizeChanged=function(){this._viewWidget.updateAlignment()},e.prototype._onViewSizeChanged=function(){this.emit(a.ON_VIEW_SIZE_CHANGED)},e.prototype._isMyEvent=function(t,e){return t.eventPhase==cc.Event.EventTouch.AT_TARGET||!e||e[0]==this.view&&!t.target[o.ADAPTER]},e.prototype._onTouchStart=function(t){this._velocity=0,this._dragging=!0,this._isMyEventAndMoved=!1,this._isCanceledEvent=!1,this._parentTouch=!1,this._stopCheckNested=!1,this._isEmitAboutToStop=!1,this._scrollDirection=l.ScrollDirection.None,this._contentStartPosition.set(this.content.position),this._touchEvent=t,this.stopScroll(),this._calcNestedDirection(),this.emit(a.ON_SCROLL_START)},e.prototype._onTouchEnd=function(t){this._dragging=!1,this._touchEvent=null,this.emit(a.ON_SCROLL_END,t)},e.prototype._onTouchCancel=function(t){t.simulate||(this._dragging=!1,this._touchEvent=null,this.emit(a.ON_SCROLL_CANCEL,t))},e.prototype._onTouchMove=function(t,e){if(this._isMyEvent(t,e)){if(this._emitCancelEvent(t),this._parentTouch||!this.canTouch)return this._bubbleToParent(t);if(this._touchEvent){var o=this.adapter.mainAxis,i=t.getLocation(),n=t.getStartLocation(),r=i.sub(n);if(!r.equals(cc.v2())){var a={x:0,y:0};a[o]=this._contentStartPosition[o]+r[o];var s=a[o]-this.contentPosition,c=this.calcOffset(s),p=this.adapter.isHorizontal?-1:1;a[o]+=p*c,this.movementType==l.MovementType.Elastic&&0!=c&&(a[o]-=p*this._rubberDelta(c,this.adapter.mainAxisSize)),this._checkNested(t,a,this._parentAdapter),this._parentTouch?this._bubbleToParent(t):(this._isMyEventAndMoved=!0,this._updateContentPosition(a))}}}},e.prototype._calcNestedDirection=function(){this._parentAdapter&&(this.percentage<=this.nestedMinThreshold&&!this.adapter.viewManager.loopHeader?this._nestedDirection=1==this.adapter.multiplier?l.NestedDirection.Footer:l.NestedDirection.Header:this.percentage>=this.nestedMaxThreshold&&!this.adapter.viewManager.loopFooter?this._nestedDirection=1==this.adapter.multiplier?l.NestedDirection.Header:l.NestedDirection.Footer:this._nestedDirection=l.NestedDirection.Both)},e.prototype._checkNested=function(t,e,o){if(o&&!this._stopCheckNested){if(this.orientation==o.scrollManager.orientation){var i=e[this.adapter.mainAxis]-this._contentStartPosition[this.adapter.mainAxis];if(Math.abs(i)<=.1)return;this._nestedDirection==l.NestedDirection.Footer?i<0&&(this._parentTouch=!0):this._nestedDirection==l.NestedDirection.Header&&i>0&&(this._parentTouch=!0)}else{var n=0,r=0;if(t instanceof cc.Event.EventTouch){var a=t.getStartLocation(),s=t.getLocation();n=Math.abs(a.x-s.x),r=Math.abs(a.y-s.y)}else n=Math.abs(t.getScrollX()),r=Math.abs(t.getScrollY());if(n==r)return;n>r?this.adapter.isVertical&&(this._parentTouch=!0):r>n&&this.adapter.isHorizontal&&(this._parentTouch=!0)}if(!this._parentTouch&&o.scrollManager.parentAdapter)return this._checkNested(t,e,o.scrollManager.parentAdapter);this._stopCheckNested=!0}},e.prototype._updateContentPosition=function(t,e){void 0===e&&(e=!0),this._updateScrollDirection(t),this.content.setPosition(t.x,t.y),this.emit(a.ON_SCROLL,this._scrollDirection),e?this._updatePercentage():this.__drawDebug()},e.prototype._updatePrevContentPosition=function(){this._prevContentPosition.set(this.content.position)},e.prototype._calcPercentage=function(t,e){var o=this.internal_getHiddenSize(),i=this.adapter.viewManager.loopHeader,n=this.adapter.viewManager.loopFooter,r=this.adapter.multiplier,a=this.adapter.viewManager.overflowHeader,s=t*r;return this.adapter.isHorizontal?s-=e*r:s+=e*r,n?(s+=(a+(o+=this.adapter.viewManager.spacing)*r)*r,this.adapter.centerManager.enabled?s+=this.adapter.centerManager.getContainerOffset():s+=this.adapter.paddingHeader,s+=1,s%=o):i?(s+=this.adapter.mainAxisSize-1,this.adapter.centerManager.enabled?s-=this.adapter.centerManager.getContainerOffset():s-=this.adapter.paddingFooter,s+=(a+o*r)*r,t*-r>a*r&&(s+=this.adapter.viewManager.spacing),s%=o):(s+=a*r,this.adapter.centerManager.enabled?s+=this.adapter.centerManager.getContainerOffset():s+=this.adapter.paddingHeader,s>o&&(s=o)),s/o},e.prototype._updatePercentage=function(){var t=this.calcOffset();this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this._percentage=0:this._percentage=this._calcPercentage(this.contentPosition,t),this.emit(a.ON_UPDATE_PERCENTAGE,this._percentage,t),this.__drawDebug()},e.prototype.internal_disableTouchTarget=function(t){if(this._touchEvent&&this._touchEvent.target.uuid==t.uuid){var e=this._touchEvent;this._simulateEvent(e,cc.Node.EventType.TOUCH_CANCEL,!1),this._simulateEvent(e,cc.Node.EventType.MOUSE_LEAVE,!1),this._touchEvent=null}},e.prototype.internal_getHiddenSize=function(){var t=this.adapter.viewManager.loopHeader,e=this.adapter.viewManager.loopFooter,o=this.adapter.viewManager.virtualSize;return t||e||this.adapter.centerManager.enabled||(o-=this.adapter.mainAxisSize,o+=this.adapter.mainAxisPadding),o},e.prototype._getContentMinBoundaryOffset=function(t,e){return!this.adapter.viewManager.header||!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this.adapter.isHorizontal?e+this._defaultMax+t:e+this._defaultMin+t:this.adapter.viewManager.min+t},e.prototype._getContentMaxBoundaryOffset=function(t,e){return!this.adapter.viewManager.header||!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize<=this.adapter.mainAxisSize?this.adapter.isHorizontal?e+this._defaultMin+t:e+this._defaultMax+t:this.adapter.viewManager.max+t},e.prototype._getMaxBoundaryOffset=function(t){var e=this._viewMax;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?t:e+t:this.adapter.isArrangeAxisStart?-t:e-t},e.prototype._getMinBoundaryOffset=function(t){var e=this._viewMin;return this.adapter.isHorizontal?this.adapter.isArrangeAxisStart?e+t:t:this.adapter.isArrangeAxisStart?e-t:-t},e.prototype._rubberDelta=function(t,e){return(1-1/(.55*Math.abs(t)/e+1))*e*Math.sign(t)},e.prototype._calcElastic=function(t,e,o){var i=this.adapter.mainAxis,n=this.elasticity;this._scrolling&&(n*=3);var r=this.adapter.isHorizontal?-1:1,a=p.Helper.smoothDamp(this.contentPosition,this.contentPosition+r*e,this._velocity,n,p.Helper.Infinity,t),s=a.velocity,c=a.position;Math.abs(s)<1&&(s=0),this._velocity=s,o[i]=c},e.prototype._calcInertia=function(t,e){this._velocity*=Math.pow(this.decelerationRate,t),Math.abs(this._velocity)<1&&(this._velocity=0),e[this.adapter.mainAxis]+=this._velocity*t},e.prototype._calcClamped=function(t){var e=this.adapter.mainAxis,o=t[e]-this.contentPosition,i=this.calcOffset(o);this.adapter.isHorizontal?t[e]-=i:t[e]+=i},e.prototype._updateScrollDirection=function(t){var e=t[this.adapter.mainAxis]-this.contentPosition;0!=e?(this.adapter.isHorizontal?this._scrollDirection=e>0?l.ScrollDirection.Right:l.ScrollDirection.Left:this._scrollDirection=e>0?l.ScrollDirection.Up:l.ScrollDirection.Down,this._laseScrollDirection=this._scrollDirection):this._scrollDirection=l.ScrollDirection.None},e.prototype.internal_setContentPosition=function(t,e){void 0===e&&(e=!0);var o={x:0,y:0};o[this.adapter.mainAxis]=t,this._updateContentPosition(o,e)},e.prototype.internal_lateUpdate=function(t){this.test||(this._autoScrolling(t),this._scrollHandler(t,this._scrollHandlePosition,this._scrollPositionHandler.bind(this)),this._scrollHandler(t,this._scrollHandlePercentage,this._scrollPercentageHandler.bind(this)))},e.prototype._autoScrolling=function(t){var e=this.calcOffset();if(this._boundaryOffset=e,this._dragging||0==e&&0==this._velocity||(this.content.getPosition(_),this.movementType==l.MovementType.Elastic&&0!=e?this._calcElastic(t,e,_):this.inertia?this._calcInertia(t,_):this._velocity=0,this.movementType==l.MovementType.Clamped&&this._calcClamped(_),this._updateContentPosition(_)),this._dragging&&this.inertia){var o=(this.contentPosition-this._prevContentPosition[this.adapter.mainAxis])/t;this._velocity=p.Helper.lerp(this._velocity,o,10*t)}this._prevContentPosition.equals(this.content.position)||this._updatePrevContentPosition(),!this._isEmitAboutToStop&&!this._dragging&&Math.abs(this._velocity)<=this.aboutToStopVelocity&&(this._scrollHandlePercentage||this._scrollHandlePosition||(this.emit(a.ON_ABOUT_TO_STOP,this._velocity),this._isEmitAboutToStop=!0)),this._scrolling=!1},e.prototype._scrollHandler=function(t,e,o){if(null!=e){e.deltaTime+=t;var i=e.deltaTime/(e.duration>cc.macro.FLT_EPSILON?e.duration:cc.macro.FLT_EPSILON);i=p.Helper.clamp01(i);var n=cc.easing.quintOut(i);e.current=p.Helper.progress(e.from,e.to,e.current,n),o(e,i)}},e.prototype._scrollPercentageHandler=function(t,e){var o=this.percentage;if(this.setPercentage(t.current),1==e||o==this.percentage){var i=!0;this._scrollHandlePercentage.stop&&(i=this._scrollHandlePercentage.stop()),i&&(this._scrollHandlePercentage=null)}},e.prototype._scrollPositionHandler=function(t,e){var o={x:0,y:0};o[this.adapter.mainAxis]=t.current,this._setAutoScroll(o),(1==e||Math.abs(this.contentPosition-t.to)<=1e-4)&&(this._scrollHandlePosition.stop&&this._scrollHandlePosition.stop(),this._scrollHandlePosition=null)},e.prototype._setAutoScroll=function(t){var e=this,o=function(t){e._updateContentPosition(t),e._updatePrevContentPosition(),e._velocity=0};o(t);var i=this.calcOffset();if(0!=i){var n=this.adapter.isHorizontal?-1:1;return t[this.adapter.mainAxis]+=i*n,o(t),!1}return!0},e.prototype._scrollToPosition=function(t,e,o){var i=this;if(!this.canAutoScroll)return!1;var n=e();return!(null==n||Math.abs(this.contentPosition-n)<cc.macro.FLT_EPSILON||(this._scrollHandlePercentage=null,this._scrollHandlePosition={current:0,from:this.contentPosition,to:n,deltaTime:0,duration:Math.max(0,t),change:function(){n=e(),i._scrollHandlePosition.to=n},stop:function(){o()}},0))},e.prototype.getLayerNode=function(t){switch(t){case l.Layer.Medium:return this._layerMedium;case l.Layer.Highest:return this._layerHighest;default:return this._layerLowest}},e.prototype.scrollToModelIndex=function(t,e,o){var i=this,n=this.adapter.viewManager.getGroupIndexByModelIndex(e);if(-1!=n){var r=!1;this._scrollToPosition(t,function(){var t=i.adapter.centerManager.getPositionByGroupIndex(n,o,r);return r=!0,t},function(){i.emit(a.ON_SCROLL_TO_MODELINDEX_AFTER,e)})&&this.emit(a.ON_SCROLL_TO_MODELINDEX_BEFOR,e)}},e.prototype.scrollToGroupIndex=function(t,e,o){var i=this,n=!1;this._scrollToPosition(t,function(){var t=i.adapter.centerManager.getPositionByGroupIndex(e,o,n);return n=!0,t},function(){i.emit(a.ON_SCROLL_TO_GROUPINDEX_AFTER,e)})&&this.emit(a.ON_SCROLL_TO_GROUPINDEX_BEFOR,e)},e.prototype.scrollToHeader=function(t){this.scrollToGroupIndex(t,0)},e.prototype.scrollToFooter=function(t){this.scrollToGroupIndex(t,this.adapter.viewManager.groupLength-1)},e.prototype.scrollToPercentage=function(t,e){if(!this.canAutoScroll)return!1;Math.abs(this._percentage-e)<.001||(e=p.Helper.clamp01(e),t=Math.max(0,t),this._scrollHandlePercentage=null,this._scrollHandlePercentage={deltaTime:0,duration:t,current:0,from:this._percentage,to:e})},e.prototype.stopVelocity=function(){this._velocity=0},e.prototype.stopScroll=function(){this._scrollHandlePosition=null,this._scrollHandlePercentage=null,this.stopVelocity()},e.prototype.setPercentage=function(t){for(var e=this.internal_getHiddenSize(),o={x:0,y:0},i=0,n=null;i<100;){i++;var r=this._percentage-t;if(null!=n&&this._percentage===n)break;if(Math.abs(r)<cc.macro.FLT_EPSILON)break;n=this._percentage;var a=this.contentPosition-r*this.adapter.multiplier*e;if(o[this.adapter.mainAxis]=a,!this._setAutoScroll(o))break}100==i&&console.warn("\u5faa\u73af\u6b21\u6570\u5df2\u8fbe\u6700\u5927\u503c\uff0c\u5c3d\u91cf\u4e0d\u8981\u5728\u6eda\u52a8\u8fc7\u7a0b\u4e2d\u9891\u7e41\u4fee\u6539\u5c3a\u5bf8")},e.prototype.calcOffset=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.contentPosition);var o=0;if(this.movementType==l.MovementType.Unrestricted)return o;var i=this._getContentMaxBoundaryOffset(t,e),n=this._getContentMinBoundaryOffset(t,e),r=this._getMaxBoundaryOffset(i),a=this._getMinBoundaryOffset(n);!this.adapter.centerManager.enabled&&this.adapter.viewManager.virtualSize>this.adapter.mainAxisSize&&(this.adapter.isVertical?(r-=this.adapter.viewManager.top,a+=this.adapter.viewManager.bottom):(r-=this.adapter.viewManager.left,a+=this.adapter.viewManager.right));var s=0,c=0;if(this.adapter.centerManager.enabled&&this.adapter.viewManager.groupLength>0)c=this.adapter.centerManager.max,s=this.adapter.centerManager.min;else{var p=this.adapter.viewManager.getMagneticOffset();r-=p,a-=p}return this.adapter.releaseManager.enabled&&(c=Math.max(c,this.adapter.releaseManager.max),s=Math.max(s,this.adapter.releaseManager.min)),r-=c,(a+=s)<-.001?o=a:r>.001&&(o=r),o},e.Event=a,r([f()],e.prototype,"_view",void 0),r([f({type:cc.Node})],e.prototype,"view",null),r([f()],e.prototype,"_content",void 0),r([f({type:cc.Node})],e.prototype,"content",null),r([f({type:l.Orientation})],e.prototype,"_orientation",void 0),r([f({type:l.Orientation})],e.prototype,"orientation",null),r([f({type:l.TouchMode,tooltip:"Auto: \u5f53\u5185\u5bb9\u6491\u6ee1\u53ef\u89c6\u533a\u57df\u6216\u5f00\u542fReleaseManager\u65f6\u5141\u8bb8\u62d6\u52a8\n        AlwaysAllow: \u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u53ef\u4ee5\u62d6\u52a8\uff0c\u5373\u4f7f\u6ca1\u6709\u4efb\u4f55\u5143\u7d20\n        Disabled: \u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u7981\u7528\u62d6\u52a8\n        "})],e.prototype,"touchMode",void 0),r([f({type:l.MovementType})],e.prototype,"movementType",void 0),r([f({range:[0,1],slide:!0,step:.001,visible:function(){return this.movementType==l.MovementType.Elastic}})],e.prototype,"elasticity",void 0),r([f()],e.prototype,"inertia",void 0),r([f({range:[0,1],slide:!0,step:.001,visible:function(){return this.inertia}})],e.prototype,"decelerationRate",void 0),r([f({tooltip:"\u5f53\u6eda\u52a8\u901f\u5ea6\u5c0f\u4e8e\u8fd9\u4e2a\u503c\u65f6\uff0c\u4f1a\u53d1\u9001ON_ABOUT_TO_STOP\u5e7f\u64ad"})],e.prototype,"aboutToStopVelocity",void 0),r([f({tooltip:"\u53d6\u6d88\u5b50\u8282\u70b9\u7684Button\u70b9\u51fb\u4e8b\u4ef6"})],e.prototype,"cancelInnerEvents",void 0),r([f({range:[0,.5],slide:!0,step:.001,visible:function(){return this.inertia},tooltip:"\u5d4c\u5957\u65f6\uff0c\u5f53\u5b50\u5143\u7d20\u7684ScrollView\u62d6\u52a8\u65b9\u5411\u548c\u5f53\u524d\u62d6\u52a8\u65b9\u5411\u76f8\u540c\u65f6\uff0c\u4f7f\u7528\u5f53\u524d\u9608\u503c\u8fdb\u884c\u8ba1\u7b97\u7531\u8c01\u6765\u5904\u7406\u62d6\u52a8\n        \u65e0\u7279\u6b8a\u9700\u6c42\u65f6\uff0c\u9ed8\u8ba4\u503c\u5373\u53ef"})],e.prototype,"nestedMinThreshold",void 0),r([f({range:[.5,1],slide:!0,step:.001,visible:function(){return this.inertia},tooltip:"\u5d4c\u5957\u65f6\uff0c\u5f53\u5b50\u5143\u7d20\u7684ScrollView\u62d6\u52a8\u65b9\u5411\u548c\u5f53\u524d\u62d6\u52a8\u65b9\u5411\u76f8\u540c\u65f6\uff0c\u4f7f\u7528\u5f53\u524d\u9608\u503c\u8fdb\u884c\u8ba1\u7b97\u7531\u8c01\u6765\u5904\u7406\u62d6\u52a8\n        \u65e0\u7279\u6b8a\u9700\u6c42\u65f6\uff0c\u9ed8\u8ba4\u503c\u5373\u53ef"})],e.prototype,"nestedMaxThreshold",void 0),r([d("ScrollManager")],e)}(s.Manager);o.ScrollManager=g,cc._RF.pop()},{"../abstract/Manager":"Manager","../define/debug":"debug","../define/enum":"enum","../help/helper":"helper","./ViewManager":"ViewManager"}],Scrollbar:[function(t,e,o){"use strict";cc._RF.push(e,"ed45aVLRCpBnLDYpF0p0Drc","Scrollbar");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Scrollbar=void 0;var a=t("../abstract/ScrollAdapter"),s=t("../define/enum"),c=t("../help/helper"),l=t("../manager/ScrollManager"),p=cc._decorator,h=p.ccclass,u=p.property,d=(new cc.Color,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.adapter=null,e.handle=null,e.direction=s.ScrollbarDirection.Top_To_Bottom,e.interactable=!0,e.dragMinLimit=0,e.dragMaxLimit=1,e._transition=s.Transition.None,e.targetGraphic=null,e.hoverSprite=null,e.pressedSprite=null,e.hoverColor=cc.Color.WHITE.clone(),e.pressedColor=new cc.Color(211,211,211,255),e.hoverScale=new cc.Vec2(1,1),e.pressedScale=new cc.Vec2(1.2,1.2),e.transitionDuration=.2,e.numberOfSteps=0,e.enableAutoHide=!1,e.autoHideTime=1,e._isDirty=!1,e._size=0,e._value=-1,e._opacity=255,e}return n(e,t),Object.defineProperty(e.prototype,"transition",{get:function(){return this._transition},set:function(t){t!=this._transition&&(this._transition=t,t!=s.Transition.None&&(this.targetGraphic||(this.targetGraphic=this.handle)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){t!=this._size&&(this._size=c.Helper.clamp(t,.01,1),this._isDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){t!=this._value&&(this._value=this.getSteps(t),this._isDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stepSize",{get:function(){return this.numberOfSteps>1?1/(this.numberOfSteps-1):.1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transform",{get:function(){return this._transform||(this._transform=this.node),this._transform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"handleTransform",{get:function(){return this.handle?(this._handleTransform||(this._handleTransform=this.handle.node),this._handleTransform):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"xy",{get:function(){return this.axis==s.Orientation.Horizontal?"x":"y"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wh",{get:function(){return this.axis==s.Orientation.Horizontal?"width":"height"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"axis",{get:function(){return this.direction==s.ScrollbarDirection.Left_To_Right||this.direction==s.ScrollbarDirection.Right_To_Left?s.Orientation.Horizontal:s.Orientation.Vertical},enumerable:!1,configurable:!0}),e.prototype.__preload=function(){this.transform.setAnchorPoint(.5,.5),this.handleTransform.setAnchorPoint(.5,.5),this.handle.node.setPosition(0,0),this.adapter&&(this.adapter.scrollManager.on(l.ScrollManager.Event.ON_UPDATE_PERCENTAGE,this._onUpdateScrollbar,this),this._updateVisuals()),this.targetGraphic&&(this.targetGraphic.node.getScale(this._rawTargetScale),this._rawTargetFrame=this.targetGraphic.spriteFrame,this._rawTargetColor=this.targetGraphic.node.color.clone()),this._openAutoHide(!0)},e.prototype.onEnable=function(){var t=this.node;t&&(this._opacity=t.opacity),this.adapter&&(this.node[l.ADAPTER]=!0,this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.on(cc.Node.EventType.MOUSE_ENTER,this._mouseEnter,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this._mouseLeave,this),this.targetGraphic&&(this.targetGraphic.node.on(cc.Node.EventType.MOUSE_ENTER,this._targetMouseEnter,this),this.targetGraphic.node.on(cc.Node.EventType.MOUSE_LEAVE,this._targetMouseLeave,this)))},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchEnd,this),this.node.off(cc.Node.EventType.MOUSE_ENTER,this._mouseEnter,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this._mouseLeave,this),this.targetGraphic&&(this.targetGraphic.node.off(cc.Node.EventType.MOUSE_ENTER,this._targetMouseEnter,this),this.targetGraphic.node.off(cc.Node.EventType.MOUSE_LEAVE,this._targetMouseLeave,this))},e.prototype._targetMouseEnter=function(){switch(this._targetEnter=!0,this._openAutoHide(!1),this.transition){case s.Transition.Scale:this._transitionScale(this._targetStart?this.pressedScale:this.hoverScale);break;case s.Transition.SpriteSwap:this._transitionSprite(this._targetStart?this.pressedSprite:this.hoverSprite);break;case s.Transition.ColorTint:this._transitionColor(this._targetStart?this.pressedColor:this.hoverColor)}},e.prototype._targetMouseLeave=function(){switch(this._targetEnter=!1,this._openAutoHide(!0),this.transition){case s.Transition.Scale:this._transitionScale(this._targetStart?this.pressedScale:this._rawTargetScale);break;case s.Transition.SpriteSwap:this._transitionSprite(this._targetStart?this.pressedSprite:this._rawTargetFrame);break;case s.Transition.ColorTint:this._transitionColor(this._targetStart?this.pressedColor:this._rawTargetColor)}},e.prototype._transitionScale=function(t){if(t&&this.targetGraphic){var e=new cc.Vec3;this.targetGraphic.node.getScale(e),this._transitionInfo={time:0,from:e,to:t}}},e.prototype._transitionColor=function(t){t&&this.targetGraphic&&(this._transitionInfo={time:0,from:this.targetGraphic.node.color,to:t})},e.prototype._transitionSprite=function(t){t&&this.targetGraphic&&(this.targetGraphic.spriteFrame=t)},e.prototype._mouseEnter=function(){this.interactable&&this._openAutoHide(!1)},e.prototype._mouseLeave=function(){this.interactable&&this._openAutoHide(!0)},e.prototype._openAutoHide=function(t){this.enableAutoHide&&(this._autoHideRemainingTime=this.autoHideTime,this._isHide=t,t||this._setOpacity(this._opacity))},e.prototype._onTouchStart=function(t){if(this.interactable&&1!=this.size&&0!=this.size){this._openAutoHide(!1),this._pointerEvent=null,this._targetStart=!0;var e=t.getStartLocation();if(this._offset=this.handleTransform.convertToNodeSpaceAR(cc.v3(e.x,e.y)),Math.abs(this._offset[this.xy])>.5*this.handleTransform[this.wh]){this._offset=null,this._pointerEvent=t;var o=this._calcPercentage(t);this._setPercentage(o)}this.transition==s.Transition.Scale?this._transitionScale(this.pressedScale):this.transition==s.Transition.SpriteSwap?this._transitionSprite(this.pressedSprite):this.transition==s.Transition.ColorTint&&this._transitionColor(this.pressedColor)}},e.prototype._onTouchMove=function(t){if(this.interactable&&1!=this.size&&0!=this.size&&this._offset){var e=this._calcPercentage(t,this._offset[this.xy]);this._setPercentage(e)}},e.prototype._onTouchEnd=function(){if(this.interactable&&1!=this.size&&0!=this.size){switch(this._offset=null,this._pointerEvent=null,this._targetStart=!1,this.transition){case s.Transition.Scale:this._transitionScale(this._targetEnter?this.hoverScale:this._rawTargetScale);break;case s.Transition.SpriteSwap:this._transitionSprite(this._targetEnter?this.hoverSprite:this._rawTargetFrame);break;case s.Transition.ColorTint:this._transitionColor(this._targetEnter?this.hoverColor:this._rawTargetColor)}this.adapter.centerManager.scrollToCenter()}},e.prototype._setPercentage=function(t){this.adapter.scrollManager.stopScroll(),this.adapter.scrollManager.setPercentage(t)},e.prototype._calcPercentage=function(t,e){void 0===e&&(e=0);var o=(this.axis==s.Orientation.Horizontal?this.transform.width:this.transform.height)*(1-this.size),i=t.getLocation(),n=this.transform.convertToNodeSpaceAR(cc.v3(i.x,i.y))[this.xy]-e-.5*-this.transform[this.wh];n-=.5*this.handleTransform[this.wh];var r=this.adapter.scrollManager.percentage;switch(this.direction){case s.ScrollbarDirection.Right_To_Left:case s.ScrollbarDirection.Top_To_Bottom:r=c.Helper.clamp(1-n/o,this.dragMinLimit,this.dragMaxLimit);break;case s.ScrollbarDirection.Left_To_Right:case s.ScrollbarDirection.Bottom_To_Top:r=c.Helper.clamp(n/o,this.dragMinLimit,this.dragMaxLimit)}return this.getSteps(r)},e.prototype._onUpdateScrollbar=function(t,e){var o=0,i=0;this.adapter.viewManager.virtualSize>0&&(o=this.adapter.viewManager.virtualSize>=this.adapter.mainAxisSize?c.Helper.clamp01((this.adapter.mainAxisSize-Math.abs(e))/this.adapter.viewManager.virtualSize):1),i=t,this.size=o,this.numberOfSteps>1&&(i=Math.round(i*(this.numberOfSteps-1))/(this.numberOfSteps-1),i=c.Helper.clamp01(i)),this.value=i,this._autoHideRemainingTime=this.autoHideTime,this._setOpacity(this._opacity)},e.prototype._updateVisuals=function(){if(this.handleTransform&&this.adapter){var t={x:0,y:0},e={x:0,y:0},o=this.adapter.mainAxis,i=c.Helper.clamp01(this.value)*(1-this.size);t[o]=i,e[o]=i+this.size;var n=this.transform.getContentSize()[this.wh]-e[o]*this.transform.getContentSize()[this.wh],r=t[o]*this.transform.getContentSize()[this.wh],a=this.handle.node.getPosition();switch(this.direction){case s.ScrollbarDirection.Bottom_To_Top:case s.ScrollbarDirection.Left_To_Right:a[this.xy]=.5*(r-n);break;case s.ScrollbarDirection.Top_To_Bottom:case s.ScrollbarDirection.Right_To_Left:a[this.xy]=.5*(n-r)}this.handleTransform[this.wh]=this.transform.getContentSize()[this.wh]-n-r,this.handle.node.setPosition(a)}},e.prototype.update=function(t){this._clearDirty(),this._autoHide(t),this._tranitionHandler(t)},e.prototype._clearDirty=function(){if(this._isDirty&&(this._isDirty=!1,this._updateVisuals(),this._pointerEvent)){var t=this._pointerEvent.getLocation();this._offset=this.handleTransform.convertToNodeSpaceAR(cc.v3(t.x,t.y)),this._pointerEvent=null}},e.prototype._autoHide=function(t){if(this.enableAutoHide&&this._isHide&&!(this._autoHideRemainingTime<=0)&&(this._autoHideRemainingTime-=t,this._autoHideRemainingTime<=this.autoHideTime)){this._autoHideRemainingTime=Math.max(0,this._autoHideRemainingTime);var e=this._opacity*(this._autoHideRemainingTime/this.autoHideTime);this._setOpacity(e)}},e.prototype._tranitionHandler=function(t){var e=this.targetGraphic;if(this.transition!=s.Transition.None&&e&&this._transitionInfo){this._transitionInfo.time+=t;var o=1;if(this.transitionDuration>0&&(o=this._transitionInfo.time/this.transitionDuration),o>=1&&(o=1),this.transition==s.Transition.Scale){this._transitionInfo.current=e.node.getScale(cc.v2());var i=this._transitionInfo.from,n=this._transitionInfo.to;this._transitionInfo.current.x=c.Helper.lerp(i.x,n.x,o),this._transitionInfo.current.y=c.Helper.lerp(i.y,n.y,o),e.node.setScale(this._transitionInfo.current)}else this.transition==s.Transition.ColorTint&&(i=this._transitionInfo.from,n=this._transitionInfo.to,e.node.color=i.lerp(n,o));1===o&&(this._transitionInfo=null)}},e.prototype._setOpacity=function(t){if(this.handle){var e=function(e){e&&(e.opacity=t)};e(this.node.getComponent(cc.Sprite)),e(this.handle.getComponent(cc.Sprite))}},e.prototype.getSteps=function(t){return this.numberOfSteps>1&&(t=Math.round(t*(this.numberOfSteps-1))/(this.numberOfSteps-1),t=c.Helper.clamp(t,this.dragMinLimit,this.dragMaxLimit)),t},r([u(a.ScrollAdapter)],e.prototype,"adapter",void 0),r([u(cc.Sprite)],e.prototype,"handle",void 0),r([u({type:s.ScrollbarDirection,tooltip:"\u6eda\u52a8\u65b9\u5411"})],e.prototype,"direction",void 0),r([u({tooltip:"\u5f00\u542f\u540e\u4f1a\u5141\u8bb8\u7528\u6237\u6ed1\u52a8\u8fdb\u5ea6\u6761"})],e.prototype,"interactable",void 0),r([u({range:[0,1],slide:!0,step:.001,visible:function(){return this.interactable},tooltip:"\u53ef\u62d6\u62fd\u7684\u6700\u5c0f\u9650\u5236\uff0c\u9ed8\u8ba4=0\u4e0d\u9650\u5236,\u4ec5\u5f53\u4f60\u5f00\u542f\u4e86\u5faa\u73af,\u5e76\u4e14\u4f60\u7684item\u4f1a\u5b9e\u65f6\u4fee\u6539\u4e3b\u8f74\u5c3a\u5bf8\u65f6,\u90a3\u4e48\u4f60\u5e94\u8be5\u9002\u5f53\u9650\u5236\u62d6\u62fd\u533a\u57df"})],e.prototype,"dragMinLimit",void 0),r([u({range:[0,1],slide:!0,step:.001,visible:function(){return this.interactable},tooltip:"\u53ef\u62d6\u62fd\u7684\u6700\u5927\u9650\u5236\uff0c\u9ed8\u8ba4=1\u4e0d\u9650\u5236,\u4ec5\u5f53\u4f60\u5f00\u542f\u4e86\u5faa\u73af,\u5e76\u4e14\u4f60\u7684item\u4f1a\u5b9e\u65f6\u4fee\u6539\u4e3b\u8f74\u5c3a\u5bf8\u65f6,\u90a3\u4e48\u4f60\u5e94\u8be5\u9002\u5f53\u9650\u5236\u62d6\u62fd\u533a\u57df"})],e.prototype,"dragMaxLimit",void 0),r([u({type:s.Transition})],e.prototype,"_transition",void 0),r([u({type:s.Transition,visible:function(){return this.interactable}})],e.prototype,"transition",null),r([u({type:cc.Sprite,visible:function(){return this.transition!=s.Transition.None&&this.interactable}})],e.prototype,"targetGraphic",void 0),r([u({type:cc.SpriteFrame,visible:function(){return this.transition==s.Transition.SpriteSwap&&this.interactable}})],e.prototype,"hoverSprite",void 0),r([u({type:cc.SpriteFrame,visible:function(){return this.transition==s.Transition.SpriteSwap&&this.interactable}})],e.prototype,"pressedSprite",void 0),r([u({visible:function(){return this.transition==s.Transition.ColorTint&&this.interactable}})],e.prototype,"hoverColor",void 0),r([u({visible:function(){return this.transition==s.Transition.ColorTint&&this.interactable}})],e.prototype,"pressedColor",void 0),r([u({visible:function(){return this.transition==s.Transition.Scale&&this.interactable}})],e.prototype,"hoverScale",void 0),r([u({visible:function(){return this.transition==s.Transition.Scale&&this.interactable}})],e.prototype,"pressedScale",void 0),r([u({visible:function(){return this.transition==s.Transition.Scale||this.transition==s.Transition.ColorTint&&this.interactable}})],e.prototype,"transitionDuration",void 0),r([u({range:[0,11],slide:!0,step:1,tooltip:"\u7528\u4e8e\u8fdb\u5ea6\u7684\u6b65\u6570\u3002\u503c\u4e3a < 2 \u5c06\u7981\u7528"})],e.prototype,"numberOfSteps",void 0),r([u({tooltip:"\u5f00\u542f\u540e\u4f1a\u5728\u6eda\u52a8\u6761\u65e0\u66f4\u65b0\u65f6\u81ea\u52a8\u9690\u85cf"})],e.prototype,"enableAutoHide",void 0),r([u({visible:function(){return this.enableAutoHide},tooltip:"\u81ea\u52a8\u9690\u85cf\u6eda\u52a8\u6761\u7684\u65f6\u95f4"})],e.prototype,"autoHideTime",void 0),r([h],e)}(cc.Component));o.Scrollbar=d,cc._RF.pop()},{"../abstract/ScrollAdapter":"ScrollAdapter","../define/enum":"enum","../help/helper":"helper","../manager/ScrollManager":"ScrollManager"}],Settings:[function(t,e,o){"use strict";cc._RF.push(e,"92aa0x/wa5CyLK9ubt5U38L","Settings");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../framework/i18n/i18nMgr"),s=t("../../framework/manager/AudioMng"),c=cc._decorator,l=c.ccclass,p=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labEn=null,e.labZh=null,e.toggleEffect=null,e.toggleSound=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){var t=localStorage.getItem("effect")||"1";this.toggleEffect.isChecked="1"==t;var e=localStorage.getItem("sound")||"1";this.toggleSound.isChecked="1"==e;var o=a.i18nMgr.getlanguage();this.labEn.node.active="en"==o,this.labZh.node.active="zh"==o,this.toggleSound.node.getChildByName("checkmark_2").active=!this.toggleSound.isChecked,this.toggleEffect.node.getChildByName("checkmark_2").active=!this.toggleEffect.isChecked},e.prototype.onToggleEffect=function(t){localStorage.setItem("effect",t.isChecked?"1":"0"),t.node.getChildByName("checkmark_2").active=!t.isChecked,s.AudioMng.getInstance().effectRatio=t.isChecked?1:0},e.prototype.onToggleSound=function(t){localStorage.setItem("sound",t.isChecked?"1":"0"),t.node.getChildByName("checkmark_2").active=!t.isChecked,s.AudioMng.getInstance().bgmRatio=t.isChecked?1:0,t.isChecked?s.AudioMng.getInstance().playBGM():s.AudioMng.getInstance().stopBGM()},e.prototype.onToggleLanguage=function(t){var e=t.isChecked?"en":"zh";this.labEn.node.active="en"==e,this.labZh.node.active="zh"==e,a.i18nMgr.setLanguage(e)},e.prototype.onBtnClose=function(){this.node.active=!1},r([p(cc.Label)],e.prototype,"labEn",void 0),r([p(cc.Label)],e.prototype,"labZh",void 0),r([p(cc.Toggle)],e.prototype,"toggleEffect",void 0),r([p(cc.Toggle)],e.prototype,"toggleSound",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../framework/i18n/i18nMgr":"i18nMgr","../../framework/manager/AudioMng":"AudioMng"}],SingletonFactory:[function(t,e,o){"use strict";cc._RF.push(e,"90fb1eLDRdEMZG3qOuu3acX","SingletonFactory"),Object.defineProperty(o,"__esModule",{value:!0}),o.SingletonFactory=void 0;var i=function(){function t(){}return t.getInstance=function(e){if(!t.instances.has(e)){var o=new e;return t.instances.set(e,o),o}return t.instances.get(e)},t.instances=new Map,t}();o.SingletonFactory=i,cc._RF.pop()},{}],SkeletonExt:[function(t,e){"use strict";cc._RF.push(e,"be149Apc2VIHpYxJ/9STb3g","SkeletonExt"),cc.game.once(cc.game.EVENT_ENGINE_INITED,function(){cc.js.mixin(sp.Skeleton.prototype,{update:function(t){if(!this.paused)if(t*=this.timeScale*sp.timeScale,this.isAnimationCached()){if(this._isAniComplete){if(0===this._animationQueue.length&&!this._headAniInfo){var e=this._frameCache;if(e&&e.isInvalid()){e.updateToFrame();var o=e.frames;this._curFrame=o[o.length-1]}return}if(this._headAniInfo||(this._headAniInfo=this._animationQueue.shift()),this._accTime+=t,this._accTime>this._headAniInfo.delay){var i=this._headAniInfo;this._headAniInfo=null,this.setAnimation(0,i.animationName,i.loop)}return}this._updateCache(t)}else this._updateRealtime(t)}})}),cc._RF.pop()},{}],SocketDelegate:[function(t,e,o){"use strict";cc._RF.push(e,"800acXluV9LHb2cLsp3Pdc+","SocketDelegate"),Object.defineProperty(o,"__esModule",{value:!0}),o.SocketDelegate=void 0;var i=t("../userData/GameDataCenter"),n=t("../framework/manager/EventMng"),r=t("../framework/ui/UIHelp"),a=t("./Websocket"),s=t("../userData/ConfigModule"),c=t("../GameController"),l=t("../utils/Log"),p=function(){function t(){s.ConfigModule.IS_TEST?this.url=s.ConfigModule.WS_URL_TEST:this.url=s.ConfigModule.WS_URL_DEV}return t.prototype.connect=function(){this.websocket=new a.Websocket({url:this.url,pingTimeout:3e3,pongTimeout:5e3,pingMsg:JSON.stringify({c:"game",m:"ping",data:{}})}),this.websocket.onopen=this.onopen.bind(this),this.websocket.onmessage=this.onmessage.bind(this),this.websocket.onreconnect=this.onreconnect.bind(this),this.websocket.onclose=this.onclose.bind(this),this.websocket.onerror=this.onerror.bind(this)},t.prototype.send=function(t,e,o){var i={c:t,m:e,data:o};this.websocket.send(JSON.stringify(i)),cc.sys.isNative?l.Log.logTag(l.LOG_TAG.SOCKET,"%cSOCKET\u53d1\u9001--\x3e","color:#fff;background:red",JSON.stringify(i)):l.Log.logTag(l.LOG_TAG.SOCKET,"%cSOCKET\u53d1\u9001--\x3e","color:#fff;background:red",i)},t.prototype.close=function(){this.websocket.close()},t.prototype.toLoginScene=function(){c.default.socket.close()},t.prototype.onopen=function(){l.Log.warn("connect success"),r.default.CloseLoding(),i.default.socketModel.login()},t.prototype.appandeMsg=function(t){if("ping"!=t.m&&"pong"!=t.m&&(cc.sys.isNative?l.Log.logTag(l.LOG_TAG.SOCKET,"%cSOCKET\u63a5\u6536--\x3e","color:#fff;background:green",JSON.stringify(t)):l.Log.logTag(l.LOG_TAG.SOCKET,"%cSOCKET\u63a5\u6536--\x3e","color:#fff;background:green",t)),t.src="tcp","pong"==t.m)this.websocket.heartCheck();else{if(t.data.errcode)return r.default.ShowTips(t.data.errmsg),"login"==t.m?(l.Log.error("login\u5931\u8d25\uff0c\u8fd4\u56de\u9996\u9875\uff0c\u6e05\u7a7ajwt"),void this.toLoginScene()):void(503==t.data.errcode&&this.toLoginScene());n.default.emit(t.c+"_"+t.m,t.data)}},t.prototype.onmessage=function(t){var e=this;if(cc.sys.isNative){var o=new Uint8Array(t.data),i=JSON.parse(e.Utf8ArrayToStr(o));e.appandeMsg(i)}else if(cc.sys.platform==cc.sys.WECHAT_GAME){var n=e.arrayBufferToString(t);i=JSON.parse(n),e.appandeMsg(i)}else{var r=new FileReader;r.onload=function(){var t=this.result,o=new Uint8Array(t),i=JSON.parse(e.Utf8ArrayToStr(o));e.appandeMsg(i)},r.readAsArrayBuffer(t.data)}},t.prototype.onreconnect=function(){l.Log.error("reconnecting..."),r.default.ShowLoding()},t.prototype.onclose=function(){},t.prototype.onerror=function(){},t.prototype.Utf8ArrayToStr=function(t){var e,o,i,n,r,a;for(e="",i=t.length,o=0;o<i;)switch((n=t[o++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCharCode(n);break;case 12:case 13:r=t[o++],e+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=t[o++],a=t[o++],e+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&a)<<0)}return e},t.prototype.arrayBufferToString=function(t){if("string"==typeof t)return t;for(var e=new DataView(t.data),o=new Uint8Array(t.data.byteLength),i=0;i<o.length;i++)o[i]=e.getUint8(i);var n="",r=t=o;for(i=0;i<r.length;i++){var a=r[i].toString(2),s=a.match(/^1+?(?=0)/);if(s&&8==a.length){for(var c=s[0].length,l=r[i].toString(2).slice(7-c),p=1;p<c;p++)l+=r[p+i].toString(2).slice(2);n+=String.fromCharCode(parseInt(l,2)),i+=c-1}else n+=String.fromCharCode(r[i])}return n},t}();o.SocketDelegate=p,cc._RF.pop()},{"../GameController":"GameController","../framework/manager/EventMng":"EventMng","../framework/ui/UIHelp":"UIHelp","../userData/ConfigModule":"ConfigModule","../userData/GameDataCenter":"GameDataCenter","../utils/Log":"Log","./Websocket":"Websocket"}],SocketModel:[function(t,e,o){"use strict";cc._RF.push(e,"d08f30dfAdHSrhVNmabExX0","SocketModel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/manager/EventMng"),a=t("../framework/model/IDataModel"),s=t("../logic/ui/prefab/UIGameLayer"),c=t("../logic/ui/prefab/UIKiller"),l=t("../logic/ui/scene/UIGame"),p=t("../utils/Log"),h=t("./EventConst"),u=t("./GameDataCenter"),d=t("./PlayerModel"),f=function(t){function e(){return t.call(this,"SocketModel")||this}return n(e,t),e.prototype.getMessageListeners=function(){var t,e=this;return(t={}).game_login=function(t){e.socket_login(t)},t.game_move=function(t){e.socket_move(t)},t.game_roominfo=function(t){e.socket_roominfo(t)},t.game_stage=function(t){e.socket_stage(t)},t.game_betting=function(t){e.socket_betting(t)},t.game_leave=function(t){e.socket_leave(t)},t.game_join=function(t){e.socket_join(t)},t.game_userlist=function(t){e.socket_userlist(t)},t.game_bettinglist=function(t){e.socket_bettinglist(t)},t.game_sync_status=function(t){e.socket_sync_status(t)},t.game_close=function(t){e.socket_close(t)},t},e.prototype.login=function(){this.sendSocketMsg("game","login",{jwt:u.default.accountModel.jwt})},e.prototype.joinRoom=function(t){this.sendSocketMsg("game","joinroom",{room_type:t})},e.prototype.move=function(t){this.sendSocketMsg("game","move",{roomid:t})},e.prototype.betting=function(t,e){this.sendSocketMsg("game","betting",{roomid:t,id:e})},e.prototype.socket_login=function(t){p.Log.warn("\u957f\u94fe\u63a5\u767b\u5f55\u6210\u529f");var e=u.default.accountModel,o=t.data.user;e.avatar=o.avatar,e.nickName=o.nickname,e.uid=o.id,e.status=o.status,this.joinRoom(1)},e.prototype.socket_roominfo=function(t){u.default.accountModel.players.forEach(function(t){t.destroy()});var e=t.data;u.default.roomInfoModel.roomId=e.betting_roomid,u.default.roomInfoModel.initData(e.roominfo),u.default.roomInfoModel.initRoomsCoin(e.rooms,!1),u.default.roomInfoModel.initBettingConf(e.betting_config),u.default.roomInfoModel.setCoin(t.data.user),r.default.emit(h.GameEvent.SET_DOORS,e.roominfo.game_stage),s.default.instance.showLas\u69b4\u83b2illerAni()},e.prototype.socket_move=function(t){var e=t.data;u.default.roomInfoModel.initRoomsCoin(e.rooms,!0),e.betting.uid!=u.default.accountModel.uid&&u.default.accountModel.players.get(e.betting.uid).moveToRoomById(e.betting.roomid)},e.prototype.socket_stage=function(t){var e=t.data,o=e.game_stage;switch(u.default.roomInfoModel.changeRoomStage(e),s.default.instance.showLas\u69b4\u83b2illerAni(),o){case 1:r.default.emit(h.GameEvent.OPEN_GAME),u.default.roomInfoModel.roomId=e.betting_roomid,u.default.roomInfoModel.initData(e.roominfo),u.default.roomInfoModel.initRoomsCoin(e.rooms,!1),u.default.roomInfoModel.initBettingConf(e.betting_config);break;case 3:l.default.instance.showStage3Ani(),s.default.instance.showStage3Ani();break;case 4:c.default.instance.kill(e.shaid);break;case 5:u.default.roomInfoModel.se\u69b4\u83b2illResult(e),u.default.roomInfoModel.setCoin(e.user),l.default.instance.showStage5Ani()}},e.prototype.socket_betting=function(t){var e=t.data,o=e.betting,i=u.default.accountModel.players.get(o.uid);o.uid!=u.default.accountModel.uid?i.moveToRoomById(o.roomid):i.showBetting(o.coin),u.default.roomInfoModel.minPlayerNum=e.betting_num,u.default.roomInfoModel.maxPlayerNum=e.total_num,u.default.roomInfoModel.initRoomsCoin(e.rooms,!0),u.default.roomInfoModel.setCoin(t.data.user)},e.prototype.socket_leave=function(t){var e=t.data,o=u.default.accountModel.players.get(e.uid);null==o||o.destroy()},e.prototype.socket_join=function(t){var e=t.data;e.is_betting||this.createPlayer(e.user,0)},e.prototype.socket_userlist=function(t){for(var e=0,o=t.data.userlist;e<o.length;e++){var i=o[e];this.createPlayer(i,0)}},e.prototype.socket_bettinglist=function(t){var e=t.data.bettinglist;for(var o in e){var i=e[o];this.createPlayer(i,i.roomid),i.uid==u.default.accountModel.uid&&(u.default.roomInfoModel.roomId=i.roomid,u.default.accountModel.players.get(i.uid).showBetting(i.coin))}},e.prototype.socket_sync_status=function(t){var e=t.data;u.default.roomChoseModel.initData(e.room_status)},e.prototype.socket_close=function(){r.default.emit(h.GameEvent.CLOSE_GAME)},e.prototype.createPlayer=function(t,e){if(!u.default.accountModel.players.get(t.uid)){var o=new d.default;o.initData(t),u.default.accountModel.players.size<=60&&o.loadPlayerAni(e),u.default.accountModel.players.set(t.uid,o)}},e}(a.default);o.default=f,cc._RF.pop()},{"../framework/manager/EventMng":"EventMng","../framework/model/IDataModel":"IDataModel","../logic/ui/prefab/UIGameLayer":"UIGameLayer","../logic/ui/prefab/UIKiller":"UIKiller","../logic/ui/scene/UIGame":"UIGame","../utils/Log":"Log","./EventConst":"EventConst","./GameDataCenter":"GameDataCenter","./PlayerModel":"PlayerModel"}],StringFormat:[function(t,e,o){"use strict";cc._RF.push(e,"0cee0I1ITJM052iCnpfRV7g","StringFormat"),Object.defineProperty(o,"__esModule",{value:!0}),o.StringFormatFunction=void 0;var i=function(){function t(){}return t.prototype.deal=function(t,e){if(""===e)return t;var o,i=(e=e.toLowerCase().trim()).match(/^[a-z|A-Z]+/gi),n=e.match(/\(([^)]*)\)/),r="",a="";if(i&&(r=i[0]),n&&(o=parseInt(n[1])),"number"==typeof t)switch(r){case"int":a=this.int(t);break;case"fix":a=this.fix(t,o);break;case"kmbt":a=this.KMBT(t);break;case"per":a=this.per(t,o);break;case"sep":a=this.sep(t)}else{switch(r){case"limit":a=this.limit(t,o)}a=t}return a},t.prototype.sep=function(t){return Math.round(t).toString().replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,")},t.prototype.time_m=function(){},t.prototype.time_s=function(){},t.prototype.time_ms=function(){},t.prototype.timeStamp=function(t){return new Date(t).toString()},t.prototype.per=function(t,e){return Math.round(100*t).toFixed(e)},t.prototype.int=function(t){return Math.round(t)},t.prototype.fix=function(t,e){var o=new RegExp("([0-9]+\\.[0-9]{"+e+"})[0-9]*"),i=t.toString().replace(o,"$1");return parseFloat(i).toFixed(e)},t.prototype.limit=function(t,e){return t.substring(0,e)},t.prototype.KMBT=function(t,e){return void 0===e&&(e="en"),this.compressUnit(t,[1e3,1e6,1e9,1e12],["","K","M","B","T"],2)},t.prototype.compressUnit=function(t,e,o,i){void 0===i&&(i=2);var n,r,a=e,s=o;for(r=0;r<a.length;r++)if(t<a[r]){n=r>0?(t/a[r-1]).toFixed(i):t.toFixed(0);break}return n+s[r]},t}();o.StringFormatFunction=new i,cc._RF.pop()},{}],UIBase:[function(t,e,o){"use strict";cc._RF.push(e,"45649v9bRBB0JMA/zmnATZE","UIBase");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../manager/EventMng"),s=t("../manager/AudioMng"),c=cc._decorator,l=c.ccclass,p=c.property,h=t("../component/VMParent"),u=t("../../utils/Log"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maskNode=null,e.alertNode=null,e}return n(e,t),Object.defineProperty(e.prototype,"tags",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!1,configurable:!0}),e.getUrl=function(){return"prefab/"+this.prefabUrl},e.getName=function(){return this.className},e.prototype.init=function(t){this.onInit(t)},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this._notifyEventList=new Map,this._registerEventList=new Map,this.onUILoad()},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.onUIDestroy()},e.prototype.onEnable=function(){this.onShow()},e.prototype.onDisable=function(){this.onHide();var t=this;this._notifyEventList.forEach(function(e,o){a.default.off(o,e,t)},this),this._notifyEventList.clear(),this._registerEventList.forEach(function(t){t.node.off(t.type)},this),this._registerEventList.clear()},e.prototype.initEvent=function(t,e){a.default.on(t,e,this),this._notifyEventList.set(t,e)},e.prototype.touchEvent=function(t){t.stopPropagation()},e.prototype.start=function(){if(this.maskNode){var t=this.maskNode.opacity;this.maskNode.opacity=0,cc.tween(this.maskNode).to(.3,{opacity:t}).start()}this.alertNode&&(this.alertNode.scale=0,this.alertNode.opacity=0,cc.tween(this.alertNode).to(.3,{opacity:255}).start(),cc.tween(this.alertNode).to(.3,{scale:1.2}).to(.1,{scale:1}).start()),this.onStart()},e.prototype.update=function(t){this.onUpdate(t)},e.prototype.onInit=function(){},e.prototype.onUILoad=function(){},e.prototype.onUIDestroy=function(){},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.onUpdate=function(){},e.prototype.onClose=function(){},e.prototype.onRegisterEvent=function(t,e,o,i){void 0===o&&(o="ui_click"),void 0===i&&(i=!0);var n=t.getComponent(cc.Button),r=t.getComponent(cc.Toggle),a=this;t?n?(n.node.on("click",function(){i&&s.audioCnf.click&&s.AudioMng.getInstance().playSFX(o),e.call(a,n)},a),this._registerEventList.set(t.uuid,{node:t,type:"click"})):r?(r.node.on("toggle",function(){i&&s.audioCnf.click&&s.AudioMng.getInstance().playSFX(o),e.call(a,r)},a),this._registerEventList.set(t.uuid,{node:t,type:"toggle"})):u.Log.error("not btn or toggle"):u.Log.error("no node")},r([p(cc.Node)],e.prototype,"maskNode",void 0),r([p(cc.Node)],e.prototype,"alertNode",void 0),r([l],e)}(h.default);o.default=d,cc._RF.pop()},{"../../utils/Log":"Log","../component/VMParent":"VMParent","../manager/AudioMng":"AudioMng","../manager/EventMng":"EventMng"}],UIComDialog:[function(t,e,o){"use strict";cc._RF.push(e,"4cc64rWWDZJZpiFyp1TUAA6","UIComDialog");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/comPop/auto_comDialog"),s=t("../../../framework/ui/UIBase"),c=t("../../../framework/ui/UIHelp"),l=t("../../../utils/Log"),p=cc._decorator,h=p.ccclass,u=p.menu,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e}var o;return n(e,t),o=e,e.prototype.onInit=function(t){if(null!=t){var e=t[0];this._title=e.title,this._content=e.content,this._certainCb=e.certainCb,this._cancelCb=e.cancelCb}else l.Log.error("UIComDialog:\u6ca1\u6709\u4f20\u5165\u53c2\u6570\uff01\uff01\uff01")},e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default)},e.prototype.onShow=function(){this.onRegisterEvent(this.ui.btn_close,this.onClose),this.onRegisterEvent(this.ui.btn_cancel,this.onCancel),this.onRegisterEvent(this.ui.btn_certain,this.onCertain)},e.prototype.onHide=function(){},e.prototype.onStart=function(){c.default.SetLabel(this.ui.lbl_title,this._title),c.default.SetLabel(this.ui.lbl_content,this._content),this.ui.btn_cancel.active=Boolean(this._cancelCb),this.ui.btn_certain.active=Boolean(this._certainCb)},e.prototype.onClose=function(){c.default.CloseUI(o)},e.prototype.onCancel=function(){this.onClose(),this._cancelCb&&this._cancelCb()},e.prototype.onCertain=function(){this.onClose(),this._certainCb&&this._certainCb()},e.prefabUrl="comPop/comDialog",e.className="UIComDialog",o=r([h,u("UI/comPop/UIComDialog")],e)}(s.default));o.default=d,cc._RF.pop()},{"../../../data/autoui/comPop/auto_comDialog":"auto_comDialog","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../utils/Log":"Log"}],UIComSharePop:[function(t,e,o){"use strict";cc._RF.push(e,"c24fc6o/MZOEaSDXsaggLbC","UIComSharePop");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/comPop/auto_comSharePop"),s=t("../../../framework/ui/UIBase"),c=t("../../../framework/ui/UIHelp"),l=cc._decorator,p=l.ccclass,h=l.menu,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default)},e.prototype.onShow=function(){this.onRegisterEvent(this.ui.btn_close,this.onClose)},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.onClose=function(){c.default.CloseUI(o)},e.prefabUrl="comPop/comSharePop",e.className="UIComSharePop",o=r([p,h("UI/comPop/UIComSharePop")],e)}(s.default));o.default=u,cc._RF.pop()},{"../../../data/autoui/comPop/auto_comSharePop":"auto_comSharePop","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIComTipsItem:[function(t,e,o){"use strict";cc._RF.push(e,"dbdfdbIDIBKtL232M9qnlEC","UIComTipsItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/comPop/auto_comTipsItem"),s=t("../../../framework/ui/UIBase"),c=t("../../../framework/ui/UIHelp"),l=cc._decorator,p=l.ccclass,h=l.menu,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e.ready=!0,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default)},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.onClose=function(){c.default.CloseUI(o)},e.prototype.playTip=function(t){this.node.stopAllActions(),this.ready=!1,c.default.SetLabel(this.ui.lab_des,t),this.reset();var e=cc.moveTo(.5,0,128),o=cc.fadeIn(.5),i=cc.spawn(e,o),n=cc.delayTime(1),r=cc.fadeOut(.5),a=cc.callFunc(function(){this.ready=!0},this),s=cc.sequence(i,n,r,a);this.node.runAction(s)},e.prototype.isReady=function(){return this.ready},e.prototype.reset=function(){this.node.setPosition(0,0),this.node.opacity=255},e.prefabUrl="comPop/comTipsItem",e.className="UIComTipsItem",o=r([p,h("UI/comPop/UIComTipsItem")],e)}(s.default));o.default=u,cc._RF.pop()},{"../../../data/autoui/comPop/auto_comTipsItem":"auto_comTipsItem","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIComTips:[function(t,e,o){"use strict";cc._RF.push(e,"bf160oURsRAtJBdIk4+YYfl","UIComTips");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/comPop/auto_comTips"),s=t("../../../framework/ui/UIBase"),c=t("../../../framework/ui/UIHelp"),l=t("./UIComTipsItem"),p=cc._decorator,h=p.ccclass,u=p.menu,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e.tipPrefab=null,e.tipPool=[],e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default)},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.onClose=function(){c.default.CloseUI(o)},e.prototype.showTip=function(t){for(var e=0;e<this.tipPool.length;++e)if(null!=this.tipPool[e]&&this.tipPool[e].isReady())return void this.tipPool[e].playTip(t);var o=cc.instantiate(this.tipPrefab);o.parent=this.node;var i=o.getComponent(l.default);this.tipPool.push(i),i.playTip(t)},e.prefabUrl="comPop/comTips",e.className="UIComTips",r([d(cc.Prefab)],e.prototype,"tipPrefab",void 0),o=r([h,u("UI/comPop/UIComTips")],e)}(s.default);o.default=f,cc._RF.pop()},{"../../../data/autoui/comPop/auto_comTips":"auto_comTips","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","./UIComTipsItem":"UIComTipsItem"}],UIGameLayer:[function(t,e,o){"use strict";cc._RF.push(e,"699cfQJpzRB5qbZycCUCqp4","UIGameLayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./../../../utils/Utils"),s=t("../../../data/autoui/prefab/auto_gameLayer"),c=t("../../../framework/manager/AudioMng"),l=t("../../../framework/ui/UIBase"),p=t("../../../framework/ui/UIHelp"),h=t("../../../userData/EventConst"),u=t("../../../userData/GameDataCenter"),d=t("./UIJiluLayer"),f=t("./UIRankLayer"),_=t("./UIWeihuLayer"),g=t("../../../framework/i18n/i18nMgr"),y=t("../../../userData/PlayerModel"),m=cc._decorator,v=m.ccclass,b=m.menu,C=m.property,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e.playerPrefab=null,e.playerNamePrefab=null,e.coinPrefab=null,e.tipsIndex=0,e.tipsTween=null,e.tipsList=[],e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(s.default),o.instance=this},e.prototype.onShow=function(){this.onRegisterEvent(this.ui.outGame,this.outGame),this.onRegisterEvent(this.ui.btn_room1,this.onRoom1Click),this.onRegisterEvent(this.ui.btn_room2,this.onRoom2Click),this.onRegisterEvent(this.ui.btn_room3,this.onRoom3Click),this.onRegisterEvent(this.ui.btn_room4,this.onRoom4Click),this.onRegisterEvent(this.ui.btn_room5,this.onRoom5Click),this.onRegisterEvent(this.ui.btn_chose_room,this.onChoseRoomClick),this.onRegisterEvent(this.ui.btn_chose_betting_num,this.onChoseBettingNumClick),this.onRegisterEvent(this.ui.toggle1,this.onBettingNum1Click),this.onRegisterEvent(this.ui.toggle2,this.onBettingNum2Click),this.onRegisterEvent(this.ui.toggle3,this.onBettingNum3Click),this.onRegisterEvent(this.ui.btn_betting,this.onBettingClick),this.onRegisterEvent(this.ui.btn_rank,this.onRankClick),this.onRegisterEvent(this.ui.btn_jilu,this.onJiluClick),this.initEvent(h.GameEvent.SET_DOORS,this.onStageChange),this.initEvent(h.GameEvent.CLOSE_GAME,this.onCloseGame),this.initEvent(h.GameEvent.OPEN_GAME,this.onOpenGame);var t=new y.default;t.initData({});for(var e=0;e<20;e++)t.loadPlayerAni(0)},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.onCloseGame=function(){p.default.ShowUI(_.default)},e.prototype.onOpenGame=function(){p.default.CloseUI(_.default)},e.prototype.resetRoomChose=function(){this.ui.toggle1.getComponent(cc.Toggle).isChecked=!0,this.unscheduleAllCallbacks(),this.showLas\u69b4\u83b2illerAni()},e.prototype.showLas\u69b4\u83b2illerAni=function(){var t=this,e=[{zh:"\u9078\u64c7\u90e8\u843d\uff0c\u5b88\u8b77\u5bf6\u85cf",en:"Choose a Tribe, Guard the Treasure"},{zh:"\u6210\u529f\u8eb2\u907f\u66b4\u9f8d\u7372\u5f97\u69b4\u83b2\u734e\u52f5",en:"Successful escape the Tyrannosaurus \u69b4\u83b2 reward oh"},{zh:"\u4e0a\u671f\u66b4\u9f8d\u53bb\u4e86\u300cXXX\u300d",en:"It just went\u300cXXX\u300d"}];this.tipsList=["\u5feb\u9009\u4e2a\u623f\u95f4\u8eb2\u8d77\u6765\uff0c\u6740\u624b\u8981\u6765\u4e86","\u6210\u529f\u8eb2\u907f\u6740\u624b\u83b7\u5f97"+u.default.roomInfoModel.coinName+"\u5956\u52b1\u54e6","\u4e0a\u671f\u6740\u624b\u53bb\u4e86\u300c"+u.default.roomInfoModel.lastShaRoomName+"\u300d"],u.default.roomInfoModel.gameStage<=2?this.tipsIndex=0:this.tipsIndex=2,p.default.SetLabel(this.ui.lab_shangqi,e[this.tipsIndex][g.i18nMgr.getlanguage()].replace("XXX",u.default.roomInfoModel.lastShaRoomName)),this.tipsTween||(this.tipsTween=cc.tween(this.ui.lab_shangqi),this.tipsTween.repeatForever(cc.tween().delay(2).call(function(){p.default.SetLabel(t.ui.lab_shangqi,e[t.tipsIndex][g.i18nMgr.getlanguage()].replace("XXX",u.default.roomInfoModel.lastShaRoomName)),u.default.roomInfoModel.gameStage<=2&&(t.tipsIndex+=1,t.tipsIndex>2&&(t.tipsIndex=0))})).start())},e.prototype.outGame=function(){this.node.getChildByName("nodeSetting").active=!0},e.prototype.onStageChange=function(t){switch(t){case 1:case 2:this.setDoors(1);break;case 3:case 4:case 5:this.setDoors(2)}},e.prototype.setDoors=function(t){for(var e=1;e<=9;e++){var o=void 0;switch(e){case 1:o=2;break;case 2:o=6;break;case 3:o=4;break;case 4:o=5;break;case 5:o=7;break;default:continue}var i=1==t?"open":"guan"+o;this.ui["men"+o].getComponent(sp.Skeleton).setAnimation(0,i,!1)}},e.prototype.openAllDoors=function(){var t=this;console.warn("\u6253\u5f00\u6240\u6709\u95e8"),this.scheduleOnce(function(){for(var e=1;e<=9;e++){var o=void 0;switch(e){case 1:o=2;break;case 2:o=6;break;case 3:o=4;break;case 4:o=5;break;case 5:o=7;break;default:continue}var i=t.ui["men"+o].getComponent(sp.Skeleton);-1==i.animation.indexOf("open")&&i.setAnimation(0,"open"+o,!1)}},2),this.scheduleOnce(function(){u.default.accountModel.players.forEach(function(t){t.moveBack()})},2.5)},e.prototype.closeAllDoors=function(){for(var t=1;t<=9;t++){var e=void 0;switch(t){case 1:e=2;break;case 2:e=6;break;case 3:e=4;break;case 4:e=5;break;case 5:e=7;break;default:continue}this.ui["men"+e].getComponent(sp.Skeleton).setAnimation(0,"close"+e,!1)}this.scheduleOnce(function(){c.AudioMng.getInstance().playSFX("guanmen")},.3)},e.prototype.showStage3Ani=function(){this.scheduleOnce(this.closeAllDoors,u.default.roomInfoModel.waitTime-1)},e.prototype.openDoor=function(t){this.ui["men"+t].getComponent(sp.Skeleton).setAnimation(0,"open"+t,!1)},e.prototype.resetRoomId=function(){this.data.roomId=0},e.prototype.onBettingNumClick=function(t){var e=this;this.scheduleOnce(function(){e.ui.node_chose_coin.active=!1}),u.default.roomInfoModel.bettingId=t,u.default.roomInfoModel.bettingNum=u.default.roomInfoModel["bettingConfig"+t]},e.prototype.onChoseBettingNumClick=function(){this.ui.node_chose_coin.active=!this.ui.node_chose_coin.active},e.prototype.onChoseRoomClick=function(){},e.prototype.onRoomClick=function(t){u.default.roomInfoModel.roomId!=t&&(u.default.roomInfoModel.roomId=t,u.default.socketModel.move(t),u.default.accountModel.myPlayer.moveToRoomById(t))},e.prototype.onBettingClick=function(){u.default.roomInfoModel.roomId?u.default.socketModel.betting(u.default.roomInfoModel.roomId,u.default.roomInfoModel.bettingId):p.default.ShowTips({en:"Choose tribe before invest",zh:"\u9078\u64c7\u90e8\u843d\u5f8c\u6295\u5165"}[g.i18nMgr.getlanguage()])},e.prototype.onRankClick=function(){p.default.ShowUI(f.default)},e.prototype.onJiluClick=function(){p.default.ShowUI(d.default)},e.prototype.onBettingNum1Click=function(){this.onBettingNumClick(1)},e.prototype.onBettingNum2Click=function(){this.onBettingNumClick(2)},e.prototype.onBettingNum3Click=function(){this.onBettingNumClick(3)},e.prototype.onRoom1Click=function(){this.onRoomClick(1)},e.prototype.onRoom2Click=function(){this.onRoomClick(2)},e.prototype.onRoom3Click=function(){this.onRoomClick(3)},e.prototype.onRoom4Click=function(){this.onRoomClick(4)},e.prototype.onRoom5Click=function(){this.onRoomClick(5)},e.prototype.onRoom6Click=function(){this.onRoomClick(6)},e.prototype.onRoom7Click=function(){this.onRoomClick(7)},e.prototype.onRoom8Click=function(){this.onRoomClick(8)},e.prototype.dropCoins=function(t){for(var e=this,o=this.ui["btn_room"+t].position,i=[],n=1;n<=8;n++)n!=t&&i.push(this.ui["btn_room"+n].position);var r=function(t){s.scheduleOnce(function(){var n=cc.instantiate(e.coinPrefab);n.setPosition(o),e.node.addChild(n),n.opacity=0,n.scale=0;var r=a.Utils.random(-65,65),s=a.Utils.random(80,120),c=a.Utils.random(-150,-100),l=i[Math.floor(t/5)].x,p=i[Math.floor(t/5)].y,h=cc.delayTime(.01*t),u=cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1).easing(cc.easeBackOut())),d=cc.moveBy(.5,cc.v2(r,s)).easing(cc.easeCircleActionOut()),f=cc.moveBy(.5,cc.v2(0,c)).easing(cc.easeQuadraticActionIn()),_=cc.repeatForever(cc.rotateBy(1,360)),g=cc.delayTime(1.35-.01*t),y=cc.moveTo(.5,cc.v2(l,p)).easing(cc.easeQuadraticActionIn()),m=cc.removeSelf(),v=cc.sequence(h,u,d,f,g,y,m);n.runAction(v),n.runAction(_)},.01*t)},s=this;for(n=0;n<35;n++)r(n)},e.prototype.onClose=function(){p.default.CloseUI(o)},e.prefabUrl="gameLayer",e.className="UIGameLayer",e.instance=null,r([C({type:cc.Prefab})],e.prototype,"playerPrefab",void 0),r([C({type:cc.Prefab})],e.prototype,"playerNamePrefab",void 0),r([C({type:cc.Prefab})],e.prototype,"coinPrefab",void 0),o=r([v,b("UI/prefab/UIGameLayer")],e)}(l.default);o.default=M,cc._RF.pop()},{"../../../data/autoui/prefab/auto_gameLayer":"auto_gameLayer","../../../framework/i18n/i18nMgr":"i18nMgr","../../../framework/manager/AudioMng":"AudioMng","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/EventConst":"EventConst","../../../userData/GameDataCenter":"GameDataCenter","../../../userData/PlayerModel":"PlayerModel","./../../../utils/Utils":"Utils","./UIJiluLayer":"UIJiluLayer","./UIRankLayer":"UIRankLayer","./UIWeihuLayer":"UIWeihuLayer"}],UIGame:[function(t,e,o){"use strict";cc._RF.push(e,"bfebaF+UXNHK77dPpBwcS0x","UIGame");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../../GameController"),l=t("../../../data/autoui/scene/auto_game"),p=t("../../../framework/manager/AudioMng"),h=t("../../../framework/ui/UIBase"),u=t("../../../framework/ui/UIHelp"),d=t("../../../userData/GameDataCenter"),f=t("../../../utils/Utils"),_=t("../prefab/UIGameLayer"),g=cc._decorator,y=g.ccclass,m=g.menu,v=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(l.default),o.instance=this,c.default.init()},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){return a(this,void 0,void 0,function(){var t,e,o;return s(this,function(i){switch(i.label){case 0:p.AudioMng.getInstance().initBgm(),i.label=1;case 1:return i.trys.push([1,3,,4]),t=f.Utils.getQueryString("deploy_app_id"),e=f.Utils.getQueryString("init_id"),o=f.Utils.getQueryString("session_id"),[4,d.default.accountModel.login(t,e,o,f.Utils.getQueryString("company-code")||"null")];case 2:return i.sent(),window.history.pushState({},"Treasure Guard","/"),c.default.socket.connect(),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}})})},e.prototype.showStage3Ani=function(){this.playShashouChuxian()},e.prototype.showStage5Ani=function(){var t=this;_.default.instance.openAllDoors(),this.ui.stage_5.active=!0,this.ui.VM_result.active=!0,d.default.roomInfoModel.resultType,this.scheduleOnce(function(){t.ui.VM_result.active=!1,t.ui.stage_5.active=!1},5)},e.prototype.playShashouChuxian=function(){this.ui.stage_3.getComponent(cc.Animation).play()},e.prototype.onClose=function(){u.default.CloseUI(o)},e.prefabUrl="",e.className="UIGame",e.instance=null,o=r([y,m("UI/scene/UIGame")],e)}(h.default));o.default=v,cc._RF.pop()},{"../../../GameController":"GameController","../../../data/autoui/scene/auto_game":"auto_game","../../../framework/manager/AudioMng":"AudioMng","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/GameDataCenter":"GameDataCenter","../../../utils/Utils":"Utils","../prefab/UIGameLayer":"UIGameLayer"}],UIHelp:[function(t,e,o){"use strict";cc._RF.push(e,"467a1yy5XNDaKO04we3LklU","UIHelp");var i=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,n++)i[n]=r[a];return i};Object.defineProperty(o,"__esModule",{value:!0});var n=t("../manager/UIMng"),r=t("../const/ViewZorder"),a=t("../../logic/ui/comPop/UIComDialog"),s=t("../../logic/ui/comPop/UIComTips"),c=t("../i18n/i18nMgr"),l=t("../../utils/Log"),p=t("../../utils/Utils"),h=function(){function t(){}return t.SetLabel=function(t){for(var e,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var n=o[0];if("number"==typeof n?n=n.toString():null==n&&(n=""),t.getComponent(cc.RichText)){var r=t.color.toHEX("#rrggbb");t.getComponent(cc.RichText).string="<color="+r+">"+n+"</c>"}else if(t.getComponent("i18nLabel"))(e=t.getComponent("i18nLabel")).init.apply(e,o);else{var a=n.split("|");"zh"==c.i18nMgr.getlanguage()?t.getComponent(cc.Label).string=a[0]:t.getComponent(cc.Label).string=a[2]||a[0]}},t.numToStr=function(t){var e,o=0,i=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"m"},{value:1e9,symbol:"b"},{value:1e12,symbol:"t"},{value:1e15,symbol:"aa"},{value:1e18,symbol:"ab"}];for(e=i.length-1;e>0&&!(t>=100*i[e].value);e--);var n=t/i[e].value;return n>1e4?o=0:n>1e3?o=1:n>100&&(o=2),n.toFixed(o).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+i[e].symbol},t.numToStr2=function(t){var e,o=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"B"},{value:1e12,symbol:"T"},{value:1e15,symbol:"AA"},{value:1e18,symbol:"AB"}];for(e=o.length-1;e>0&&!(t>=.1*o[e].value);e--);return(t/o[e].value).toFixed(1).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+o[e].symbol},t.fixedTo2=function(t){return String(t).replace(/([0-9]+.[0-9]{2})[0-9]*/,"$1")},t.SetLabelColor=function(t,e){t.getComponent(cc.Label).node.color=e},t.GetEditBoxStr=function(t){return t.getComponent(cc.EditBox).string},t.SetProgressBar=function(t,e){if("number"!=typeof e)return l.Log.log("\u53c2\u6570\u9519\u8bef");t.getComponent(cc.ProgressBar).progress=e},t.SetSpriteRange=function(t,e){if("number"!=typeof e)return l.Log.log("\u53c2\u6570\u9519\u8bef");t.getComponent(cc.Sprite).fillRange=e},t.CreateSprite=function(t){var e=new cc.Node("myNode");return e.addComponent(cc.Sprite).spriteFrame=t,e},t.SetSpriteFrame=function(t,e,o,i){if(void 0===o&&(o=""),e){var n="https://oss.dking2022.com/avatar.jpg";if((n.indexOf("http")>=0||n.indexOf("https")>=0)&&console.log(n,"\u627e\u5230\u4e86"),"string"==typeof e)e.indexOf("http")>=0||e.indexOf("https")>=0?".png"==e.slice(e.length-4)?cc.loader.load(e,function(e,o){if(e)console.log("\u52a0\u8f7d\u5934\u50cf\u5931\u8d251:",e);else{var i=new cc.SpriteFrame(o);t.isValid&&(t.getComponent(cc.Sprite).spriteFrame=i)}}):".jpg"==e.slice(e.length-4)?(console.log(e,"dAtlas"),cc.loader.load({url:e},function(o,n){if(o)console.log("\u52a0\u8f7d\u5934\u50cf\u5931\u8d252:",o,e),i&&t.isValid&&(console.log("\u7528\u9ed8\u8ba4\u5934\u50cf",n,t.name),t.getComponent(cc.Sprite).spriteFrame=null,t.getComponent(cc.Sprite).spriteFrame=i);else{var r=new cc.SpriteFrame(n);t.isValid&&(console.log("\u52a0\u8f7d\u5934\u50cf\u6210\u529f",n,t),t.getComponent(cc.Sprite).spriteFrame=null,t.getComponent(cc.Sprite).spriteFrame=r)}})):cc.loader.load({url:e,type:"png"},function(e,o){if(e)console.log("\u52a0\u8f7d\u5934\u50cf\u5931\u8d253:",e);else{var i=new cc.SpriteFrame(o);t.isValid&&(t.getComponent(cc.Sprite).spriteFrame=i)}}):cc.resources.load(e,cc.Texture2D,function(e,o){var i=new cc.SpriteFrame(o);t.isValid&&(t.getComponent(cc.Sprite).spriteFrame=i)});else{var r=e.getSpriteFrame(o);t.isValid&&(t.getComponent(cc.Sprite).spriteFrame=r)}}},t.SetBtnGrayState=function(t,e){var o=t.getComponent(cc.Button);o&&(o.interactable=!e)},t.IsBtnGray=function(t){var e=t.getComponent(cc.Button);return!!e&&!e.interactable},t.ShowUI=function(t,e){for(var o,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];(o=n.UIMng.getInstance()).openUI.apply(o,i([t,r.ViewZorder.UI,e,null],a))},t.ShowScene=function(t,e){for(var o,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];(o=n.UIMng.getInstance()).openUI.apply(o,i([t,r.ViewZorder.Scene,e,null],a))},t.ShowMenu=function(t,e){for(var o,a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];(o=n.UIMng.getInstance()).openUI.apply(o,i([t,r.ViewZorder.MenuPanel,e,null],a))},t.ShowLoding=function(){},t.CloseLoding=function(){},t.CloseUI=function(t){n.UIMng.getInstance().closeUI(t)},t.IsShowingUI=function(t){return n.UIMng.getInstance().isShowing(t)},t.ShowTips=function(e){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=n.UIMng.getInstance().getUI(s.default);a?a.showTip(e):n.UIMng.getInstance().openUI(s.default,r.ViewZorder.Tips,function(){t.ShowTips(e)})},t.ShowDialog=function(t){n.UIMng.getInstance().openUI(a.default,r.ViewZorder.Dialog,null,null,t)},t.localConvertWorldPointAR=function(t){return t?t.convertToWorldSpaceAR(cc.v2(0,0)):null},t.worldConvertLocalPointAR=function(t,e){return t?t.convertToNodeSpaceAR(e):null},t.convetOtherNodeSpaceAR=function(t,e){if(!t||!e)return null;var o=this.localConvertWorldPointAR(t);return this.worldConvertLocalPointAR(e,o)},t.getTwoPointDistance=function(t,e){return t.sub(e).mag()},t.addAni=function(t,e,o,i){void 0===o&&(o="animation"),void 0===i&&(i=1),1==i?cc.loader.loadRes("spine/"+e,sp.SkeletonData,function(e,i){if(e)l.Log.error("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25");else{if(t.getComponent(sp.Skeleton))var n=t.getComponent(sp.Skeleton);else n=t.addComponent(sp.Skeleton);n.skeletonData=i,n.animation=o,n.enableBatch=!0}}):cc.loader.loadRes("spine/"+e,dragonBones.DragonBonesAsset,function(i,n){if(i)l.Log.error("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25");else{if(t.getComponent(dragonBones.ArmatureDisplay))var r=t.getComponent(dragonBones.ArmatureDisplay);else r=t.addComponent(dragonBones.ArmatureDisplay);r.dragonAsset=n,cc.loader.loadRes("spine/"+e.replace("_ske","_tex"),dragonBones.DragonBonesAtlasAsset,function(t,e){t?l.Log.error("\u8d44\u6e90\u52a0\u8f7d_tex\u5931\u8d25"):(r.dragonAtlasAsset=e,r.armatureName="Armature",r.playAnimation(o,0))})}})},t.cutString=function(t,e,o){if(void 0===o&&(o=!0),2*t.length<=e)return t;for(var i=0,n="",r=0;r<t.length;r++)if(n+=t.charAt(r),t.charCodeAt(r)>128){if((i+=2)>=e)return o?n.substring(0,n.length-1)+"...":n.substring(0,n.length-1)+""}else if((i+=1)>=e)return o?n.substring(0,n.length-2)+"...":n.substring(0,n.length-2)+"";return n},t.getRadomPos=function(t){var e=t.width,o=t.height,i=(t.x,t.y,t.x+e/2),n=t.x-e/2,r=t.y+o/2,a=t.y-o/2;return cc.v2(p.Utils.random(n,i),p.Utils.random(a,r))},t}();o.default=h,cc._RF.pop()},{"../../logic/ui/comPop/UIComDialog":"UIComDialog","../../logic/ui/comPop/UIComTips":"UIComTips","../../utils/Log":"Log","../../utils/Utils":"Utils","../const/ViewZorder":"ViewZorder","../i18n/i18nMgr":"i18nMgr","../manager/UIMng":"UIMng"}],UIJiluItem1:[function(t,e,o){"use strict";cc._RF.push(e,"38c06haa7ZPAKTwpTPT5i4Y","UIJiluItem1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/prefab/auto_jiluItem1"),s=t("../../../framework/ui/UIBase"),c=t("../../../framework/ui/UIHelp"),l=cc._decorator,p=l.ccclass,h=l.menu,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default),o.instance=this},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.show=function(t){for(var e=0,o=t.data.list;e<o.length;e++){var i=o[e];c.default.SetLabel(this.ui["lab_name_num_"+i.shaid],i.sha_total)}},e.prototype.hide=function(){},e.prototype.onClose=function(){c.default.CloseUI(o)},e.prefabUrl="jiluItem1",e.className="UIJiluItem1",e.instance=null,o=r([p,h("UI/prefab/UIJiluItem1")],e)}(s.default));o.default=u,cc._RF.pop()},{"../../../data/autoui/prefab/auto_jiluItem1":"auto_jiluItem1","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIJiluItem2:[function(t,e,o){"use strict";cc._RF.push(e,"fb44fRZjRpDUJe0hBybFEN4","UIJiluItem2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/prefab/auto_jiluItem2"),s=t("../../../framework/i18n/i18nMgr"),c=t("../../../framework/i18n/i18nSprite"),l=t("../../../framework/ui/UIBase"),p=t("../../../framework/ui/UIHelp"),h=cc._decorator,u=h.ccclass,d=h.menu,f=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e.roomNameSprList=[],e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default),o.instance=this},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.show=function(t){for(var e={en:"Round",zh:"\u671f\u6578"}[s.i18nMgr.getlanguage()],o=0;o<10;o++){var i=t.data.list[o],n=this.ui["lab_qi_"+(o+1)],r=this.ui["room_name_"+(o+1)];i?(n.active=!0,r.active=!0,p.default.SetLabel(n,e+i.game_no),r.getComponent(c.i18nSprite).i18n_string="room_name_"+Number(i.shaid)):(n.active=!1,r.active=!1)}},e.prototype.hide=function(){},e.prototype.onClose=function(){p.default.CloseUI(o)},e.prefabUrl="jiluItem2",e.className="UIJiluItem2",e.instance=null,r([f({type:[cc.SpriteFrame]})],e.prototype,"roomNameSprList",void 0),o=r([u,d("UI/prefab/UIJiluItem2")],e)}(l.default);o.default=_,cc._RF.pop()},{"../../../data/autoui/prefab/auto_jiluItem2":"auto_jiluItem2","../../../framework/i18n/i18nMgr":"i18nMgr","../../../framework/i18n/i18nSprite":"i18nSprite","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIJiluItem3:[function(t,e,o){"use strict";cc._RF.push(e,"6aac4MVzmBG76b+fgkL3gIP","UIJiluItem3");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/prefab/auto_jiluItem3"),s=t("../../../framework/ui/UIBase"),c=t("../../../framework/ui/UIHelp"),l=t("../../../userData/GameDataCenter"),p=cc._decorator,h=p.ccclass,u=p.menu,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default),o.instance=this},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.show=function(t){l.default.roomInfoModel.roomType,c.default.SetLabel(this.ui.lab_touru_num,t.data.betting_total),c.default.SetLabel(this.ui.lab_huode_num,t.data.result_total)},e.prototype.hide=function(){},e.prototype.onClose=function(){c.default.CloseUI(o)},e.prefabUrl="jiluItem3",e.className="UIJiluItem3",e.instance=null,o=r([h,u("UI/prefab/UIJiluItem3")],e)}(s.default));o.default=d,cc._RF.pop()},{"../../../data/autoui/prefab/auto_jiluItem3":"auto_jiluItem3","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/GameDataCenter":"GameDataCenter"}],UIJiluItem4:[function(t,e,o){"use strict";cc._RF.push(e,"5fbd58N2+pEyr+W921djk+I","UIJiluItem4");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/prefab/auto_jiluItem4"),s=t("../../../framework/i18n/i18nMgr"),c=t("../../../framework/ui/UIBase"),l=t("../../../framework/ui/UIHelp"),p=t("../../../userData/RoomInfoModel"),h=cc._decorator,u=h.ccclass,d=h.menu,f=(h.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default),o.instance=this},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.show=function(t){var e=t.data.user,o="win"==e.result_type;l.default.SetLabel(this.ui.lab_qi,{en:"Round",zh:"\u671f\u6578"}[s.i18nMgr.getlanguage()]+(e.game_no+"  ")+e.created_at),l.default.SetLabel(this.ui.lab_choose_room,"\u300c"+p.ROAD_NAME[e.roomid][s.i18nMgr.getlanguage()]+"\u300d"),l.default.SetLabel(this.ui.lba_kill_room,"\u300c"+p.ROAD_NAME[e.shaid][s.i18nMgr.getlanguage()]+"\u300d"),l.default.SetLabel(this.ui.lab_touru_num,e.betting_coin),l.default.SetLabel(this.ui.lab_huode_num,e.result_coin),l.default.SetLabel(this.ui.lab_touru_name,{en:"Stake",zh:"\u6295\u5165"}[s.i18nMgr.getlanguage()]+""+p.ROOM_NAME[e.room_type][s.i18nMgr.getlanguage()]),l.default.SetLabel(this.ui.lab_huode_name,o?{en:"Obtain",zh:"\u7372\u5f97"}[s.i18nMgr.getlanguage()]+""+p.ROOM_NAME[e.room_type][s.i18nMgr.getlanguage()]:{en:"Loss",zh:"\u640d\u5931"}[s.i18nMgr.getlanguage()]+""+p.ROOM_NAME[e.room_type][s.i18nMgr.getlanguage()]),this.ui.lab_win.active=!!o,this.ui.lab_lose.active=!o},e.prototype.hide=function(){},e.prototype.onClose=function(){l.default.CloseUI(o)},e.prefabUrl="jiluItem4",e.className="UIJiluItem4",e.instance=null,o=r([u,d("UI/prefab/UIJiluItem4")],e)}(c.default));o.default=f,cc._RF.pop()},{"../../../data/autoui/prefab/auto_jiluItem4":"auto_jiluItem4","../../../framework/i18n/i18nMgr":"i18nMgr","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/RoomInfoModel":"RoomInfoModel"}],UIJiluItem5:[function(t,e,o){"use strict";cc._RF.push(e,"d927302/V1NjJiw9XHrR6DZ","UIJiluItem5");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/prefab/auto_jiluItem5"),s=t("../../../framework/ui/UIBase"),c=t("../../../framework/ui/UIHelp"),l=cc._decorator,p=l.ccclass,h=l.menu,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default),o.instance=this},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.show=function(){},e.prototype.hide=function(){},e.prototype.onClose=function(){c.default.CloseUI(o)},e.prefabUrl="jiluItem5",e.className="UIJiluItem5",e.instance=null,o=r([p,h("UI/prefab/UIJiluItem5")],e)}(s.default));o.default=u,cc._RF.pop()},{"../../../data/autoui/prefab/auto_jiluItem5":"auto_jiluItem5","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIJiluLayer:[function(t,e,o){"use strict";cc._RF.push(e,"13917If7fpNl5++gVEKI3xH","UIJiluLayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/prefab/auto_jiluLayer"),s=t("../../../framework/ui/UIBase"),c=t("../../../framework/ui/UIHelp"),l=cc._decorator,p=l.ccclass,h=l.menu,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default),o.instance=this},e.prototype.onShow=function(){this.onRegisterEvent(this.ui.btn_back,this.onClose)},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.onClose=function(){c.default.CloseUI(o)},e.prefabUrl="jiluLayer",e.className="UIJiluLayer",e.instance=null,o=r([p,h("UI/prefab/UIJiluLayer")],e)}(s.default));o.default=u,cc._RF.pop()},{"../../../data/autoui/prefab/auto_jiluLayer":"auto_jiluLayer","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIKiller:[function(t,e,o){"use strict";cc._RF.push(e,"87150hsnDVAobcJbm9xgim5","UIKiller");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/prefab/auto_killer"),s=t("../../../framework/manager/AudioMng"),c=t("../../../framework/ui/UIBase"),l=t("../../../framework/ui/UIHelp"),p=t("../../../userData/GameDataCenter"),h=t("../../../userData/PlayerModel"),u=t("./UIGameLayer"),d=cc._decorator,f=d.ccclass,_=d.menu,g=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e.speed=200,e.speed1=200,e.speed2=700,e.killing=!1,e.roadList=[],e.killRoomId=0,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default),o.instance=this},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.resetUI=function(){this.unscheduleAllCallbacks(),this.node.stopAllActions(),this.node.setPosition(u.default.instance.ui.pos12.position)},e.prototype.kill=function(t){this.killRoomId=t,this.killing=!0,this.speed=this.speed1,this.roadList=[];var e=h.KILLER_ROADS[t],o=u.default.instance.ui["pos"+e[0]].position,i=u.default.instance.ui["pos"+e[1]].position,n=u.default.instance.ui["pos"+e[2]].position,r=u.default.instance.ui["pos"+e[3]].position,a=i.sub(n).mag(),s=n.sub(r).mag(),c=(a+s)/4,l={t:0,p:o},p={t:2,p:i},d={t:a/c,p:n},f={t:s/c,p:r},_={t:2,p:u.default.instance.ui["kill_"+t].position};this.roadList=[l,p,d,f,_];var g=[].concat(this.roadList);this.move(g,!1)},e.prototype.moveBack=function(){this.killing=!1,this.speed=this.speed2,this.roadList.reverse();var t=[].concat(this.roadList);this.move(t,!0)},e.prototype.move=function(t,e){var o=this;if(t.length<=0)return this.killing&&(this.ui.sp_killer.getComponent(sp.Skeleton).animation="attack",s.AudioMng.getInstance().playSFX("kan"),this.scheduleOnce(function(){s.AudioMng.getInstance().playSFX("jianshe")},.4),this.scheduleOnce(function(){p.default.accountModel.players.forEach(function(t){t.roomId==o.killRoomId&&t.destroy()}),o.ui.sp_killer.getComponent(sp.Skeleton).animation="walk",o.moveBack(),u.default.instance.dropCoins(o.killRoomId)},2)),void console.warn("\u6740\u624b\u62b5\u8fbe\u623f\u95f4");this.ui.sp_killer.scaleX=Math.abs(this.ui.sp_killer.scaleX)*(this.node.x>t[0].p.x?-1:1);var i=this.getDistance(this.node.position,t[0].p),n=e?i/this.speed:t[0].t;1!=t.length||e||u.default.instance.openDoor(this.killRoomId),cc.tween(this.node).to(n,{position:t[0].p}).call(function(){t.splice(0,1),o.move(t,e)}).start()},e.prototype.getDistance=function(t,e){var o=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(o.x*o.x+o.y*o.y)},e.prototype.onClose=function(){l.default.CloseUI(o)},e.prefabUrl="killer",e.className="UIKiller",e.instance=null,o=r([f,_("UI/prefab/UIKiller")],e)}(c.default));o.default=g,cc._RF.pop()},{"../../../data/autoui/prefab/auto_killer":"auto_killer","../../../framework/manager/AudioMng":"AudioMng","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/GameDataCenter":"GameDataCenter","../../../userData/PlayerModel":"PlayerModel","./UIGameLayer":"UIGameLayer"}],UIMng:[function(t,e,o){"use strict";cc._RF.push(e,"e918fwD51RJU7xSP3EIlvPz","UIMng"),Object.defineProperty(o,"__esModule",{value:!0}),o.UIMng=void 0;var i=t("../const/ViewZorder"),n=t("../../utils/Log"),r=t("../../logic/ui/comPop/UIComTips"),a=function(){function t(){this.uiList=[],this.comTips=null}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.openUI=function(t,e,o,a){var s=this;void 0===e&&(e=i.ViewZorder.UI);for(var c=[],l=4;l<arguments.length;l++)c[l-4]=arguments[l];this.getUI(t)?n.Log.error("UIMng OpenUI 1: ui "+t.getName()+" is already exist, please check"):cc.loader.loadRes(t.getUrl(),function(t,e,o){a&&a(t,e,o)},function(a,l){if(a)n.Log.error("UIMng OpenUI: load ui error: "+a);else if(s.getUI(t))n.Log.error("UIMng OpenUI 2: ui "+t.getName()+" is already exist, please check");else{var p=cc.instantiate(l),h=p.getComponent(t);if(h){h.init(c);var u=cc.director.getScene();u?(p.parent=u,p.zIndex=e,e==i.ViewZorder.UI&&s.hideAllUI(),p.getComponent(r.default)?s.comTips=h:s.uiList.push(h),h.tags=t,o&&o(h)):n.Log.error("\u5f53\u524d\u573a\u666f"+cc.director.getScene().name+"Canvas!!!")}else n.Log.error(t.getUrl()+"\u6ca1\u6709\u7ed1\u5b9aUI\u811a\u672c!!!")}})},t.prototype.clearDependsRes=function(t){cc.loader.getDependsRecursively(t).forEach(function(){})},t.prototype.closeUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tags===t){var o=this.uiList[e].node.zIndex==i.ViewZorder.UI;return cc.isValid(this.uiList[e].node)&&(this.uiList[e].node.destroy(),this.clearDependsRes(t.getUrl())),this.uiList.splice(e,1),void(o&&this.uiList.length&&this.uiList[this.uiList.length-1].node.zIndex==i.ViewZorder.UI&&(this.uiList[this.uiList.length-1].node.active=!0))}},t.prototype.closeAllUI=function(){if(0!=this.uiList.length)for(this.closeUI(this.uiList[0].tags);this.uiList.length>0;)this.closeUI(this.uiList[0].tags)},t.prototype.hideAllUI=function(){if(0!=this.uiList.length)for(var t=0;t<this.uiList.length;++t)cc.isValid(this.uiList[t].node)&&this.uiList[t].node.zIndex==i.ViewZorder.UI&&(this.uiList[t].node.active=!1)},t.prototype.showUI=function(t){var e=this.getUI(t);e?e.node.active=!0:n.Log.error("UIMng showUI: ui "+t.getName()+" not exist")},t.prototype.hideUI=function(t){var e=this.getUI(t);e&&(e.node.active=!1)},t.prototype.getUI=function(t){var e,o;if("UIComTips"==t.getName()&&(null===(o=null===(e=this.comTips)||void 0===e?void 0:e.node)||void 0===o?void 0:o.parent))return this.comTips;for(var i=0;i<this.uiList.length;++i)if(this.uiList[i].tags===t)return this.uiList[i];return null},t.prototype.isShowing=function(t){var e=this.getUI(t);return!!e&&e.node.active},t}();o.UIMng=a,cc._RF.pop()},{"../../logic/ui/comPop/UIComTips":"UIComTips","../../utils/Log":"Log","../const/ViewZorder":"ViewZorder"}],UIPlayerName:[function(t,e,o){"use strict";cc._RF.push(e,"dd9dfqmYr9HX76gC7gQoDq8","UIPlayerName");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/prefab/auto_playerName"),s=t("../../../framework/i18n/i18nMgr"),c=t("../../../framework/ui/UIBase"),l=t("../../../framework/ui/UIHelp"),p=cc._decorator,h=p.ccclass,u=p.menu,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e.speed=200,e.speed1=200,e.speed2=300,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default),o.instance=this},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.setName=function(t){this.ui.label_name_bg.active=t=={zh:"\u81ea\u5df1",en:"Myself"}[s.i18nMgr.getlanguage()],this.ui.lan_name.active=!1,l.default.SetLabel(this.ui.lan_name,t)},e.prototype.flashToRoomById=function(t){this.node.stopAllActions(),this.node.setPosition(t)},e.prototype.move=function(t,e){var o=this;if(!(t.length<=0)){this.speed=e?this.speed2:this.speed1;var i=this.getDistance(this.node.position,t[0])/this.speed;cc.tween(this.node).to(i,{position:t[0]}).call(function(){t.splice(0,1),o.move(t,e)}).start()}},e.prototype.getDistance=function(t,e){var o=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(o.x*o.x+o.y*o.y)},e.prototype.onClose=function(){l.default.CloseUI(o)},e.prefabUrl="playerName",e.className="UIPlayerName",e.instance=null,o=r([h,u("UI/prefab/UIPlayerName")],e)}(c.default));o.default=d,cc._RF.pop()},{"../../../data/autoui/prefab/auto_playerName":"auto_playerName","../../../framework/i18n/i18nMgr":"i18nMgr","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIPlayer:[function(t,e,o){"use strict";cc._RF.push(e,"a12d7VM4XBJ47RShtdB+ttX","UIPlayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/prefab/auto_player"),s=t("../../../framework/ui/UIBase"),c=t("../../../framework/ui/UIHelp"),l=cc._decorator,p=l.ccclass,h=l.menu,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e.playerAtlas=null,e.speed=200,e.speed1=200,e.speed2=300,e.isMoving=!1,e.bettingCoin=0,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default),o.instance=this},e.prototype.onShow=function(){this.bettingCoin=0},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.initAni=function(){this.playWait()},e.prototype.creatorAnimation=function(t,e,o,i){void 0===i&&(i=cc.WrapMode.Loop)},e.prototype.showBetting=function(t){this.bettingCoin=t,this.isMoving||(this.ui.img_bubble.active=t>0,c.default.SetLabel(this.ui.lab_coin,t))},e.prototype.hideBetting=function(){this.ui.img_bubble.active=!1},e.prototype.playWalk=function(){this.isMoving=!0,this.ui.img_cat.getComponent(sp.Skeleton).animation="walk",this.hideBetting()},e.prototype.playWait=function(){this.isMoving=!1,this.ui.img_cat.getComponent(sp.Skeleton).animation="loop",this.showBetting(this.bettingCoin)},e.prototype.flashToRoomById=function(t){this.node.stopAllActions(),this.node.setPosition(t)},e.prototype.move=function(t,e){var o=this;if(t.length<=0)return e&&(this.bettingCoin=0),void this.playWait();this.speed=e?this.speed2:this.speed1,this.ui.img_cat.scaleX=Math.abs(this.ui.img_cat.scaleX)*(this.node.x>t[0].x?1:-1);var i=this.getDistance(this.node.position,t[0])/this.speed;cc.tween(this.node).to(i,{position:t[0]}).call(function(){t.splice(0,1),o.move(t,e)}).start()},e.prototype.getDistance=function(t,e){var o=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(o.x*o.x+o.y*o.y)},e.prototype.onClose=function(){c.default.CloseUI(o)},e.prefabUrl="player",e.className="UIPlayer",e.instance=null,r([u({type:cc.SpriteAtlas})],e.prototype,"playerAtlas",void 0),o=r([p,h("UI/prefab/UIPlayer")],e)}(s.default);o.default=d,cc._RF.pop()},{"../../../data/autoui/prefab/auto_player":"auto_player","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],UIRankLayer:[function(t,e,o){"use strict";cc._RF.push(e,"557cfL2FF1OFK1klCNzb0+U","UIRankLayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/prefab/auto_rankLayer"),s=t("../../../framework/ui/UIBase"),c=t("../../../framework/ui/UIHelp"),l=t("../../../userData/GameDataCenter"),p=cc._decorator,h=p.ccclass,u=p.menu,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default),o.instance=this,c.default.SetSpriteFrame(this.ui.touxiangshiyi,l.default.accountModel.avatar)},e.prototype.onShow=function(){this.onRegisterEvent(this.ui.btn_back,this.onClose)},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.onClose=function(){c.default.CloseUI(o)},e.prefabUrl="rankLayer",e.className="UIRankLayer",e.instance=null,o=r([h,u("UI/prefab/UIRankLayer")],e)}(s.default));o.default=d,cc._RF.pop()},{"../../../data/autoui/prefab/auto_rankLayer":"auto_rankLayer","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp","../../../userData/GameDataCenter":"GameDataCenter"}],UIWeihuLayer:[function(t,e,o){"use strict";cc._RF.push(e,"64319liu3pNlpqPNOPbN8YF","UIWeihuLayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../data/autoui/prefab/auto_weihuLayer"),s=t("../../../framework/ui/UIBase"),c=t("../../../framework/ui/UIHelp"),l=cc._decorator,p=l.ccclass,h=l.menu,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){this.ui=this.node.addComponent(a.default),o.instance=this},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.onClose=function(){c.default.CloseUI(o)},e.prefabUrl="weihuLayer",e.className="UIWeihuLayer",e.instance=null,o=r([p,h("UI/prefab/UIWeihuLayer")],e)}(s.default));o.default=u,cc._RF.pop()},{"../../../data/autoui/prefab/auto_weihuLayer":"auto_weihuLayer","../../../framework/ui/UIBase":"UIBase","../../../framework/ui/UIHelp":"UIHelp"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"3a189lpovFO2KG6CYdoMgBS","Utils");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;var n=t("./Log"),r=cc._decorator,a=r.ccclass,s=(r.property,function(){function t(){}var e;return e=t,t.getQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),o=window.location.search.substr(1).match(e);return null!=o?unescape(o[2]):null},t.getFormateDate=function(t,e){var o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[i]:("00"+o[i]).substr((""+o[i]).length)));return e},t.cloneObj=function(t){var e=JSON.stringify(t);return JSON.parse(e)},t.getCookie=function(t){for(var e=document.cookie.split("; "),o=0;o<e.length;o++){var i=e[o].split("=");if(t==i[0])return i[1]}return""},t.delCookie=function(t){var o=new Date;o.setTime(o.getTime()-1);var i=e.getCookie(t);n.Log.log("____\u5220\u9664cookie:",i),null!=i&&(document.cookie=t+"="+i+";expires="+o.toUTCString())},t.random=function(t,e){var o=e-t-1,i=Math.random()*o;return Math.round(i)+t},t.prototype.postOpenWindow=function(t,e){var o=document.createElement("form");for(var i in o.action=t,o.target="_blank",o.method="post",o.style.display="none",e){var n=document.createElement("textarea");n.name=i,n.value=e[i],o.appendChild(n)}document.body.appendChild(o),o.submit()},e=i([a],t)}());o.Utils=s,cc._RF.pop()},{"./Log":"Log"}],VMAvatar:[function(t,e,o){"use strict";cc._RF.push(e,"ffbf8qgCoVGKqZz0fPRHGUY","VMAvatar");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=t("./VMBase"),c=t("../ui/UIHelp"),l=t("../../utils/Log"),p=cc._decorator,h=p.ccclass,u=p.property,d=p.menu,f=p.executeInEditMode;p.help,function(t){t[t.URL=0]="URL",t[t.LOCAL=1]="LOCAL"}(a||(a={}));var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.avatarTpye=a.URL,e.dAtlas=null,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){this.onValueInit()},e.prototype.onValueInit=function(){l.Log.log("avatar onValueInit"),this.setSpriteImage(this.VM.getValue(this.watchPath))},e.prototype.onValueChanged=function(t){this.setSpriteImage(t)},e.prototype.setSpriteImage=function(t){this.avatarTpye==a.LOCAL?this.dAtlas?c.default.SetSpriteFrame(this.node,this.dAtlas,t):l.Log.error("\u6ca1\u6709\u7ed1\u5b9a\u5934\u50cf\u56fe\u96c6"):c.default.SetSpriteFrame(this.node,t)},r([u()],e.prototype,"watchPath",void 0),r([u({type:cc.Enum(a),tooltip:"\u7f51\u7edcor\u672c\u5730"})],e.prototype,"avatarTpye",void 0),r([u({type:cc.SpriteAtlas,tooltip:"\u672c\u5730\u56fe\u7247\u56fe\u96c6",visible:function(){return this.avatarTpye==a.LOCAL}})],e.prototype,"dAtlas",void 0),r([h,f,d("ModelViewer/VM-Avatar(\u7f51\u7edcor\u672c\u5730\u5934\u50cf)")],e)}(s.default);o.default=_,cc._RF.pop()},{"../../utils/Log":"Log","../ui/UIHelp":"UIHelp","./VMBase":"VMBase"}],VMBase:[function(t,e,o){"use strict";cc._RF.push(e,"7ef7ffc0XFGGKF3n5dKmbem","VMBase");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ViewModel"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.watchPathArr=[],e.templateMode=!1,e.templateValueArr=[],e.VM=a.VM,e}return n(e,t),e.prototype.onLoad=function(){for(var t=this,e=this.watchPath.split("."),o=1;o<e.length;o++)if("*"==e[o]){(a=this.node.getParent().children.findIndex(function(e){return e===t.node}))<=0&&(a=0),e[o]=a.toString();break}this.watchPath=e.join(".");var i=this.watchPathArr;if(i.length>=1)for(o=0;o<i.length;o++){for(var n=i[o].split("."),r=1;r<n.length;r++)if("*"==n[r]){var a;(a=this.node.getParent().children.findIndex(function(e){return e===t.node}))<=0&&(a=0),n[r]=a.toString();break}this.watchPathArr[o]=n.join(".")}""==this.watchPath&&""==this.watchPathArr.join("")&&cc.log("\u53ef\u80fd\u672a\u8bbe\u7f6e\u8def\u5f84\u7684\u8282\u70b9:",this.node.getParent().name+"."+this.node.name)},e.prototype.onEnable=function(){this.templateMode?this.setMultPathEvent(!0):""!=this.watchPath&&this.VM.bindPath(this.watchPath,this.onValueChanged,this),this.onValueInit()},e.prototype.onDisable=function(){this.templateMode?this.setMultPathEvent(!1):""!=this.watchPath&&this.VM.unbindPath(this.watchPath,this.onValueChanged,this)},e.prototype.setMultPathEvent=function(t){void 0===t&&(t=!0);for(var e=this.watchPathArr,o=0;o<e.length;o++){var i=e[o];t?this.VM.bindPath(i,this.onValueChanged,this):this.VM.unbindPath(i,this.onValueChanged,this)}},e.prototype.onValueInit=function(){},e.prototype.onValueChanged=function(){},r([c],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./ViewModel":"ViewModel"}],VMCamera:[function(t,e,o){"use strict";cc._RF.push(e,"34837AxZGtD0oI7oXPq37iv","VMCamera");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.XxsType=o.CameraType=void 0;var c,l,p=t("../ui/UIBase"),h=t("../ui/UIHelp"),u=cc._decorator,d=u.ccclass,f=u.menu,_=u.property;(function(t){t[t.PHOTO=0]="PHOTO",t[t.CAMERE=1]="CAMERE",t[t.All=2]="All"})(c=o.CameraType||(o.CameraType={})),function(t){t[t.OSS=1]="OSS",t[t.OBS=2]="OBS",t[t.AWS=3]="AWS"}(l=o.XxsType||(o.XxsType={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spr=null,e.cameraType=c.PHOTO,e.btnPhoto=null,e.btnCamera=null,e.maxMb=5,e.xxs=l.OSS,e.accessKeyId="",e.accessKeySecret="",e.region=e.xxs==l.OSS?"oss-cn-beijing":"s3.amazonaws.com",e.endpoint="obs.cn-north-4.myhuaweicloud.com",e.bucket="",e.dir="",e.realmName="",e.successEvents=[],e}return n(e,t),e.prototype.onShow=function(){this.btnPhoto&&this.onRegisterEvent(this.btnPhoto,this.photoClick),this.btnCamera&&this.onRegisterEvent(this.btnCamera,this.cameraClick)},e.prototype.onHide=function(){},e.prototype.onStart=function(){},e.prototype.photoClick=function(){this.openFile(1)},e.prototype.cameraClick=function(){this.openFile(2)},e.prototype.openFile=function(t){if(1==t)var e=document.getElementById("OpenTextFile");else e=document.getElementById("OpenImageFile");null!=e&&(e.onchange=function(t){var e=t.target.files;if(e&&e.length>0)try{this.uploading(e[0])}catch(o){return alert("\u6587\u4ef6\u8bfb\u53d6\u5931\u8d25\uff0c\u8bf7\u518d\u8bd5\u4e00\u6b21"),void this.canRepeatUpload()}}.bind(this),e.click())},e.prototype.canRepeatUpload=function(){var t=document.getElementById("OpenImageFile");null!=t?(t.outerHTML&&(t.outerHTML=t.outerHTML),t.value&&(t.value=null)):cc.log("\u4e0a\u4f20\u5931\u8d25")},e.prototype.readFileAsBuffer=function(){return new FileReader,new Promise(function(t){t("")}.bind(this))},e.prototype.uploading=function(t){return a(this,void 0,void 0,function(){var e;return s(this,function(){return"image/gif"==(e=t.type)||e.indexOf("image")<0?(h.default.ShowTips("\u53ea\u5141\u8bb8\u4e0a\u4f20\u56fe\u7247\u6587\u4ef6\uff01"),this.canRepeatUpload(),[2]):t.size>1048576*this.maxMb?(h.default.ShowTips("\u56fe\u7247\u8fc7\u5927\uff0c\u8bf7\u91cd\u65b0\u9009\u62e9"+this.maxMb+"MB\u4ee5\u5185\u7684\u56fe\u7247"),this.canRepeatUpload(),[2]):(this.xxs===l.OSS?this.updateOSS(t):this.xxs===l.OBS||this.xxs===l.AWS&&this.updateAWS(t),[2])})})},e.prototype.updateOSS=function(){return a(this,void 0,void 0,function(){return s(this,function(){return[2]})})},e.prototype.updateAWS=function(){return a(this,void 0,void 0,function(){return s(this,function(){return[2]})})},e.className="VM-Camera",r([_({type:cc.Sprite,displayName:"\u9700\u8981\u6e32\u67d3\u7684\u8282\u70b9"})],e.prototype,"spr",void 0),r([_({type:cc.Enum(c),displayName:"\u76f8\u518cor\u62cd\u7167or\u6240\u6709"})],e.prototype,"cameraType",void 0),r([_({type:cc.Node,displayName:"\u76f8\u518c\u6309\u94ae",visible:function(){return this.cameraType===c.PHOTO||this.cameraType===c.All}})],e.prototype,"btnPhoto",void 0),r([_({type:cc.Node,displayName:"\u62cd\u7167\u6309\u94ae",visible:function(){return this.cameraType===c.CAMERE||this.cameraType===c.All}})],e.prototype,"btnCamera",void 0),r([_({type:cc.Integer,displayName:"\u56fe\u7247\u6700\u5927MB"})],e.prototype,"maxMb",void 0),r([_({type:cc.Enum(l),displayName:"\u4e91\u670d\u52a1\u5668"})],e.prototype,"xxs",void 0),r([_()],e.prototype,"accessKeyId",void 0),r([_()],e.prototype,"accessKeySecret",void 0),r([_({tooltip:"\u963f\u91cc\u4e91region",visible:function(){return this.xxs===l.OSS||this.xxs===l.AWS}})],e.prototype,"region",void 0),r([_({tooltip:"\u534e\u4e3a\u4e91endpoint",visible:function(){return this.xxs===l.OBS}})],e.prototype,"endpoint",void 0),r([_()],e.prototype,"bucket",void 0),r([_({displayName:"bucket\u4e0b\u6587\u4ef6\u5939\u540d\u5b57"})],e.prototype,"dir",void 0),r([_({displayName:"\u57df\u540d"})],e.prototype,"realmName",void 0),r([_({type:[cc.Component.EventHandler],tooltip:"\u4e0a\u4f20\u6210\u529f\u540e\uff0c\u901a\u77e5\u9875\u9762\u628aurl\u53d1\u9001\u7ed9\u670d\u52a1\u7aef"})],e.prototype,"successEvents",void 0),r([d,f("ModelViewer/VM-Camera(\u62c9\u53d6\u624b\u673a\u76f8\u518c\u6216\u62cd\u7167)")],e)}(p.default);o.default=g,cc._RF.pop()},{"../ui/UIBase":"UIBase","../ui/UIHelp":"UIHelp"}],VMCompsEdit:[function(t,e,o){"use strict";cc._RF.push(e,"6b848/TkdZDtbmqUinm3ZWl","VMCompsEdit");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=t("../../utils/Log"),c=cc._decorator,l=c.ccclass,p=c.property,h=c.executeInEditMode,u=c.menu,d=c.help;(function(t){t[t.SEARCH_COMPONENT=0]="SEARCH_COMPONENT",t[t.ENABLE_COMPONENT=1]="ENABLE_COMPONENT",t[t.REPLACE_WATCH_PATH=2]="REPLACE_WATCH_PATH",t[t.DELETE_COMPONENT=3]="DELETE_COMPONENT"})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.findList=["VMBase","VMParent"],e.actionType=a.SEARCH_COMPONENT,e.allowDelete=!1,e.targetPath="game",e.replacePath="*",e.canCollectNodes=!1,e.collectNodes=[],e}return n(e,t),Object.defineProperty(e.prototype,"findTrigger",{get:function(){return!1},set:function(){this.setComponents(0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableTrigger",{get:function(){return!1},set:function(){this.setComponents(1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disableTrigger",{get:function(){return!1},set:function(){this.setComponents(2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deleteTrigger",{get:function(){return!1},set:function(){this.setComponents(3)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"replaceTrigger",{get:function(){return!1},set:function(){this.setComponents(4)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){var t=this.getNodePath(this.node);s.Log.error("you forget delete MVEditFinder,[path]",t)},e.prototype.setComponents=function(t){var e=this,o=this.findList,i="\u641c\u7d22\u5230\u5f53\u524d\u8282\u70b9\u4e0b\u9762\u7684\u7ec4\u4ef6";switch(t){case 0:i="\u641c\u7d22\u5230\u5f53\u524d\u8282\u70b9\u4e0b\u9762\u7684\u7ec4\u4ef6";break;case 1:i="\u6fc0\u6d3b\u4ee5\u4e0b\u8282\u70b9\u7684\u7ec4\u4ef6";break;case 2:i="\u5173\u95ed\u4ee5\u4e0b\u8282\u70b9\u7684\u7ec4\u4ef6";break;case 3:i="\u5220\u9664\u4ee5\u4e0b\u8282\u70b9\u7684\u7ec4\u4ef6";break;case 4:i="\u66ff\u6362\u4ee5\u4e0b\u8282\u70b9\u7684\u8def\u5f84"}cc.log(i),cc.log("______________________"),o.forEach(function(o){e.searchComponent(o,t)}),cc.log("______________________")},e.prototype.searchComponent=function(t,e){var o=this;void 0===e&&(e=0),this.collectNodes=[];var i=this.node.getComponentsInChildren(t);null==i||i.length<1||(cc.log("["+t+"]:"),i.forEach(function(t){var i="";switch(e<=3&&(i=!0===t.templateMode?t.watchPathArr?":[Path:"+t.watchPathArr.join("|")+"]":"":t.watchPath?":[Path:"+t.watchPath+"]":""),cc.log(o.getNodePath(t.node)+i),e){case 0:o.canCollectNodes&&-1===o.collectNodes.indexOf(t.node)&&o.collectNodes.push(t.node);break;case 1:t.enabled=!0;break;case 2:t.enabled=!1;break;case 3:t.node.removeComponent(t);break;case 4:var n=o.targetPath,r=o.replacePath;if(!0===t.templateMode)for(var a=0;a<t.watchPathArr.length;a++){var s=t.watchPathArr[a];t.watchPathArr[a]=o.replaceNodePath(s,n,r)}else t.watchPath=o.replaceNodePath(t.watchPath,n,r)}}))},e.prototype.replaceNodePath=function(t,e,o){for(var i=t.split("."),n=e.split("."),r=o.split("."),a=!0,s=0;s<n.length;s++)if(i[s]!==n[s]){a=!1;break}if(!0===a){for(s=0;s<r.length;s++)i[s]=r[s];cc.log(" \u8def\u5f84\u66f4\u65b0:",t,">>>",i.join("."))}return i.join(".")},e.prototype.getNodePath=function(t){for(var e=t,o=[];e;){var i=e.getParent();if(!i)break;o.push(e.name),e=i}return o.reverse().join("/")},r([p({type:[cc.String]})],e.prototype,"findList",void 0),r([p({type:cc.Enum(a)})],e.prototype,"actionType",void 0),r([p({tooltip:"\u52fe\u9009\u540e,\u4f1a\u81ea\u52a8\u67e5\u627e find list \u4e2d\u586b\u5199\u7684\u7ec4\u4ef6",visible:function(){return this.actionType===a.SEARCH_COMPONENT}})],e.prototype,"findTrigger",null),r([p({tooltip:"\u52fe\u9009\u540e,\u4f1a\u6279\u91cf\u6fc0\u6d3b find list \u4e2d\u586b\u5199\u7684\u7ec4\u4ef6",visible:function(){return this.actionType===a.ENABLE_COMPONENT}})],e.prototype,"enableTrigger",null),r([p({tooltip:"\u52fe\u9009\u540e,\u4f1a\u6279\u91cf\u5173\u95ed find list \u4e2d\u586b\u5199\u7684\u7ec4\u4ef6",visible:function(){return this.actionType===a.ENABLE_COMPONENT}})],e.prototype,"disableTrigger",null),r([p({tooltip:"\u5141\u8bb8\u5220\u9664\u8282\u70b9\u7684\u7ec4\u4ef6,\u786e\u5b9a\u9700\u8981\u79fb\u9664\u8bf7\u52fe\u9009,\u9632\u6b62\u8bef\u64cd\u4f5c",visible:function(){return this.actionType===a.DELETE_COMPONENT}})],e.prototype,"allowDelete",void 0),r([p({tooltip:"\u52fe\u9009\u540e,\u4f1a\u6279\u91cf\u5220\u9664 find list \u4e2d\u586b\u5199\u7684\u7ec4\u4ef6",displayName:"[ X DELETE X ]",visible:function(){return this.allowDelete&&this.actionType===a.DELETE_COMPONENT}})],e.prototype,"deleteTrigger",null),r([p({tooltip:"\u52fe\u9009\u540e,\u4f1a\u6279\u91cf\u66ff\u6362\u6389\u6307\u5b9a\u7684\u8def\u5f84",visible:function(){return this.actionType===a.REPLACE_WATCH_PATH}})],e.prototype,"replaceTrigger",null),r([p({tooltip:"\u5339\u914d\u7684\u8def\u5f84,\u5339\u914d\u89c4\u5219: \u641c\u7d22\u5f00\u5934\u4e3a game\u7684\u8def\u5f84",visible:function(){return this.actionType===a.REPLACE_WATCH_PATH}})],e.prototype,"targetPath",void 0),r([p({tooltip:"\u66ff\u6362\u7684\u8def\u5f84,\u5c06\u5339\u914d\u5230\u7684\u8def\u5f84\u66ff\u6362",visible:function(){return this.actionType===a.REPLACE_WATCH_PATH}})],e.prototype,"replacePath",void 0),r([p({tooltip:"\u662f\u5426\u641c\u96c6\u7ed1\u5b9aVM\u7ec4\u4ef6\u7684\u8282\u70b9?",visible:function(){return this.actionType===a.SEARCH_COMPONENT}})],e.prototype,"canCollectNodes",void 0),r([p({type:[cc.Node],readonly:!0,tooltip:"\u6536\u96c6\u5230\u7ed1\u5b9a\u4e86VM\u7ec4\u4ef6\u76f8\u5173\u7684\u8282\u70b9\uff0c\u53ef\u4ee5\u81ea\u5df1\u8df3\u8f6c\u8fc7\u53bb",visible:function(){return this.canCollectNodes&&this.actionType===a.SEARCH_COMPONENT}})],e.prototype,"collectNodes",void 0),r([l,h,u("ModelViewer/Edit-Comps (\u5feb\u901f\u7ec4\u4ef6\u64cd\u4f5c)"),d("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMCompsEdit.md")],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../utils/Log":"Log"}],VMCustom:[function(t,e,o){"use strict";cc._RF.push(e,"a9c10H1OHxH+KLxNLMn15Pe","VMCustom");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/Log"),s=t("./VMBase"),c=cc._decorator,l=c.ccclass,p=c.property,h=c.executeInEditMode,u=c.menu,d=c.help,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.controller=!1,e.watchPath="",e.componentName="",e.componentProperty="",e.refreshRate=.1,e._timer=0,e._watchComponent=null,e._canWatchComponent=!1,e._oldValue=null,e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.checkEditorComponent(),this._watchComponent=this.node.getComponent(this.componentName),this.checkComponentState()},e.prototype.onRestore=function(){this.checkEditorComponent()},e.prototype.start=function(){this.onValueInit()},e.prototype.checkEditorComponent=function(){},e.prototype.checkComponentState=function(){this._canWatchComponent=!1,this._watchComponent?this.componentProperty?this.componentProperty in this._watchComponent!=0?this._canWatchComponent=!0:a.Log.error("\u9700\u8981\u76d1\u542c\u7684\u7ec4\u4ef6\u7684\u5c5e\u6027\u4e0d\u5b58\u5728"):a.Log.error("\u672a\u8bbe\u7f6e\u9700\u8981\u76d1\u542c\u7684\u7ec4\u4ef6 \u7684\u5c5e\u6027"):a.Log.error("\u672a\u8bbe\u7f6e\u9700\u8981\u76d1\u542c\u7684\u7ec4\u4ef6")},e.prototype.getComponentValue=function(){return this._watchComponent[this.componentProperty]},e.prototype.setComponentValue=function(t){"cc.Toggle"==this.componentName?(1==t&&this.node.getComponent(cc.Toggle).check(),0==t&&this.node.getComponent(cc.Toggle).uncheck()):this._watchComponent[this.componentProperty]=t},e.prototype.onValueInit=function(){this.setComponentValue(this.VM.getValue(this.watchPath))},e.prototype.onValueController=function(t){this.VM.setValue(this.watchPath,t)},e.prototype.onValueChanged=function(t){this.setComponentValue(t)},e.prototype.update=function(t){if(this.controller&&this._canWatchComponent&&!1!==this._watchComponent.enabled&&(this._timer+=t,!(this._timer<this.refreshRate))){this._timer=0;var e=this._oldValue,o=this.getComponentValue();this._oldValue!==o&&(this._oldValue=this.getComponentValue(),this.onValueController(o,e))}},r([p({tooltip:"\u6fc0\u6d3bcontroller,\u4ee5\u5f00\u542f\u53cc\u5411\u7ed1\u5b9a\uff0c\u5426\u5219\u53ea\u80fd\u63a5\u6536\u6d88\u606f"})],e.prototype,"controller",void 0),r([p],e.prototype,"watchPath",void 0),r([p({tooltip:"\u7ed1\u5b9a\u7ec4\u4ef6\u7684\u540d\u5b57"})],e.prototype,"componentName",void 0),r([p({tooltip:"\u7ec4\u4ef6\u4e0a\u9700\u8981\u76d1\u542c\u7684\u5c5e\u6027"})],e.prototype,"componentProperty",void 0),r([p({tooltip:"\u5237\u65b0\u95f4\u9694\u9891\u7387(\u53ea\u5f71\u54cd\u810f\u68c0\u67e5\u7684\u9891\u7387)",step:.01,range:[0,1],visible:function(){return!0===this.controller}})],e.prototype,"refreshRate",void 0),r([l,h,u("ModelViewer/VM-Custom (\u81ea\u5b9a\u4e49VM)"),d("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMCustom.md")],e)}(s.default);o.default=f,cc._RF.pop()},{"../../utils/Log":"Log","./VMBase":"VMBase"}],VMEvent:[function(t,e,o){"use strict";cc._RF.push(e,"cf69bDDIetLJrsJxOfvGjn/","VMEvent");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=t("./VMBase"),c=cc._decorator,l=c.ccclass,p=c.property,h=c.executeInEditMode,u=c.menu,d=c.help;(function(t){t[t.none=0]="none",t[t["=="]=1]="==",t[t["!="]=2]="!=",t[t[">"]=3]=">",t[t[">="]=4]=">=",t[t["<"]=5]="<",t[t["<="]=6]="<="})(a||(a={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateMode=!1,e.watchPath="",e.triggerOnce=!1,e.watchPathArr=[],e.filterMode=a.none,e.compareValue="",e.changeEvents=[],e}return n(e,t),e.prototype.onValueInit=function(){},e.prototype.onValueChanged=function(t,e,o){this.conditionCheck(t,this.compareValue)&&(Array.isArray(this.changeEvents)&&this.changeEvents.forEach(function(i){i.emit([t,e,o])}),!0===this.triggerOnce&&(this.enabled=!1))},e.prototype.conditionCheck=function(t,e){var o=a;switch(this.filterMode){case o.none:return!0;case o["=="]:if(t==e)return!0;break;case o["!="]:if(t!=e)return!0;break;case o["<"]:if(t<e)return!0;break;case o[">"]:if(t>e)return!0;break;case o[">="]:if(t>=e)return!0;break;case o["<"]:if(t<e)return!0;break;case o["<="]:if(t<=e)return!0}return!1},r([p({tooltip:"\u4f7f\u7528\u6a21\u677f\u6a21\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528\u591a\u8def\u5f84\u76d1\u542c"})],e.prototype,"templateMode",void 0),r([p({tooltip:"\u76d1\u542c\u83b7\u53d6\u503c\u7684\u8def\u5f84",visible:function(){return!1===this.templateMode}})],e.prototype,"watchPath",void 0),r([p({tooltip:"\u89e6\u53d1\u4e00\u6b21\u540e\u4f1a\u81ea\u52a8\u5173\u95ed\u8be5\u4e8b\u4ef6"})],e.prototype,"triggerOnce",void 0),r([p({tooltip:"\u76d1\u542c\u83b7\u53d6\u503c\u7684\u591a\u6761\u8def\u5f84,\u8fd9\u4e9b\u503c\u7684\u6539\u53d8\u90fd\u4f1a\u901a\u8fc7\u8fd9\u4e2a\u51fd\u6570\u56de\u8c03,\u8bf7\u4f7f\u7528 pathArr \u533a\u5206\u83b7\u53d6\u7684\u503c ",type:[cc.String],visible:function(){return!0===this.templateMode}})],e.prototype,"watchPathArr",void 0),r([p({tooltip:"\u8fc7\u6ee4\u6a21\u5f0f\uff0c\u4f1a\u6839\u636e\u6761\u4ef6\u8fc7\u6ee4\u6389\u65f6\u95f4\u7684\u89e6\u53d1",type:cc.Enum(a)})],e.prototype,"filterMode",void 0),r([p({visible:function(){return this.filterMode!==a.none}})],e.prototype,"compareValue",void 0),r([p([cc.Component.EventHandler])],e.prototype,"changeEvents",void 0),r([l,h,u("ModelViewer/VM-EventCall(\u8c03\u7528\u51fd\u6570)"),d("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMEvent.md")],e)}(s.default);o.default=f,cc._RF.pop()},{"./VMBase":"VMBase"}],VMLabel:[function(t,e,o){"use strict";cc._RF.push(e,"75203Gkx6dP3JWDyhEsat/Q","VMLabel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./VMBase"),s=t("../core/StringFormat"),c=cc._decorator,l=c.ccclass,p=c.property,h=c.menu,u=c.executeInEditMode,d=c.help,f={CC_LABEL:"cc.Label",CC_RICH_TEXT:"cc.RichText",CC_EDIT_BOX:"cc.EditBox"},_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.labelType=f.CC_LABEL,e.templateMode=!1,e.watchPathArr=[],e.templateValueArr=[],e.templateFormatArr=[],e.originText=null,e}return n(e,t),e.prototype.onRestore=function(){this.checkLabel()},e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.checkLabel(),this.templateMode&&(this.originText=this.getLabelValue(),this.parseTemplate())},e.prototype.start=function(){this.onValueInit()},e.prototype.parseTemplate=function(){var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null!=e)for(var o=0;o<e.length;o++){var i=e[o].match(t)[1].split(":")[1]||"";this.templateFormatArr[o]=i}},e.prototype.getReplaceText=function(){if(!this.originText)return"";var t=/\{\{(.+?)\}\}/,e=this.originText.match(/\{\{(.+?)\}\}/g);if(null==e)return"";for(var o=this.originText,i=0;i<e.length;i++){var n,r=e[i],a=r.match(t),s=parseInt(a[1]||"0")||0,c=this.templateFormatArr[i];n=this.templateValueArr[s],o=o.replace(r,this.getValueFromFormat(n,c))}return o},e.prototype.getValueFromFormat=function(t,e){return s.StringFormatFunction.deal(t,e)},e.prototype.onValueInit=function(){if(!1===this.templateMode)this.setLabelValue(this.VM.getValue(this.watchPath));else{for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e],"?");this.setLabelValue(this.getReplaceText())}},e.prototype.onValueChanged=function(t,e,o){if(!1===this.templateMode)this.setLabelValue(t);else{var i=o.join("."),n=this.watchPathArr.findIndex(function(t){return t===i});n>=0&&(this.templateValueArr[n]=t,this.setLabelValue(this.getReplaceText()))}},e.prototype.setLabelValue=function(t){this.getComponent(this.labelType).string=t+""},e.prototype.getLabelValue=function(){return this.getComponent(this.labelType).string},e.prototype.checkLabel=function(){for(var t=["cc.Label","cc.RichText","cc.EditBox"],e=0;e<t.length;e++){var o=t[e];if(this.node.getComponent(o))return!0}cc.error(this.node.name+"\u6ca1\u6709\u6302\u8f7d\u4efb\u4f55label\u7ec4\u4ef6")},r([p({visible:function(){return!1===this.templateMode}})],e.prototype,"watchPath",void 0),r([p({readonly:!0})],e.prototype,"labelType",void 0),r([p({tooltip:"\u662f\u5426\u542f\u7528\u6a21\u677f\u4ee3\u7801,\u53ea\u80fd\u5728\u8fd0\u884c\u65f6\u4e4b\u524d\u8bbe\u7f6e,\n\u5c06\u4f1a\u52a8\u6001\u89e3\u6790\u6a21\u677f\u8bed\u6cd5 {{0}},\u5e76\u4e14\u81ea\u52a8\u8bbe\u7f6e\u76d1\u542c\u7684\u8def\u5f84"})],e.prototype,"templateMode",void 0),r([p({type:[cc.String],visible:function(){return!0===this.templateMode}})],e.prototype,"watchPathArr",void 0),r([l,u,h("ModelViewer/VM-Label(\u6587\u672cVM)"),d("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMLabel.md")],e)}(a.default);o.default=_,cc._RF.pop()},{"../core/StringFormat":"StringFormat","./VMBase":"VMBase"}],VMListViewCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"a025cQrsC5EJYhLgZu+JpT/","VMListViewCtrl");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/Log"),s=cc._decorator,c=s.ccclass,l=s.menu,p=s.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemTemplate=null,e.scrollView=null,e.spawnCount=20,e.spacing=10,e.bufferZone=1600,e.items=[],e.updateTimer=0,e.updateInterval=.2,e.lastContentPosY=0,e.dataList=[],e}return n(e,t),e.prototype.onEnable=function(){this._spawnCount=this.spawnCount},e.prototype.onDestroy=function(){},e.prototype.onLoad=function(){this.content=this.scrollView.content,this.itemTemplateName=this.itemTemplate.name.replace(this.itemTemplate.name[0],"UI"+this.itemTemplate.name[0].toUpperCase())},e.prototype.initialize=function(t){this.dataList=t,this.totalCount=t.length,this._spawnCount=Math.min(this.totalCount,this._spawnCount),this.content.removeAllChildren(),this.items=[],this.content.height=this.totalCount*(this.itemTemplate.data.height+this.spacing)+this.spacing;for(var e=0;e<this._spawnCount;++e){var o=cc.instantiate(this.itemTemplate);this.content.addChild(o),o.itemID=e,o.x=0,o.y=-o.height*(.5+e)-this.spacing*(e+1),o.getComponent(this.itemTemplateName).initUI(t[e]),this.items.push(o)}},e.prototype.getPositionInView=function(t){var e=t.parent.convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},e.prototype.update=function(t){if(this.updateTimer+=t,!(this.updateTimer<this.updateInterval)){this.updateTimer=0;for(var e=this.items,o=this.bufferZone,i=this.scrollView.content.y<this.lastContentPosY,n=(this.itemTemplate.data.height+this.spacing)*e.length,r=0;r<e.length;++r){var a=this.getPositionInView(e[r]);if(i){if(a.y<-o&&e[r].y+n<0){e[r].y=e[r].y+n;var s=e[r].getComponent(this.itemTemplateName),c=e[r].itemID-e.length;e[r].itemID=c,s.initUI(this.dataList[c])}}else a.y>o&&e[r].y-n>-this.content.height&&(e[r].y=e[r].y-n,s=e[r].getComponent(this.itemTemplateName),c=e[r].itemID+e.length,e[r].itemID=c,s.initUI(this.dataList[c]))}this.lastContentPosY=this.scrollView.content.y}},e.prototype.scrollEvent=function(t,e){switch(e){case 0:a.Log.log("Scroll to Top");break;case 1:a.Log.log("Scroll to Bottom");break;case 2:a.Log.log("Scroll to Left");break;case 3:a.Log.log("Scroll to Right");break;case 4:a.Log.log("Scrolling");break;case 5:a.Log.log("Bounce Top");break;case 6:a.Log.log("Bounce bottom");break;case 7:a.Log.log("Bounce left");break;case 8:a.Log.log("Bounce right");break;case 9:a.Log.log("Auto scroll ended")}},e.prototype.addItem=function(){this.content.height=(this.totalCount+1)*(this.itemTemplate.data.height+this.spacing)+this.spacing,this.totalCount=this.totalCount+1},e.prototype.removeItem=function(){this.totalCount-1<30?cc.error("can't remove item less than 30!"):(this.content.height=(this.totalCount-1)*(this.itemTemplate.data.height+this.spacing)+this.spacing,this.totalCount=this.totalCount-1,this.moveBottomItemToTop())},e.prototype.moveBottomItemToTop=function(){var t=(this.itemTemplate.data.height+this.spacing)*this.items.length,e=this.items.length,o=this.getItemAtBottom();if(o.y+t<0){o.y=o.y+t;var i=o.getComponent("Item"),n=i.itemID-e;i.updateItem(n)}},e.prototype.getItemAtBottom=function(){for(var t=this.items[0],e=1;e<this.items.length;++e)t.y>this.items[e].y&&(t=this.items[e]);return t},e.prototype.scrollToFixedPosition=function(){this.scrollView.scrollToOffset(cc.v2(0,500),2)},r([p(cc.Prefab)],e.prototype,"itemTemplate",void 0),r([p(cc.ScrollView)],e.prototype,"scrollView",void 0),r([p(cc.Integer)],e.prototype,"spawnCount",void 0),r([p(cc.Integer)],e.prototype,"spacing",void 0),r([p(cc.Integer)],e.prototype,"bufferZone",void 0),r([c,l("ModelViewer/VM-ListViewCtrl(\u7ad6\u6ed1\u5757)")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../utils/Log":"Log"}],VMModify:[function(t,e,o){"use strict";cc._RF.push(e,"5b1dfMCPZxE5rvaA9o/fPBM","VMModify");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s=t("./VMBase"),c=cc._decorator,l=c.ccclass,p=c.property,h=c.menu,u=c.help;(function(t){t[t.MIN=0]="MIN",t[t.MAX=1]="MAX",t[t.MIN_MAX=2]="MIN_MAX"})(a||(a={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.valueClamp=!1,e.valueClampMode=a.MIN_MAX,e.valueMin=0,e.valueMax=1,e}return n(e,t),e.prototype.start=function(){},e.prototype.clampValue=function(t){var e=this.valueMin,o=this.valueMax;if(0==this.valueClamp)return t;switch(this.valueClampMode){case a.MIN_MAX:t>o&&(t=o),t<e&&(t=e);break;case a.MIN:t<e&&(t=e);break;case a.MAX:t>o&&(t=o)}return t},e.prototype.vAddInt=function(t,e){this.vAdd(t,e,!0)},e.prototype.vSubInt=function(t,e){this.vSub(t,e,!0)},e.prototype.vMulInt=function(t,e){this.vMul(t,e,!0)},e.prototype.vDivInt=function(t,e){this.vDiv(t,e,!0)},e.prototype.vAdd=function(t,e,o){void 0===o&&(o=!1);var i=parseFloat(e),n=this.VM.getValue(this.watchPath,0)+i;o&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},e.prototype.vSub=function(t,e,o){void 0===o&&(o=!1);var i=parseFloat(e),n=this.VM.getValue(this.watchPath,0)-i;o&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},e.prototype.vMul=function(t,e,o){void 0===o&&(o=!1);var i=parseFloat(e),n=this.VM.getValue(this.watchPath,0)*i;o&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},e.prototype.vDiv=function(t,e,o){void 0===o&&(o=!1);var i=parseFloat(e),n=this.VM.getValue(this.watchPath,0)/i;o&&(n=Math.round(n)),this.VM.setValue(this.watchPath,this.clampValue(n))},e.prototype.vString=function(t,e){var o=e;this.VM.setValue(this.watchPath,o)},e.prototype.vNumberInt=function(t,e){this.vNumber(t,e,!0)},e.prototype.vNumber=function(t,e,o){void 0===o&&(o=!1);var i=parseFloat(e);o&&(i=Math.round(i)),this.VM.setValue(this.watchPath,this.clampValue(i))},r([p],e.prototype,"watchPath",void 0),r([p()],e.prototype,"valueClamp",void 0),r([p({type:cc.Enum(a),visible:function(){return!0===this.valueClamp}})],e.prototype,"valueClampMode",void 0),r([p({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==a.MAX}})],e.prototype,"valueMin",void 0),r([p({visible:function(){return!0===this.valueClamp&&this.valueClampMode!==a.MIN}})],e.prototype,"valueMax",void 0),r([l,h("ModelViewer/VM-Modify(\u4fee\u6539Model)"),u("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMModify.md")],e)}(s.default);o.default=d,cc._RF.pop()},{"./VMBase":"VMBase"}],VMParent:[function(t,e,o){"use strict";cc._RF.push(e,"23ca6eEU6FJeI86924Ew7U0","VMParent");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ViewModel"),s=cc._decorator,c=s.ccclass,l=(s.property,s.help),p=s.executionOrder,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tag="_temp",e.data={},e.VM=a.VM,e}return n(e,t),e.prototype.onLoad=function(){if(null!=this.data){this.tag="_temp<"+this.node.uuid.replace(".","")+">",a.VM.add(this.data,this.tag);for(var t=this.getVMComponents(),e=0;e<t.length;e++){var o=t[e];this.replaceVMPath(o,this.tag)}this.onBind()}},e.prototype.onBind=function(){},e.prototype.onUnBind=function(){},e.prototype.replaceVMPath=function(t,e){var o=t.watchPath;if(1==t.templateMode){var i=t.watchPathArr;if(i)for(var n=0;n<i.length;n++){var r=i[n];i[n]=r.replace("*",e)}}else"*"===o.split(".")[0]&&(t.watchPath=o.replace("*",e))},e.prototype.getVMComponents=function(){var t=this,e=this.node.getComponentsInChildren("VMBase"),o=this.node.getComponentsInChildren("VMParent").filter(function(e){return e.uuid!==t.uuid}),i=[];return o.forEach(function(t){i=i.concat(t.getComponentsInChildren("VMBase"))}),e.filter(function(t){return i.indexOf(t)<0})},e.prototype.onDestroy=function(){this.onUnBind(),a.VM.remove(this.tag),this.data=null},r([c,p(-1),l("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMParent.md")],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./ViewModel":"ViewModel"}],VMProgress:[function(t,e,o){"use strict";cc._RF.push(e,"53c55vfovlCBI6+FHhjmumL","VMProgress");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./VMCustom"),s=t("../core/StringFormat"),c=t("../../utils/Log"),l=cc._decorator,p=l.ccclass,h=l.property,u=l.menu,d=l.help,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.watchPathArr=["[min]","[max]"],e.templateMode=!0,e.stringFormat="",e}return n(e,t),e.prototype.onLoad=function(){(this.watchPathArr.length<2||"[min]"==this.watchPathArr[0]||"[max]"==this.watchPathArr[1])&&c.Log.error("VMProgress must have two values!"),t.prototype.onLoad.call(this)},e.prototype.start=function(){this.onValueInit()},e.prototype.onValueInit=function(){for(var t=this.watchPathArr.length,e=0;e<t;e++)this.templateValueArr[e]=this.VM.getValue(this.watchPathArr[e]);var o=this.templateValueArr[0]/this.templateValueArr[1];this.setComponentValue(o)},e.prototype.setComponentValue=function(e){if(""!==this.stringFormat){var o=s.StringFormatFunction.deal(e,this.stringFormat);t.prototype.setComponentValue.call(this,o)}else t.prototype.setComponentValue.call(this,e)},e.prototype.onValueController=function(t){var e=Math.round(t*this.templateValueArr[1]);Number.isNaN(e)&&(e=0),this.VM.setValue(this.watchPathArr[0],e)},e.prototype.onValueChanged=function(t,e,o){if(!1!==this.templateMode){var i=o.join("."),n=this.watchPathArr.findIndex(function(t){return t===i});n>=0&&(this.templateValueArr[n]=t);var r=this.templateValueArr[0]/this.templateValueArr[1];r>1&&(r=1),(r<0||Number.isNaN(r))&&(r=0),this.setComponentValue(r)}},r([h({visible:!1,override:!0})],e.prototype,"watchPath",void 0),r([h({type:[cc.String],tooltip:"\u7b2c\u4e00\u4e2a\u503c\u662fmin \u503c\uff0c\u7b2c\u4e8c\u4e2a\u503c \u662f max \u503c\uff0c\u4f1a\u8ba1\u7b97\u51fa\u4e24\u8005\u7684\u6bd4\u4f8b"})],e.prototype,"watchPathArr",void 0),r([h({visible:function(){return"string"===this.componentProperty},tooltip:"\u5b57\u7b26\u4e32\u683c\u5f0f\u5316\uff0c\u548c VMLabel \u7684\u5b57\u6bb5\u4e00\u6837\uff0c\u9700\u8981\u586b\u5165\u5bf9\u5e94\u7684\u683c\u5f0f\u5316\u5b57\u7b26\u4e32"})],e.prototype,"stringFormat",void 0),r([p,u("ModelViewer/VM-Progress (VM-\u8fdb\u5ea6\u6761)"),d("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMProgress.md")],e)}(a.default);o.default=f,cc._RF.pop()},{"../../utils/Log":"Log","../core/StringFormat":"StringFormat","./VMCustom":"VMCustom"}],VMQrcode:[function(t,e,o){"use strict";cc._RF.push(e,"a9ef75/WzpPRJR7PNYhroil","VMQrcode");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../userData/ConfigModule"),s=t("../lib/Qrcode"),c=t("./VMBase"),l=cc._decorator,p=l.ccclass,h=l.property,u=l.menu,d=(l.executeInEditMode,l.help,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeQr=null,e.uidWatchPath="",e}return n(e,t),e.prototype.start=function(){var t=a.ConfigModule.SHARE_URL;this.uidWatchPath&&(t+="?shangjiid="+this.VM.getValue(this.uidWatchPath));var e=new s.QRCode(-1,2);e.addData(t),e.make();for(var o=this.nodeQr.addComponent(cc.Graphics),i=this.nodeQr.width/e.getModuleCount(),n=this.nodeQr.height/e.getModuleCount(),r=0;r<e.getModuleCount();r++)for(var c=0;c<e.getModuleCount();c++){e.isDark(r,c)?o.fillColor=cc.Color.BLACK:o.fillColor=cc.Color.WHITE;var l=Math.ceil((c+1)*i)-Math.floor(c*i),p=Math.ceil((r+1)*i)-Math.floor(r*i);o.rect(Math.round(c*i),Math.round(r*n),l,p),o.fill()}},r([h({type:cc.Node,tooltip:"\u8981\u751f\u6210\u4e8c\u4f4d\u7801\u7684\u8282\u70b9\uff0c\u951a\u70b9\u5fc5\u987b\u662f\uff080\uff0c0\uff09"})],e.prototype,"nodeQr",void 0),r([h({tooltip:"\u73a9\u5bb6id\uff0c\u7528\u6765\u7ed1\u5b9a\u4e0a\u4e0b\u7ea7\u7528"})],e.prototype,"uidWatchPath",void 0),r([p,u("ModelViewer/VM-Qrcode(\u4e8c\u7ef4\u7801)")],e)}(c.default));o.default=d,cc._RF.pop()},{"../../userData/ConfigModule":"ConfigModule","../lib/Qrcode":"Qrcode","./VMBase":"VMBase"}],VMState:[function(t,e,o){"use strict";cc._RF.push(e,"8446cEUsTFAkqItqI1C7CB0","VMState");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,s,c,l=t("./ViewModel"),p=t("./VMBase"),h=cc._decorator,u=h.ccclass,d=h.property,f=h.menu,_=h.help;(function(t){t[t["=="]=0]="==",t[t["!="]=1]="!=",t[t[">"]=2]=">",t[t[">="]=3]=">=",t[t["<"]=4]="<",t[t["<="]=5]="<=",t[t.range=6]="range"})(a||(a={})),function(t){t[t.NODE_ACTIVE=0]="NODE_ACTIVE",t[t.NODE_VISIBLE=1]="NODE_VISIBLE",t[t.NODE_OPACITY=2]="NODE_OPACITY",t[t.NODE_COLOR=3]="NODE_COLOR",t[t.COMPONENT_CUSTOM=4]="COMPONENT_CUSTOM"}(s||(s={})),function(t){t[t.NODE_INDEX=0]="NODE_INDEX",t[t.NODE_NAME=1]="NODE_NAME"}(c||(c={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.watchPath="",e.foreachChildMode=!1,e.condition=a["=="],e.foreachChildType=c.NODE_INDEX,e.valueA=0,e.valueB=0,e.valueAction=s.NODE_ACTIVE,e.valueActionOpacity=0,e.valueActionColor=cc.color(155,155,155),e.valueComponentName="",e.valueComponentProperty="",e.valueComponentDefaultValue="",e.valueComponentActionValue="",e.watchNodes=[],e}return n(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),0==this.watchNodes.length&&(this.valueAction!==s.NODE_ACTIVE&&!1===this.foreachChildMode&&this.watchNodes.push(this.node),this.watchNodes=this.watchNodes.concat(this.node.children))},e.prototype.start=function(){this.enabled&&this.onValueInit()},e.prototype.onValueInit=function(){var t=l.VM.getValue(this.watchPath);this.checkNodeFromValue(t)},e.prototype.onValueChanged=function(t){this.checkNodeFromValue(t)},e.prototype.checkNodeFromValue=function(t){var e=this;if(this.foreachChildMode)this.watchNodes.forEach(function(o,i){var n=e.foreachChildType===c.NODE_INDEX?i:o.name,r=e.conditionCheck(t,n);e.setNodeState(o,r)});else{var o=this.conditionCheck(t,this.valueA,this.valueB);this.setNodesStates(o)}},e.prototype.setNodesStates=function(t){var e=this,o=this.watchNodes,i=t;o.forEach(function(t){e.setNodeState(t,i)})},e.prototype.setNodeState=function(t,e){var o=this.valueAction,i=e,n=s;switch(o){case n.NODE_ACTIVE:t.active=!!i;break;case n.NODE_VISIBLE:t.opacity=i?255:0;break;case n.NODE_COLOR:t.color=i?this.valueActionColor:cc.color(255,255,255);break;case n.NODE_OPACITY:t.opacity=i?this.valueActionOpacity:255;break;case n.COMPONENT_CUSTOM:var r=t.getComponent(this.valueComponentName);if(null==r)return;this.valueComponentProperty in r&&(r[this.valueComponentProperty]=i?this.valueComponentActionValue:this.valueComponentDefaultValue)}},e.prototype.conditionCheck=function(t,e,o){var i=a;switch(this.condition){case i["=="]:if(t==e)return!0;break;case i["!="]:if(t!=e)return!0;break;case i["<"]:if(t<e)return!0;break;case i[">"]:if(t>e)return!0;break;case i[">="]:if(t>=e)return!0;break;case i["<"]:if(t<e)return!0;break;case i["<="]:if(t<=e)return!0;break;case i.range:if(t>=e&&t<=o)return!0}return!1},r([d],e.prototype,"watchPath",void 0),r([d({tooltip:"\u904d\u5386\u5b50\u8282\u70b9,\u6839\u636e\u5b50\u8282\u70b9\u7684\u540d\u5b57\u6216\u540d\u5b57\u8f6c\u6362\u4e3a\u503c\uff0c\u5224\u65ad\u503c\u6ee1\u8db3\u6761\u4ef6 \u6765\u6fc0\u6d3b"})],e.prototype,"foreachChildMode",void 0),r([d({type:cc.Enum(a)})],e.prototype,"condition",void 0),r([d({type:cc.Enum(c),tooltip:"\u904d\u5386\u5b50\u8282\u70b9,\u6839\u636e\u5b50\u8282\u70b9\u7684\u540d\u5b57\u8f6c\u6362\u4e3a\u503c\uff0c\u5224\u65ad\u503c\u6ee1\u8db3\u6761\u4ef6 \u6765\u6fc0\u6d3b",visible:function(){return!0===this.foreachChildMode}})],e.prototype,"foreachChildType",void 0),r([d({displayName:"Value: a",visible:function(){return!1===this.foreachChildMode}})],e.prototype,"valueA",void 0),r([d({displayName:"Value: b",visible:function(){return!1===this.foreachChildMode&&this.condition===a.range}})],e.prototype,"valueB",void 0),r([d({type:cc.Enum(s),tooltip:"\u4e00\u65e6\u6ee1\u8db3\u6761\u4ef6\u5c31\u5bf9\u8282\u70b9\u6267\u884c\u64cd\u4f5c"})],e.prototype,"valueAction",void 0),r([d({visible:function(){return this.valueAction===s.NODE_OPACITY},range:[0,255],type:cc.Integer,displayName:"Action Opacity"})],e.prototype,"valueActionOpacity",void 0),r([d({visible:function(){return this.valueAction===s.NODE_COLOR},displayName:"Action Color"})],e.prototype,"valueActionColor",void 0),r([d({visible:function(){return this.valueAction===s.COMPONENT_CUSTOM},displayName:"Component Name"})],e.prototype,"valueComponentName",void 0),r([d({visible:function(){return this.valueAction===s.COMPONENT_CUSTOM},displayName:"Component Property"})],e.prototype,"valueComponentProperty",void 0),r([d({visible:function(){return this.valueAction===s.COMPONENT_CUSTOM},displayName:"Default Value"})],e.prototype,"valueComponentDefaultValue",void 0),r([d({visible:function(){return this.valueAction===s.COMPONENT_CUSTOM},displayName:"Action Value"})],e.prototype,"valueComponentActionValue",void 0),r([d({type:[cc.Node],tooltip:"\u9700\u8981\u6267\u884c\u6761\u4ef6\u7684\u8282\u70b9\uff0c\u5982\u679c\u4e0d\u586b\u5199\u5219\u9ed8\u8ba4\u4f1a\u6267\u884c\u672c\u8282\u70b9\u4ee5\u53ca\u672c\u8282\u70b9\u7684\u6240\u6709\u5b50\u8282\u70b9 \u7684\u72b6\u6001"})],e.prototype,"watchNodes",void 0),r([u,f("ModelViewer/VM-State (VM\u72b6\u6001\u63a7\u5236)"),_("https://github.com/wsssheep/cocos_creator_mvvm_tools/blob/master/docs/VMState.md")],e)}(p.default);o.default=g,cc._RF.pop()},{"./VMBase":"VMBase","./ViewModel":"ViewModel"}],VMTimer:[function(t,e,o){"use strict";cc._RF.push(e,"bf6aduZAvlGMZfmwOIvruRH","VMTimer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../userData/GameDataCenter"),s=t("../manager/AudioMng"),c=cc._decorator,l=c.ccclass,p=c.menu,h=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playingDidaAudio=!1,e}return n(e,t),e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),this.createSchedule(),cc.game.on(cc.game.EVENT_SHOW,function(){})},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.createSchedule=function(){var t=this,e=cc.macro.REPEAT_FOREVER;this.schedule(function(){var e;a.default.roomInfoModel.waitTime>0&&(a.default.roomInfoModel.waitTime-=1),a.default.roomInfoModel.waitTime<=0&&(t.playingDidaAudio=!1),!t.playingDidaAudio&&a.default.roomInfoModel.waitTime<=12&&2==(null===(e=null===a.default||void 0===a.default?void 0:a.default.roomInfoModel)||void 0===e?void 0:e.gameStage)&&(t.playingDidaAudio=!0,s.AudioMng.getInstance().playSFX("daojishi",12-a.default.roomInfoModel.waitTime))},1,e,0)},r([l,p("ModelViewer/VM-Timer (\u8ba1\u65f6\u5668\uff0c\u6bcf\u79d2\u5237\u65b0\u65f6\u95f4)")],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../../userData/GameDataCenter":"GameDataCenter","../manager/AudioMng":"AudioMng"}],VMTurntable:[function(t,e,o){"use strict";cc._RF.push(e,"29987aQXe9OGp5qQxgWRaYF","VMTurntable");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../ui/UIBase"),s=t("../../utils/Utils"),c=cc._decorator,l=c.ccclass,p=c.property,h=c.menu,u=(c.executeInEditMode,c.help,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRoll=null,e.scores=8,e.skew=0,e.qMin=4,e.qMax=8,e.delayTiem=0,e.hasOffset=!1,e}var o;return n(e,t),o=e,e.prototype.onUILoad=function(){o.instance=this},e.prototype.onShow=function(){},e.prototype.onStart=function(){},e.prototype.roll=function(t,e){var o=new cc.Node("xxx");o.anchorX=0,o.anchorY=0,o.width=cc.winSize.width,o.height=cc.winSize.height,o.addComponent(cc.BlockInputEvents),o.parent=cc.director.getScene(),o.zIndex=888;var i=this.getRotationLong(t);this.nodeRoll.rotation=0,cc.tween(this.nodeRoll).to(4,{angle:-i},{easing:"expoOut"}).delay(this.delayTiem).call(function(){o.destroy(),e&&e()}.bind(this)).start()},e.prototype.getRotationLong=function(t){var e=360*(Math.floor(Math.random()*(this.qMax-this.qMin))+this.qMin),o=-360/this.scores*this.skew,i=360/this.scores*(this.scores-t+1),n=s.Utils.random(0,360/this.scores)/2*(1==s.Utils.random(0,2)?1:-1);return this.hasOffset?e+o+i+n:e+o+i},r([p({type:cc.Node,displayName:"\u9700\u8981\u8f6c\u52a8\u7684node"})],e.prototype,"nodeRoll",void 0),r([p({type:cc.Integer,displayName:"\u8f6c\u76d8\u62c6\u5206\u4efd\u6570"})],e.prototype,"scores",void 0),r([p({type:cc.Integer,displayName:"\u504f\u79fb\u4efd\u6570",tooltip:"\u7ed3\u679c\u663e\u793a\u987a\u65f6\u9488\u589e\u52a0\u76f8\u5e94\u4efd\u6570"})],e.prototype,"skew",void 0),r([p({type:cc.Integer,displayName:"\u8f6c\u8fc7\u6700\u5c11\u5708\u6570"})],e.prototype,"qMin",void 0),r([p({type:cc.Integer,displayName:"\u8f6c\u8fc7\u6700\u591a\u5708\u6570"})],e.prototype,"qMax",void 0),r([p({type:cc.Integer,displayName:"\u5ef6\u8fdf\u56de\u6389x\u79d2"})],e.prototype,"delayTiem",void 0),r([p({displayName:"\u6240\u505c\u4f4d\u7f6e\u662f\u5426\u6709\u504f\u79fb\u6d6e\u52a8",tooltip:"\u6307\u9488\u6240\u505c\u4f4d\u7f6e\u79bb\u5956\u533a\u662f\u5426\u6709\u504f\u79fb\u6d6e\u52a8"})],e.prototype,"hasOffset",void 0),o=r([l,h("ModelViewer/VM-Turntable(\u8f6c\u76d8\u52a8\u753b)")],e)}(a.default));o.default=u,cc._RF.pop()},{"../../utils/Utils":"Utils","../ui/UIBase":"UIBase"}],ViewManager:[function(t,e,o){"use strict";cc._RF.push(e,"860abIybLRFkaQ3e7VqWtnn","ViewManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ViewManager=void 0;var a,s=t("../abstract/Group"),c=t("../abstract/Manager"),l=t("../abstract/View"),p=t("../define/enum"),h=t("../help/helper"),u=t("./ModelManager"),d=t("./ScrollManager"),f=cc._decorator,_=f.ccclass,g=f.property;(function(t){t[t.ON_SCROLL=0]="ON_SCROLL",t[t.ON_LATEUPDATE=1]="ON_LATEUPDATE",t[t.ON_CLEARVIEWS=2]="ON_CLEARVIEWS",t[t.ON_UPDATE_VIEWS=3]="ON_UPDATE_VIEWS",t[t.ON_CHANGED_VIRTUALSIZE=4]="ON_CHANGED_VIRTUALSIZE",t[t.ON_MAGNETIC=5]="ON_MAGNETIC",t[t.ON_CHANGED_OVERFLOWHEADER=6]="ON_CHANGED_OVERFLOWHEADER",t[t.ON_RESET_ALL_STATE=7]="ON_RESET_ALL_STATE",t[t.ON_CHANGED_SPACING=8]="ON_CHANGED_SPACING"})(a||(a={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._arrangeAxis=p.ArrangeAxis.Start,e.stretchDirection=p.StretchDirection.Auto,e.overflowOffset=.3,e.enterOffset=0,e._spacing=0,e.left=0,e.right=0,e.top=0,e.bottom=0,e.magnetic=!1,e.magneticDirection=p.MagneticDirection.Header,e.magneticDuration=.5,e.magneticSizeChanges=!1,e.loopHeader=!1,e.loopFooter=!1,e._groupLength=0,e._cacheGroups=[],e._groups=[],e._disableViews=[],e._visibleViews=[],e._fixedViews=[],e._disableHolders=[],e._isFill=!1,e._headerIndex=-1,e._footerIndex=-1,e._virtualSize=0,e._overflowHeader=0,e._cacheHeadeDatas=[],e}return n(e,t),Object.defineProperty(e.prototype,"arrangeAxis",{get:function(){return this._arrangeAxis},set:function(t){t!=this._arrangeAxis&&(this._arrangeAxis=t,this._resetAllState())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacing",{get:function(){return this._spacing},set:function(t){t!=this._spacing&&(this._spacing=t,this._resetAllState())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"header",{get:function(){return this._visibleViews[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"footer",{get:function(){return this._visibleViews[this._visibleViews.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overflowHeader",{get:function(){return this._overflowHeader},set:function(t){t!=this._overflowHeader&&(this._overflowHeader=t,this.emit(a.ON_CHANGED_OVERFLOWHEADER,t))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"virtualSize",{get:function(){return this._virtualSize},set:function(t){t!=this._virtualSize&&(this._virtualSize=t,this.emit(a.ON_CHANGED_VIRTUALSIZE))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groupLength",{get:function(){return this._groupLength},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleLength",{get:function(){return this._visibleViews.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.header?this.adapter.isArrangeAxisStart?this.internal_getGroupFooterBoundary(this.footer.group):this.internal_getGroupHeaderBoundary(this.header.group):0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.header?this.adapter.isArrangeAxisStart?this.internal_getGroupHeaderBoundary(this.header.group):this.internal_getGroupFooterBoundary(this.footer.group):0},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){this.adapter.modelManager.on(u.ModelManager.Event.ON_CHANGE_BEFORE,this._onModelChangeBefore,this),this.adapter.modelManager.on(u.ModelManager.Event.ON_INSERT,this._updateGroups,this),this.adapter.modelManager.on(u.ModelManager.Event.ON_REMOVE,this._updateGroups,this),this.adapter.modelManager.on(u.ModelManager.Event.ON_MOVE,this._updateGroups,this),this.adapter.modelManager.on(u.ModelManager.Event.ON_CLEAR,this._onClearModel,this),this.adapter.scrollManager.on(d.ScrollManager.Event.ON_SCROLL,this._onScroll,this),this.adapter.scrollManager.on(d.ScrollManager.Event.ON_VIEW_SIZE_CHANGED,this._resetAllState,this),this.adapter.scrollManager.on(d.ScrollManager.Event.ON_CHANGED_ORIENTATION,this._resetAllState,this)},e.prototype._clearAll=function(){for(var t,e=0,o=this._visibleViews.length;e<o;e++)this._recycleViewToDisableViews(this._visibleViews[e]);(t=this._cacheGroups).push.apply(t,this._groups),this._clearFixedViews(),this._visibleViews.length=0,this._groups.length=0,this.virtualSize=0,this.overflowHeader=0},e.prototype._onClearModel=function(){this._clearAll(),this.emit(a.ON_CLEARVIEWS)},e.prototype._resetAllState=function(){this._clearAll(),this.internal_updateVisibleView(0),this.emit(a.ON_RESET_ALL_STATE)},e.prototype._onModelChangeBefore=function(){if(this.header&&this.virtualSize>this.adapter.mainAxisSize){var t=this.getVisibleIndexByGroupIndex(0);if(-1!=t){var e=this._visibleViews[t];this._cacheHeadeDatas=e.group.models.map(function(t){return t.data}),this._cacheHeadePosition={x:e.group.position.x,y:e.group.position.y}}else this._cacheHeadeDatas=this.header.group.models.map(function(t){return t.data}),this._cacheHeadePosition={x:this.header.group.position.x,y:this.header.group.position.y}}},e.prototype._updateGroups=function(t){var e,o=this,i=this._getViewFromDisibleViews(null),n=this.getGroupIndexByModelIndex(t);-1==n&&(n=this._groupLength-1);var r=null,a=!1,s={modelIndex:t,fixedIndex:-1},c=this._groups[n-1];for(c&&(s.fixedIndex=c.fixedIndex);;){(r=this._groups[n])||((r=this._getGroupFromCache()).internal_setIndex(this._groups.length),this._groups.push(r),n=this._groups.length);var l=r.internal_insert(s,i,a);if(n++,a=!0,!l)break}var h=this._groups.splice(n,this._groups.length);(e=this._cacheGroups).push.apply(e,h),this._groupLength=this._groups.length;var u=-1,d=0;this._cacheHeadeDatas.length>0&&(u=this._groups.findIndex(function(t){return t.internal_includes(o._cacheHeadeDatas)}));var f=this._groups[u];f&&(d+=f.size[this.adapter.mainAxis]+this.spacing,f.internal_setPosition(this._cacheHeadePosition[this.adapter.mainAxis]));for(var _=u-1;_>=0;_--){var g=this._groups[_];this._calcMainAxisPosition(g,f,p.MagneticDirection.Header),d+=g.size[this.adapter.mainAxis]+this.spacing,f=g}for(f=this._groups[u],_=u+1;_<this.groupLength;_++)g=this._groups[_],this._calcMainAxisPosition(g,f,p.MagneticDirection.Footer),d+=g.size[this.adapter.mainAxis]+this.spacing,f=g;d-=this.spacing,this._virtualSize=Math.max(0,d),this._resetOverflowHeader(this._groups[0]),i.internal_reset(),this._disableViews.push(i),this.updateVisibles(u),this._cacheHeadeDatas=[],this._cacheHeadePosition=null},e.prototype.updateVisibles=function(t){var e=[];t=Math.max(0,t);for(var o=function(t){var o=e.findIndex(function(e){return e.oldData==t.data});return-1!=o?e.splice(o,1)[0]:null},i=0;i<this._visibleViews.length;i++){var n=this._visibleViews[i];e=e.concat(n.holderList),n.internal_reset()}for(var r=this.adapter.mainAxisSize,s=0,c=this.visibleLength,l=(i=t,this._groups.length);i<l;i++){var p=this._groups[i];if(this.getVisibleMainAxisSize()>=r&&c<=0)break;(h=this._visibleViews[s++])||(h=this._getViewFromDisibleViews(p.index),this._visibleViews.push(h)),h.internal_preVisible(p,o),c--}for(i=this._visibleViews.length-1;i>=0;i--){var h;if((h=this._visibleViews[i]).holderList.length>0)break;this._disableFromVisibleViews(i)}for(i=0,l=e.length;i<l;i++){var u=e[i];u.internal_disable(),this._disableHolders.push(u)}for(i=0;i<this.visibleLength;i++)this._visibleViews[i].internal_visible();this._forceFill(),this._calcMagnetic(),this.emit(a.ON_UPDATE_VIEWS)},e.prototype._getGroupFromCache=function(){var t=this._cacheGroups.pop();return t||(t=new s.Group(this.adapter)),t.internal_reset(),t},e.prototype._calcMagnetic=function(){if(this.magnetic&&this.header){var t=!1;0==this.adapter.scrollManager.velocity&&(this.magneticDirection==p.MagneticDirection.Footer?this.footer.index==this._groupLength-1&&(this.adapter.scrollManager.scrollToFooter(this.magneticDuration),t=!0):0==this.header.index&&(this.adapter.scrollManager.scrollToHeader(this.magneticDuration),t=!0)),this.emit(a.ON_MAGNETIC,t)}},e.prototype._calcMainAxisPosition=function(t,e,o){if(t)if(e){var i,n,r=this.adapter.mainAxis,a=this.adapter.multiplier,s=o==p.MagneticDirection.Footer?1:-1;o==p.MagneticDirection.Footer?(i=1==a?e.anchorPoint[r]:1-e.anchorPoint[r],n=1==a?1-t.anchorPoint[r]:t.anchorPoint[r]):(i=1==a?1-e.anchorPoint[r]:e.anchorPoint[r],n=1==a?t.anchorPoint[r]:1-t.anchorPoint[r]);var c=e.position[r];c-=e.size[r]*i*s*a,c-=this.spacing*a*s,c-=t.size[r]*n*s*a,t.internal_setPosition(c)}else t.internal_setPosition(this._getMainAxisHeaderPosition(t))},e.prototype._getMainAxisHeaderPosition=function(t){var e=0,o=0;return this.adapter.isVertical?(e=this.adapter.isArrangeAxisStart?-this.top:this.bottom,o=this.adapter.isArrangeAxisStart?1-t.anchorPoint[this.adapter.mainAxis]:t.anchorPoint[this.adapter.mainAxis]):(e=this.adapter.isArrangeAxisStart?this.left:-this.right,o=this.adapter.isArrangeAxisStart?t.anchorPoint[this.adapter.mainAxis]:1-t.anchorPoint[this.adapter.mainAxis]),e-o*t.size[this.adapter.mainAxis]*this.adapter.multiplier},e.prototype._getViewFromDisibleViews=function(t){var e=null;if(null!=t){var o=this._fixedViews.findIndex(function(e){return e.index==t});if(-1!=o){var i=this._fixedViews.splice(o,1)[0];this._recycleViewToDisableViews(i)}}return e||(e=this._disableViews.pop()),e||(e=this.adapter.getView()),e},e.prototype._getHolderFromDisableHolders=function(t){var e=this._disableHolders.findIndex(function(e){return e.code==t.code});if(-1!=e)return this._disableHolders.splice(e,1)[0]},e.prototype._disableFromVisibleViews=function(t){var e;e=t instanceof l.View?this._visibleViews.findIndex(function(e){return e.index==t.index}):t,this._recycleViewToDisableViews(this._visibleViews[e]),this._visibleViews.splice(e,1)},e.prototype._recycleViewToDisableViews=function(t){var e=this;t&&(t.internal_recycleHolders(function(t){return e._disableHolders.push(t)}),t.internal_disable(),this._disableViews.push(t))},e.prototype._clearFixedViews=function(){for(var t=0,e=this._fixedViews.length;t<e;t++){var o=this._fixedViews[t];this._recycleViewToDisableViews(o)}this._fixedViews.length=0},e.prototype._checkHeaderInvisible=function(){this.header&&(this.loopFooter||this.footer.index!=this.groupLength-1)&&this._isOverflowHeader(this.header.group)&&(this._disableFromVisibleViews(0),this._checkHeaderInvisible())},e.prototype._checkFooterInvisible=function(){this.footer&&(this.loopHeader||0!=this.header.index)&&this._isOverflowFooter(this.footer.group)&&(this._disableFromVisibleViews(this._visibleViews.length-1),this._checkFooterInvisible())},e.prototype._isOverflowHeader=function(t,e){void 0===e&&(e=this.overflowOffset);var o=this.internal_getGroupFooterBoundary(t);return e*=t.size[this.adapter.mainAxis],1==this.adapter.multiplier?o>=e:o<=-e},e.prototype._isOverflowFooter=function(t,e){void 0===e&&(e=this.overflowOffset);var o=this.internal_getGroupHeaderBoundary(t);return e*=t.size[this.adapter.mainAxis],1==this.adapter.multiplier?o+this.adapter.mainAxisSize<=-e:o-this.adapter.mainAxisSize>=e},e.prototype._isEnterFooter=function(t){if(!t)return!1;var e=this.internal_getGroupFooterBoundary(t),o=this.enterOffset*t.size[this.adapter.mainAxis];return 1==this.adapter.multiplier?e+this.adapter.mainAxisSize+o>=0:e-this.adapter.mainAxisSize-o<=0},e.prototype._isEnterHeader=function(t){if(!t)return!1;var e=this.internal_getGroupHeaderBoundary(t),o=this.overflowOffset*t.size[this.adapter.mainAxis];return 1==this.adapter.multiplier?e-o<=0:e+o>=0},e.prototype._fillHeader=function(){var t=this._groups[this._headerIndex];if(this._isEnterHeader(t)){var e=this._accumTargetSizeTowardsHeader(t.index,this.internal_getInitHeaderSize(t)),o=e.index,i=e.size,n=this._groups[o];if(n&&-1==this.getVisibleIndexByGroupIndex(o)){var r=this.internal_convertSizeToHeaderPosition(i,n);n.internal_setPosition(r);var a=this._getViewFromDisibleViews(n.index);this._visibleViews.unshift(a),a.internal_preVisible(n).internal_visible(),0==a.index&&this._resetOverflowHeader(a.group),this._headerIndex=n.index,this._fillHeader()}}},e.prototype._fillFooter=function(){var t=this._groups[this._footerIndex];if(this._isEnterFooter(t)){var e=this._accumTargetSizeTowardsFooter(t.index,this.internal_getInitFooterSize(t)),o=e.index,i=e.size,n=this._groups[o];if(n&&-1==this.getVisibleIndexByGroupIndex(o)){var r=this.internal_convertSizeToFooterPosition(i,n);n.internal_setPosition(r);var a=this._getViewFromDisibleViews(n.index);this._visibleViews.push(a),a.internal_preVisible(n).internal_visible(),0==a.index&&this._resetOverflowHeader(a.group),this._footerIndex=n.index,this._fillFooter()}}},e.prototype._fillFixedView=function(){if(this.header&&(-1!=this.header.group.fixedIndex||this.header.group.isFixed))for(var t=this.header.index,e=this.adapter.mainAxis,o=this.internal_getInitHeaderSize(this.header.group),i=t-1;i>=0;i--){var n=this._groups[i];if(!n)return void console.error("_fillFixedView\u9519\u8bef \u627e\u4e0d\u5230group",i);if(o+=n.size[e]+this.spacing,n.isFixed){var r=this.internal_convertSizeToHeaderPosition(o,n);if(-1!=this._fixedViews.findIndex(function(t){return t.index==n.index})){h.Helper.approximately(r,n.position[e])||(n.internal_setPosition(r),this.adapter.layoutManager.layout(n));break}this._clearFixedViews(),r=this.internal_convertSizeToHeaderPosition(o,n),n.internal_setPosition(r);var a=this._getViewFromDisibleViews(n.index);a.internal_preVisible(n).internal_visible(),this._fixedViews.push(a);break}}},e.prototype._accumTargetSizeTowardsHeader=function(t,e){for(var o=this._groups.length;;){if(0==t&&this.loopHeader&&(t=o),0==t)return{index:t,size:e};if(t--,!this._groups[t])return{index:t,size:e};if((e+=this.internal_accumulationSize(t))>=0)return{index:t,size:e}}},e.prototype._accumTargetSizeTowardsFooter=function(t,e){for(var o=this._groups.length;;){if(t==o-1&&this.loopFooter&&(t=-1),t==o-1)return{index:t,size:e};if(t++,!this._groups[t])return{index:t,size:e};if((e+=this.internal_accumulationSize(t))>=0)return{index:t,size:e}}},e.prototype._fillFooterHandle=function(){this._checkHeaderInvisible(),this._fillFooter()},e.prototype._fillHeaderHandle=function(){this._checkFooterInvisible(),this._fillHeader()},e.prototype._forceFill=function(){this._updateHeaderFooterIndex(),this._fillHeaderHandle(),this._fillFooterHandle()},e.prototype._updateHeaderFooterIndex=function(){this._headerIndex=this.header?this.header.index:0,this._footerIndex=this.footer?this.footer.index:0},e.prototype._onScroll=function(t){if(0!=this._groups.length){switch(this._updateHeaderFooterIndex(),t){case p.ScrollDirection.Up:case p.ScrollDirection.Left:this.adapter.isArrangeAxisStart?this._fillFooterHandle():this._fillHeaderHandle();break;case p.ScrollDirection.Down:case p.ScrollDirection.Right:this.adapter.isArrangeAxisStart?this._fillHeaderHandle():this._fillFooterHandle()}this._fillFixedView(),this.emit(a.ON_SCROLL)}},e.prototype._stretchToHeader=function(t,e){for(var o=this._visibleViews[t],i=e;i>=0;i--){var n=this._visibleViews[i];o?(this._calcMainAxisPosition(n.group,o.group,p.MagneticDirection.Header),this.adapter.layoutManager.layout(n.group)):this.getVisibleMainAxisSize()<this.adapter.mainAxisSize&&this._calcMainAxisPosition(n.group,null,p.MagneticDirection.Header),o=n}},e.prototype._stretchToFooter=function(t,e){for(var o=this._visibleViews[t],i=e;i<this._visibleViews.length;i++){var n=this._visibleViews[i];o?(this._calcMainAxisPosition(n.group,o.group,p.MagneticDirection.Footer),this.adapter.layoutManager.layout(n.group)):this.getVisibleMainAxisSize()<this.adapter.mainAxisSize&&this._calcMainAxisPosition(n.group,null,p.MagneticDirection.Footer),o=n}},e.prototype._resetOverflowHeader=function(t){if(!t)return this.overflowHeader=0;var e=this.adapter.mainAxis,o=t.anchorPoint[e];o=1==this.adapter.multiplier?1-o:o;var i=t.position[e];i+=t.size[e]*o*this.adapter.multiplier,this.overflowHeader=i},e.prototype._calcOverflowHeader=function(t,e,o){var i=this.getVisibleIndexByGroupIndex(0);if(-1!=i){var n=this._visibleViews[i];return this._resetOverflowHeader(n.group)}var r=this.adapter.mainAxis,a=t.anchorPoint[r];a=1==this.adapter.multiplier?1-a:a;var s=t.oldSize[r],c=t.size[r],l=this.adapter.multiplier;switch(this.stretchDirection){case p.StretchDirection.Header:var h=t.oldPosition[r]+s*a*l;(u=1==l?this.overflowHeader>=h:this.overflowHeader<=h)&&(this.overflowHeader+=(c-s)*l);break;case p.StretchDirection.Footer:h=t.oldPosition[r]+s*a*l,(u=1==l?this.overflowHeader>=h:this.overflowHeader<=h)||(this.overflowHeader-=(c-s)*l);break;case p.StretchDirection.Center:h=t.oldPosition[r]+s*a*l,(u=1==l?this.overflowHeader>=h:this.overflowHeader<=h)?this.overflowHeader+=.5*(c-s)*l:this.overflowHeader-=.5*(c-s)*l;break;case p.StretchDirection.Auto:h=t.oldPosition[r]+s*a*l;var u=1==l?this.overflowHeader>=h:this.overflowHeader<=h;e<=o&&(h=t.oldPosition[r]+s*a*l,u=-1==l?this.overflowHeader>=h:this.overflowHeader<=h),u&&(e<=o?this.overflowHeader-=(c-s)*l:this.overflowHeader+=(c-s)*l)}},e.prototype.internal_lateUpdate=function(t){this._isFill&&(this._isFill=!1,this._forceFill()),this.emit(a.ON_LATEUPDATE,t)},e.prototype.internal_viewChanged=function(t,e){var o=t.group.size[this.adapter.mainAxis]-e;this.virtualSize+=o;var i=this.getVisibleIndexByGroupIndex(t.index),n=-1;if(this.getVisibleMainAxisSize()<this.adapter.mainAxisSize||this.stretchDirection==p.StretchDirection.Footer){var r=i-1;this._visibleViews[r]||this.adapter.layoutManager.layout(t.group),this._stretchToFooter(r,i)}else if(this.stretchDirection==p.StretchDirection.Header)r=i+1,this._visibleViews[r]||this.adapter.layoutManager.layout(t.group),this._stretchToHeader(r,i);else if(this.stretchDirection==p.StretchDirection.Center)this.adapter.layoutManager.layout(t.group),this._stretchToHeader(i,i-1),this._stretchToFooter(i,i+1);else{if(-1==(n=this.adapter.centerManager.getCenterVisibleIndex()))throw Error("\u627e\u4e0d\u5230\u4e2d\u5fc3\u7d22\u5f15"+t.index);var s=this._visibleViews[n];this.adapter.layoutManager.layout(s.group),this._stretchToHeader(n,n-1),this._stretchToFooter(n,n+1)}this._calcOverflowHeader(t.group,n,i),this.magneticSizeChanges&&this._calcMagnetic(),this._isFill=!0,this.emit(a.ON_CHANGED_VIRTUALSIZE)},e.prototype.internal_getHolder=function(t){var e=this._getHolderFromDisableHolders(t);if(!e){var o=this.adapter.getPrefab(t.data),i=cc.instantiate(o);e=this.adapter.getHolder(i,t.code)}return e.node.parent=this.adapter.scrollManager.getLayerNode(t.element.layer),e},e.prototype.internal_updateVisibleView=function(t){this._onModelChangeBefore(),this._updateGroups(t)},e.prototype.internal_getGroupFooterBoundary=function(t){if(!t)return 0;var e=t.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?e:1-e;var o=t.position[this.adapter.mainAxis];return(o-=t.size[this.adapter.mainAxis]*e*this.adapter.multiplier)+this.adapter.scrollManager.contentPosition},e.prototype.internal_getGroupHeaderBoundary=function(t){if(!t)return 0;var e=t.anchorPoint[this.adapter.mainAxis];return e=1==this.adapter.multiplier?1-e:e,t.position[this.adapter.mainAxis]+this.adapter.scrollManager.contentPosition+e*t.size[this.adapter.mainAxis]*this.adapter.multiplier},e.prototype.internal_getInitHeaderSize=function(t){if(!t)return 0;var e=t.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?1-e:e;var o=-t.position[this.adapter.mainAxis]*this.adapter.multiplier;return o-=t.size[this.adapter.mainAxis]*e,o-=this.adapter.scrollManager.contentPosition*this.adapter.multiplier,this.adapter.mainAxisSize-o},e.prototype.internal_getInitFooterSize=function(t){if(!t)return 0;var e=t.anchorPoint[this.adapter.mainAxis];e=1==this.adapter.multiplier?e:1-e;var o=-t.position[this.adapter.mainAxis]*this.adapter.multiplier;return(o+=t.size[this.adapter.mainAxis]*e)-this.adapter.scrollManager.contentPosition*this.adapter.multiplier},e.prototype.internal_accumulationSize=function(t){var e=this._groups[t];return e?e.size[this.adapter.mainAxis]+this.spacing:0},e.prototype.internal_convertSizeToFooterPosition=function(t,e){var o=e.anchorPoint[this.adapter.mainAxis];o=1==this.adapter.multiplier?o:1-o;var i=e.size[this.adapter.mainAxis]*o;return-this.adapter.scrollManager.contentPosition-(this.adapter.multiplier*t-this.adapter.multiplier*i)},e.prototype.internal_convertSizeToHeaderPosition=function(t,e){var o=e.anchorPoint[this.adapter.mainAxis];o=1==this.adapter.multiplier?1-o:o;var i=e.size[this.adapter.mainAxis]*o,n=this.adapter.multiplier*t-this.adapter.multiplier*i;return(n-=this.adapter.multiplier*this.adapter.mainAxisSize)-this.adapter.scrollManager.contentPosition},e.prototype.getGroup=function(t){return this._groups[t]},e.prototype.getVisibleView=function(t){return this._visibleViews[t]},e.prototype.getVisibleMainAxisSize=function(){if(0==this._visibleViews.length)return 0;for(var t=0,e=this.adapter.mainAxis,o=0,i=this._visibleViews.length;o<i;o++){var n=this._visibleViews[o];n.group&&(t+=n.group.size[e]+this.spacing)}return t-this.spacing},e.prototype.getGroupIndexByModelIndex=function(t){for(var e=0,o=this._groups.length;e<o;e++)if(-1!=this._groups[e].findModelIndex(t))return e;return-1},e.prototype.getVisibleIndexByGroupIndex=function(t){return this._visibleViews.findIndex(function(e){return e.index==t})},e.prototype.getNextFixedHolders=function(t){for(var e=[],o=this.getVisibleIndexByGroupIndex(t)+1,i=this._visibleViews.length;o<i;o++){var n=this._visibleViews[o];if(n.index!=t&&n.group.isFixed){e=n.getFixedHolders();break}}return e},e.prototype.getMagneticOffset=function(){if(!this.magnetic)return 0;var t=this.adapter.isHorizontal?-this.adapter.multiplier:this.adapter.multiplier;return this.magneticDirection==p.MagneticDirection.Footer?this.footer?Math.max(0,this.adapter.mainAxisSize-this.adapter.mainAxisPadding-this.getVisibleMainAxisSize())*t:this.adapter.mainAxisSize*t:0},e.Event=a,r([g({type:p.ArrangeAxis})],e.prototype,"_arrangeAxis",void 0),r([g({type:p.ArrangeAxis,tooltip:"\u4e3b\u8f74\u65b9\u5411\u7684\u6392\u5217\u65b9\u5f0f\n        Start: \u4ece\u4e0a\u5230\u4e0b\u3001\u4ece\u5de6\u5230\u53f3\n        End: \u4ece\u4e0b\u5230\u4e0a\u3001\u4ece\u53f3\u5230\u5de6"})],e.prototype,"arrangeAxis",null),r([g({type:p.StretchDirection,tooltip:"\u5f53\u5143\u7d20\u7684\u5c3a\u5bf8\u3001\u7f29\u653e\u6539\u53d8\u65f6\uff0c\u53d7\u5f71\u54cd\u7684\u5176\u4ed6\u5143\u7d20\u5e94\u8be5\u5982\u4f55\u8ba1\u7b97\u65b0\u7684\u4f4d\u7f6e\n        Auto: \u4ee5\u53ef\u89c6\u533a\u57df\u4e2d\u5fc3\u4e3a\u8d77\u70b9\uff0c\u6240\u6709\u5176\u4ed6\u5143\u7d20\u5411\u4e24\u8fb9\u5ef6\u4f38\n        Center: \u4ee5\u5f53\u524d\u53d8\u5316\u7684\u5143\u7d20\u4e3a\u8d77\u70b9\uff0c\u6240\u6709\u5176\u4ed6\u5143\u7d20\u5411\u4e24\u8fb9\u5ef6\u4f38\n        Header: \u4ee5\u5f53\u524d\u53d8\u5316\u7684\u5143\u7d20\u548c\u5b83\u5934\u90e8\u7684\u6240\u6709\u5143\u7d20\u5411\u5934\u90e8\u5ef6\u4f38\n        Footer: \u4ee5\u5f53\u524d\u53d8\u5316\u7684\u5143\u7d20\u548c\u5b83\u5c3e\u90e8\u7684\u6240\u6709\u5143\u7d20\u5411\u5c3e\u90e8\u5ef6\u4f38"})],e.prototype,"stretchDirection",void 0),r([g({range:[0,1],slide:!0,step:.01,tooltip:"\u5f53\u5143\u7d20\u79fb\u52a8\u5230\u53ef\u89c6\u533a\u57df\u5916\u504f\u79fb\u591a\u5c11\u65f6\u624d\u8fdb\u884c\u56de\u6536\n        \u6bd4\u5982\u5143\u7d20\u7684\u5c3a\u5bf8\u4e3a100\uff0c\u5f53\u5143\u7d20\u8d85\u51fa\u53ef\u89c6\u8303\u56f4 100+100*0.3 \u65f6\u5c31\u4f1a\u88ab\u56de\u6536\n        \u6ca1\u6709\u7279\u6b8a\u9700\u6c42\u65f6\uff0c\u9ed8\u8ba4\u503c\u5373\u53ef"})],e.prototype,"overflowOffset",void 0),r([g({range:[0,1],slide:!0,step:.01,tooltip:"\u6b64\u503c\u4f1a\u5f71\u54cd\u586b\u5145\u5143\u7d20\u7684\u65f6\u673a\n        \u6ca1\u6709\u7279\u6b8a\u9700\u6c42\u65f6\uff0c\u9ed8\u8ba4\u503c\u5373\u53ef"})],e.prototype,"enterOffset",void 0),r([g()],e.prototype,"_spacing",void 0),r([g({tooltip:"\u4e3b\u8f74\u65b9\u5411\u5143\u7d20\u7684\u95f4\u9699"})],e.prototype,"spacing",null),r([g({group:{id:"padding",name:"padding"}})],e.prototype,"left",void 0),r([g({group:{id:"padding",name:"padding"}})],e.prototype,"right",void 0),r([g({group:{id:"padding",name:"padding"}})],e.prototype,"top",void 0),r([g({group:{id:"padding",name:"padding"}})],e.prototype,"bottom",void 0),r([g({tooltip:"\u78c1\u6027\u505c\u9760\n        \u5f00\u542f\u540e\uff0c\u4f1a\u5728\u589e\u52a0\u6570\u636e\u65f6\uff0c\u6839\u636e\u8bbe\u7f6e\u8fdb\u884c\u81ea\u52a8\u6eda\u52a8\u5230\u9876\u90e8\u6216\u5e95\u90e8"})],e.prototype,"magnetic",void 0),r([g({type:p.MagneticDirection,visible:function(){return this.magnetic},tooltip:"\u505c\u9760\u7684\u65b9\u5411"})],e.prototype,"magneticDirection",void 0),r([g({visible:function(){return this.magnetic},tooltip:"\u505c\u9760\u52a8\u753b\u7684\u65f6\u957f"})],e.prototype,"magneticDuration",void 0),r([g({visible:function(){return this.magnetic},tooltip:"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4ec5\u5f53\u6dfb\u52a0\u6570\u636e\u65f6\u624d\u4f1a\u89e6\u53d1\u505c\u9760\n        \u5f53\u5f00\u542f\u65f6\uff0c\u5143\u7d20\u7684\u5c3a\u5bf8\u6539\u53d8\u65f6,\u4e5f\u4f1a\u5426\u89e6\u53d1\u505c\u9760"})],e.prototype,"magneticSizeChanges",void 0),r([g({tooltip:"\u5934\u90e8\u5faa\u73af"})],e.prototype,"loopHeader",void 0),r([g({tooltip:"\u5c3e\u90e8\u5faa\u73af"})],e.prototype,"loopFooter",void 0),r([_("ViewManager")],e)}(c.Manager);o.ViewManager=y,cc._RF.pop()},{"../abstract/Group":"Group","../abstract/Manager":"Manager","../abstract/View":"View","../define/enum":"enum","../help/helper":"helper","./ModelManager":"ModelManager","./ScrollManager":"ScrollManager"}],ViewModel:[function(t,e,o){"use strict";cc._RF.push(e,"5b8cf+v25pJRJAVoZpBAFQm","ViewModel"),Object.defineProperty(o,"__esModule",{value:!0}),o.VM=void 0;var i=t("../../utils/Log"),n=t("../core/JsonOb"),r="VC:";function a(t,e,o,n){void 0===n&&(n="");for(var r=e.split("."),a=0;a<r.length;a++){var s=r[a];if(s in t==0){i.Log.error("["+s+"] not find in "+n+"."+e);break}a==r.length-1?t[s]=o:t=t[s]}}function s(t,e,o,n){void 0===n&&(n="");for(var r=e.split("."),a=0;a<r.length;a++){var s=r[a];if(s in t==0)return i.Log.error("["+s+"] not find in "+n+"."+e),o;t=t[s]}return null==t&&(t=o),t}var c=function(){function t(t,e){this._tag=null,this.active=!0,this.emitToRootPath=!1,new n.JsonOb(t,this._callback.bind(this)),this.$data=t,this._tag=e}return t.prototype._callback=function(t,e,o){if(1==this.active){var i=r+this._tag+"."+o.join(".");if(cc.director.emit(i,t,e,[this._tag].concat(o)),this.emitToRootPath&&cc.director.emit(r+this._tag,t,e,o),o.length>=2)for(var n=0;n<o.length-1;n++)o[n]}},t.prototype.setValue=function(t,e){a(this.$data,t,e,this._tag)},t.prototype.getValue=function(t,e){return s(this.$data,t,e,this._tag)},t}(),l=function(){function t(){this._mvs=[],this.EMIT_HEAD=r,this.setObjValue=a,this.getObjValue=s}return t.prototype.add=function(t,e,o){void 0===e&&(e="global"),void 0===o&&(o=!1);var n=new c(t,e),r=this._mvs.find(function(t){return t.tag===e});e.includes(".")?i.Log.error("cant write . in tag:",e):r?i.Log.error("already set VM tag:"+e):(n.emitToRootPath=o,this._mvs.push({tag:e,vm:n}))},t.prototype.remove=function(t){var e=this._mvs.findIndex(function(e){return e.tag===t});e>=0&&this._mvs.splice(e,1)},t.prototype.get=function(t){var e=this._mvs.find(function(e){return e.tag===t});if(null!=e)return e.vm;i.Log.error("cant find VM from:",t)},t.prototype.addValue=function(t,e){var o=(t=t.trim()).split(".");o.length<2&&i.Log.error("Cant find path:"+t);var n=this.get(o[0]);if(n){var r=o.slice(1).join(".");n.setValue(r,n.getValue(r)+e)}else i.Log.error("Cant Set VM:"+o[0])},t.prototype.getValue=function(t,e){var o=(t=t.trim()).split(".");if(o.length<2)i.Log.error("Get Value Cant find path:"+t);else{var n=this.get(o[0]);if(n)return n.getValue(o.slice(1).join("."),e);i.Log.error("Cant Get VM:"+o[0])}},t.prototype.setValue=function(t,e){var o=(t=t.trim()).split(".");if(o.length<2)i.Log.error("Set Value Cant find path:"+t);else{var n=this.get(o[0]);n?n.setValue(o.slice(1).join("."),e):i.Log.error("Cant Set VM:"+o[0])}},t.prototype.bindPath=function(t,e,o,n){""!=(t=t.trim())?"*"!==t.split(".")[0]?cc.director.on(r+t,e,o,n):i.Log.error(t,"\u8def\u5f84\u4e0d\u5408\u6cd5,\u53ef\u80fd\u9519\u8bef\u8986\u76d6\u4e86 VMParent \u7684onLoad \u65b9\u6cd5, \u6216\u8005\u7236\u8282\u70b9\u5e76\u672a\u6302\u8f7d VMParent \u76f8\u5173\u7684\u7ec4\u4ef6\u811a\u672c"):i.Log.error(o.node.name,"\u8282\u70b9\u7ed1\u5b9a\u7684\u8def\u5f84\u4e3a\u7a7a")},t.prototype.unbindPath=function(t,e,o){"*"!==(t=t.trim()).split(".")[0]?cc.director.off(r+t,e,o):i.Log.error(t,"\u8def\u5f84\u4e0d\u5408\u6cd5,\u53ef\u80fd\u9519\u8bef\u8986\u76d6\u4e86 VMParent \u7684onLoad \u65b9\u6cd5, \u6216\u8005\u7236\u8282\u70b9\u5e76\u672a\u6302\u8f7d VMParent \u76f8\u5173\u7684\u7ec4\u4ef6\u811a\u672c")},t.prototype.inactive=function(){this._mvs.forEach(function(t){t.vm.active=!1})},t.prototype.active=function(){this._mvs.forEach(function(t){t.vm.active=!0})},t}();o.VM=new l,cc._RF.pop()},{"../../utils/Log":"Log","../core/JsonOb":"JsonOb"}],ViewZorder:[function(t,e,o){"use strict";cc._RF.push(e,"ed937XBlTZAB74OIONxPMWA","ViewZorder"),Object.defineProperty(o,"__esModule",{value:!0}),o.ViewZorder=void 0;var i=function(){function t(){}return t.Scene=20,t.MenuPanel=80,t.UI=100,t.Dialog=200,t.Tips=300,t.Guide=400,t.Notice=500,t.Loading=600,t}();o.ViewZorder=i,cc._RF.pop()},{}],View:[function(t,e,o){"use strict";cc._RF.push(e,"71a1dw+pQJCMJGxCIJTziRn","View"),Object.defineProperty(o,"__esModule",{value:!0}),o.View=void 0;var i=t("../define/debug"),n=t("../define/enum"),r=t("../help/helper"),a=t("../manager/LayoutManager"),s=t("../manager/ViewManager"),c=cc._decorator,l=(c.ccclass,c.property,function(){function t(t){this._total=0,this._innerSize=0,this._group=null,this._holderList=[],this._tempHolderList=[],this._adapter=t,this.internal_reset(),this.__createDebug()}return Object.defineProperty(t.prototype,"isOverflowFixed",{get:function(){return this._isOverflowFixed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return this._group},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"holderList",{get:function(){return this._holderList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.group?this.group.index:-1},enumerable:!1,configurable:!0}),t.prototype.__createDebug=function(){if(i.ADAPTER_DEBUG_VIEW){var t=new cc.Node("__DEBUG_VIEW_RECT__");t.parent=this.adapter.scrollManager.content,this.__debug_graphics=t.addComponent(cc.Graphics),this.__debug_graphics.lineWidth=i.DEBUG_DRAW_LIND_WIDTH,this.__debug_graphics.strokeColor=i.DEBUG_DRAW_LINE_COLOR}},t.prototype.__drawDebug=function(){if(this.__debug_graphics&&this.group){this.__debug_graphics.clear();var t=this.adapter.mainAxis,e=this.adapter.crossAxis,o={x:0,y:0},n={x:this.group.size.x,y:this.group.size.y},r={x:this.group.anchorPoint.x,y:this.group.anchorPoint.y};o[t]=this.group.position[t]-n[t]*r[t],o[t]+=.5*i.DEBUG_DRAW_LIND_WIDTH,o[e]=this.group.position[e]-n[e]*(1-r[e]),o[e]+=.5*i.DEBUG_DRAW_LIND_WIDTH,n[t]-=i.DEBUG_DRAW_LIND_WIDTH,n[e]-=i.DEBUG_DRAW_LIND_WIDTH,this.__debug_graphics.roundRect(o.x,o.y,n.x,n.y,2),this.__debug_graphics.stroke()}},t.prototype.getFixedHolders=function(){if(!this.group.isFixed)return[];for(var t=[],e=this.holderList.length,o=0;o<e;o++){var i=this.holderList[o];i.model.element.fixed&&t.push(i)}return t},t.prototype.internal_isWrap=function(t,e){var o=!1,i=e&&e.models[e.models.length-1];if(i)switch(t.element.wrapBeforeMode){case n.WrapMode.Wrap:o=!0;break;case n.WrapMode.Nowrap:o=i.element.wrapAfterMode==n.WrapMode.Wrap;break;case n.WrapMode.Auto:(o=i.element.wrapAfterMode==n.WrapMode.Wrap)||(o=this._calculateInnerSize(t,e))}return o},t.prototype.internal_reset=function(){this._group=null,this._innerSize=0,this._total=0,this._holderList.length=0,this._isOverflowFixed=!0,this._tempHolderList.length=0,this.__debug_graphics&&this.__debug_graphics.clear()},t.prototype.internal_push=function(t){this._total++,this.adapter.mainAxis;var e=this.adapter.crossAxis;(!t.element.ignoreLayout||t.element.ignoreLayout&&t.element.placeholder)&&(0!=this._innerSize&&(this._innerSize+=this.adapter.layoutManager.spacing),this._innerSize+=t.size[e])},t.prototype.internal_recycleHolders=function(t){for(var e=0;e<this._holderList.length;e++){var o=this._holderList[e];o.internal_disable(),t(o)}this._holderList.length=0},t.prototype.internal_preVisible=function(t,e){return this._group=t,this._createHolders(e),this},t.prototype.internal_visible=function(){this.register();for(var t=0;t<this._tempHolderList.length;t++){var e=this._tempHolderList[t],o=e.holder,i=e.model,n=e.isNew;o.internal_visible(this,i,n)}this._tempHolderList.length=0,this.adapter.layoutManager.layout(this.group),this.onVisible()},t.prototype.internal_disable=function(){this.adapter.layoutManager.unLayout(this.index),this.unregister(),this.onDisable(),this.internal_reset()},t.prototype.internal_holderChanged=function(t){var e=!0,o=this.adapter.mainAxis,i=this.group.size[o];if(!t){for(var n=0,a=0;a<this.group.models.length;a++){var s=this.group.models[a],c=s.size[o];(this.adapter.isVertical&&this.adapter.layoutManager.controlScaleHeight||this.adapter.isHorizontal&&this.adapter.layoutManager.controlScaleWidth)&&(c*=s.scale[o]),n=Math.max(n,c)}r.Helper.approximately(this.group.size[o],n)||(this.group.oldSize[o]=this.group.size[o],this.group.size[o]=n,e=!1)}e?this.adapter.layoutManager.layout(this.group):this.adapter.viewManager.internal_viewChanged(this,i)},t.prototype.register=function(){this.adapter.viewManager.on(s.ViewManager.Event.ON_SCROLL,this._onScroll,this),this.adapter.viewManager.on(s.ViewManager.Event.ON_LATEUPDATE,this._onLateUpdate,this),this.adapter.layoutManager.on(a.LayoutManager.Event.ON_LAYOUT_COMPLATED,this._onLayoutComplated,this),this.adapter.layoutManager.on(a.LayoutManager.Event.ON_CHANGED_LAYOUT_STATE,this._onChangedLayoutState,this)},t.prototype.unregister=function(){this.adapter.viewManager.off(s.ViewManager.Event.ON_SCROLL,this._onScroll,this),this.adapter.viewManager.off(s.ViewManager.Event.ON_LATEUPDATE,this._onLateUpdate,this),this.adapter.layoutManager.off(a.LayoutManager.Event.ON_LAYOUT_COMPLATED,this._onLayoutComplated,this),this.adapter.layoutManager.off(a.LayoutManager.Event.ON_CHANGED_LAYOUT_STATE,this._onChangedLayoutState,this)},t.prototype._createHolders=function(t){var e=this.adapter.mainAxis;this._tempHolderList.length=0;for(var o=0;o<this.group.models.length;o++){var i=this.group.models[o],n=!1,r=t&&t(i);r||(r=this.adapter.viewManager.internal_getHolder(i),n=!0),i.position[e]=this.group.position[e],this._holderList.push(r),this._tempHolderList.push({holder:r,model:i,isNew:n})}},t.prototype._calculateInnerSize=function(t,e){if(0==this._total)return!1;var o=t.size[this.adapter.crossAxis];return this._innerSize+o+this.adapter.layoutManager.spacing>e.size[this.adapter.crossAxis]},t.prototype._onLayoutComplated=function(t){if(-1!=t.indexOf(this.index)){for(var e=0;e<this.holderList.length;e++)this.holderList[e].internal_layout();this.group.isFixed&&this._calcFixedPosition()}},t.prototype._calcFixedPosition=function(){for(var t=this._holderList.length,e=this.adapter.mainAxis,o=0;o<t;o++){var i=this._holderList[o];if(i.element.fixed){var n={x:i.model.position.x,y:i.model.position.y},r=0,a=this._getModelBoundary(i.model);if(this._isNeedFixed(a)){n[e]-=a;var s=this.adapter.viewManager.getNextFixedHolders(this.index);r=this._getRelativeNextHolderOffset(i,s)}n[e]+=r*this.adapter.multiplier,n[e]!=i.node.position[e]&&i.node.setPosition(n.x,n.y)}}},t.prototype._onChangedLayoutState=function(){this.adapter.layoutManager.layout(this.group)},t.prototype._onScroll=function(){this.group.isFixed&&0!=this._holderList.length&&this._calcFixedPosition()},t.prototype._onLateUpdate=function(){i.ADAPTER_DEBUG_VIEW&&this.group&&this.__drawDebug()},t.prototype._isNeedFixed=function(t){return 1==this.adapter.multiplier?t>=0:t<=0},t.prototype._getModelBoundary=function(t){var e=r.Helper.isNumber(t.element.fixedOffset)?t.element.fixedOffset:0;return 1==this.adapter.multiplier?this._getModelHeaderBoundary(t)+e:this._getModelFooterBoundary(t)-e},t.prototype._getModelHeaderBoundary=function(t){var e=this.adapter.mainAxis;return t.position[e]+t.size[e]*(1-t.anchorPoint[e])*t.scale[e]+this.adapter.scrollManager.contentPosition},t.prototype._getModelFooterBoundary=function(t){var e=this.adapter.mainAxis;return t.position[e]-t.size[e]*t.anchorPoint[e]*t.scale[e]+this.adapter.scrollManager.contentPosition},t.prototype._getModelSizeWithSpacing=function(t){var e=this.adapter.mainAxis,o=r.Helper.isNumber(t.element.fixedOffset)?t.element.fixedOffset:0,i=r.Helper.isNumber(t.element.fixedSpacing)?t.element.fixedSpacing:this.adapter.viewManager.spacing;return t.size[e]*t.scale[e]+o+i},t.prototype._getReatureRelativeBoundary=function(t,e){var o=1==this.adapter.multiplier?this._getModelHeaderBoundary(t):this._getModelFooterBoundary(t),i=1==this.adapter.multiplier?o+e:e-o;return Math.min(i,e)},t.prototype._getRelativeNextHolderOffset=function(t,e){for(var o=e.length,i=this.adapter.crossAxis,n=this._getModelSizeWithSpacing(t.model),r=0,a=0;a<o;a++){var s=e[a],c=this._getReatureRelativeBoundary(s.model,n),l=t.model.scale[i]==s.model.scale[i],p=t.model.size[i]==s.model.size[i];if(t.fixedIndex==s.fixedIndex&&l&&p){r=c>0?c:0;break}c>0&&(r=Math.max(r,c))}return r},t}());o.View=l,cc._RF.pop()},{"../define/debug":"debug","../define/enum":"enum","../help/helper":"helper","../manager/LayoutManager":"LayoutManager","../manager/ViewManager":"ViewManager"}],VirtualItem:[function(t,e,o){"use strict";cc._RF.push(e,"6cd13v/CedJMJyctZtgGf5s","VirtualItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../ui/UIBase"),s=cc._decorator,c=s.ccclass,l=(s.property,s.disallowMultiple),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.DataIdx=0,e}return n(e,t),e.prototype.onInitItem=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.setOtherNode=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onReset=function(){},e.prototype.getRealSize=function(){return this.node.getContentSize()},r([c,l],e)}(a.default);o.default=p,cc._RF.pop()},{"../ui/UIBase":"UIBase"}],VirtualLayout:[function(t,e,o){"use strict";cc._RF.push(e,"2ec83SUD9FFJoQslAHgO79L","VirtualLayout");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,n++)i[n]=r[a];return i};Object.defineProperty(o,"__esModule",{value:!0});var s,c,l,p,h=t("./VirtualItem"),u=t("./VirtualList"),d=cc._decorator,f=d.ccclass,_=d.property,g=d.disallowMultiple;d.menu,function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t[t.GRID=2]="GRID"}(s||(s={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(c||(c={})),function(t){t[t.LEFT_TO_RIGHT=0]="LEFT_TO_RIGHT",t[t.RIGHT_TO_LEFT=1]="RIGHT_TO_LEFT"}(l||(l={})),function(t){t[t.TOP_TO_BOTTOM=0]="TOP_TO_BOTTOM",t[t.BOTTOM_TO_TOP=1]="BOTTOM_TO_TOP"}(p||(p={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Type=s.VERTICAL,e.StartAxis=c.HORIZONTAL,e.Left=0,e.Right=0,e.Top=0,e.Bottom=0,e.SpacingX=0,e.SpacingY=0,e.VerticalDirection=p.TOP_TO_BOTTOM,e.HorizontalDirection=l.LEFT_TO_RIGHT,e._view=null,e._viewEdge=null,e._fixedSize=null,e._sizeDirty=!1,e._viewDirty=!1,e._items=[],e._itemPool=[],e._otherItemsArr=[],e._otherItemPoolArr=[],e.list=null,e.dataArr=[],e}return n(e,t),e.prototype.onInit=function(){var t=this;this._view=this.node.parent,this._viewEdge=this.getNodeEdgeRect(this._view),this._otherItemsArr=[],this._otherItemPoolArr=[],this.list.Others.forEach(function(){t._otherItemsArr.push([]),t._otherItemPoolArr.push([])}),this.list.IsFixedSize&&null===this._fixedSize&&(this.addItemNode(!1),this._fixedSize=this._itemPool[0].getContentSize()),this.node.on(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this)},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.POSITION_CHANGED,this.onPositionChanged,this)},e.prototype.lateUpdate=function(){this.updateSize(),this.updateView()},e.prototype.updateSize=function(){this._sizeDirty&&(this._sizeDirty=!1,this.list.IsFixedSize?this.updateSizeFixed():this.updateSizeUnfixed())},e.prototype.updateSizeFixed=function(){if(this.Type===s.VERTICAL){if(this.dataArr.length<=0)return void(this.node.height=0);this.node.height=this.Top+this.Bottom+(this.dataArr.length-1)*this.SpacingY+this._fixedSize.height*this.dataArr.length}else if(this.Type===s.HORIZONTAL){if(this.dataArr.length<=0)return void(this.node.width=0);this.node.width=this.Left+this.Right+(this.dataArr.length-1)*this.SpacingX+this._fixedSize.width*this.dataArr.length}else if(this.StartAxis===c.HORIZONTAL){if(this.dataArr.length<=0)return void(this.node.height=0);var t=Math.floor((this.node.width-this.Left-this.Right+this.SpacingX)/(this._fixedSize.width+this.SpacingX));t=Math.max(t,1);var e=Math.ceil(this.dataArr.length/t);this.node.height=this.Top+this.Bottom+(e-1)*this.SpacingY+this._fixedSize.height*e}else{if(this.dataArr.length<=0)return void(this.node.width=0);t=Math.floor((this.node.height-this.Top-this.Bottom+this.SpacingY)/(this._fixedSize.height+this.SpacingY)),t=Math.max(t,1);var o=Math.ceil(this.dataArr.length/t);this.node.width=this.Left+this.Right+(o-1)*this.SpacingX+this._fixedSize.width*o}},e.prototype.updateSizeUnfixed=function(){},e.prototype.updateView=function(){!this._viewDirty||this.dataArr.length<=0||(this._viewDirty=!1,this.list.IsFixedSize?this.updateViewFixed():this.updateViewUnfixed())},e.prototype.updateViewFixed=function(){var t,e,o,i,n=this,r=this.checkViewItem(),a=r.inView,u=r.outView,d=this.getNodeEdgeRect(this.node);if(this.Type===s.VERTICAL)for(var f=function(t){if(_.VerticalDirection===p.TOP_TO_BOTTOM){if(o=d.yMax-(_.Top+t*_.SpacingY+_._fixedSize.height*t),i=o-_._fixedSize.height,o+_.node.y<_._viewEdge.yMin)return{value:void 0};if(i+_.node.y>_._viewEdge.yMax)return"continue"}else{if(i=d.yMin+_.Bottom+t*_.SpacingY+_._fixedSize.height*t,o=i+_._fixedSize.height,i+_.node.y>_._viewEdge.yMax)return{value:void 0};if(o+_.node.y<_._viewEdge.yMin)return"continue"}if(-1!==a.findIndex(function(e){return n._items[e].getComponent(h.default).DataIdx===t}))return"continue";var e=0===u.length?_.addItemNode():u.shift(),r=_._items[e];_.setItem(cc.v3(0,i+r.anchorY*r.height),t,e)},_=this,g=0;g<this.dataArr.length;g++){var y=f(g);if("object"==typeof y)return y.value}else if(this.Type===s.HORIZONTAL){var m=function(o){if(v.HorizontalDirection===l.RIGHT_TO_LEFT){if(t=d.xMax-(v.Right+o*v.SpacingX+v._fixedSize.width*o),e=t-v._fixedSize.width,t+v.node.x<v._viewEdge.xMin)return{value:void 0};if(e+v.node.x>v._viewEdge.xMax)return"continue"}else{if(e=d.xMin+v.Left+o*v.SpacingX+v._fixedSize.width*o,t=e+v._fixedSize.width,e+v.node.x>v._viewEdge.xMax)return{value:void 0};if(t+v.node.x<v._viewEdge.xMin)return"continue"}if(-1!==a.findIndex(function(t){return n._items[t].getComponent(h.default).DataIdx===o}))return"continue";var i=0===u.length?v.addItemNode():u.shift(),r=v._items[i];v.setItem(cc.v3(e+r.anchorX*r.width,0),o,i)},v=this;for(g=0;g<this.dataArr.length;g++){var b=m(g);if("object"==typeof b)return b.value}}else{var C=function(r){var s=0,f=0;if(M.StartAxis===c.HORIZONTAL){var _=Math.floor((M.node.width-M.Left-M.Right+M.SpacingX)/(M._fixedSize.width+M.SpacingX));if(_=Math.max(_,1),s=Math.floor(r/_),f=r%_,M.VerticalDirection===p.TOP_TO_BOTTOM){if(o=d.yMax-(M.Top+s*M.SpacingY+M._fixedSize.height*s),i=o-M._fixedSize.height,o+M.node.y<M._viewEdge.yMin)return{value:void 0};if(i+M.node.y>M._viewEdge.yMax)return"continue"}else{if(i=d.yMin+M.Bottom+s*M.SpacingY+M._fixedSize.height*s,o=i+M._fixedSize.height,i+M.node.y>M._viewEdge.yMax)return{value:void 0};if(o+M.node.y<M._viewEdge.yMin)return"continue"}if(M.HorizontalDirection===l.RIGHT_TO_LEFT){if(t=d.xMax-(M.Right+f*M.SpacingX+M._fixedSize.width*f),e=t-M._fixedSize.width,t+M.node.x<M._viewEdge.xMin)return"continue";if(e+M.node.x>M._viewEdge.xMax)return"continue"}else{if(e=d.xMin+M.Left+f*M.SpacingX+M._fixedSize.width*f,t=e+M._fixedSize.width,e+M.node.x>M._viewEdge.xMax)return"continue";if(t+M.node.x<M._viewEdge.xMin)return"continue"}}else{if(_=Math.floor((M.node.height-M.Top-M.Bottom+M.SpacingY)/(M._fixedSize.height+M.SpacingY)),_=Math.max(_,1),s=r%_,f=Math.floor(r/_),M.HorizontalDirection===l.RIGHT_TO_LEFT){if(t=d.xMax-(M.Right+f*M.SpacingX+M._fixedSize.width*f),e=t-M._fixedSize.width,t+M.node.x<M._viewEdge.xMin)return{value:void 0};if(e+M.node.x>M._viewEdge.xMax)return"continue"}else{if(e=d.xMin+M.Left+f*M.SpacingX+M._fixedSize.width*f,t=e+M._fixedSize.width,e+M.node.x>M._viewEdge.xMax)return{value:void 0};if(t+M.node.x<M._viewEdge.xMin)return"continue"}if(M.VerticalDirection===p.TOP_TO_BOTTOM){if(o=d.yMax-(M.Top+s*M.SpacingY+M._fixedSize.height*s),i=o-M._fixedSize.height,o+M.node.y<M._viewEdge.yMin)return"continue";if(i+M.node.y>M._viewEdge.yMax)return"continue"}else{if(i=d.yMin+M.Bottom+s*M.SpacingY+M._fixedSize.height*s,o=i+M._fixedSize.height,i+M.node.y>M._viewEdge.yMax)return"continue";if(o+M.node.y<M._viewEdge.yMin)return"continue"}}if(-1!==a.findIndex(function(t){return n._items[t].getComponent(h.default).DataIdx===r}))return"continue";var g=0===u.length?M.addItemNode():u.shift(),y=M._items[g];M.setItem(cc.v3(e+y.anchorX*y.width,i+y.anchorY*y.height),r,g)},M=this;for(g=0;g<this.dataArr.length;g++){var w=C(g);if("object"==typeof w)return w.value}}},e.prototype.updateViewUnfixed=function(){},e.prototype.checkViewItem=function(){return this.list.IsFixedSize?this.checkViewItemFixed():this.checkViewItemUnfixed()},e.prototype.checkViewItemFixed=function(){var t=[],e=[];if(this.Type===s.VERTICAL)for(var o=0;o<this._items.length;o++)(i=this._items[o].getBoundingBox()).yMin+this.node.y<=this._viewEdge.yMax&&i.yMax+this.node.y>=this._viewEdge.yMin?t.push(o):e.push(o);else if(this.Type===s.HORIZONTAL)for(o=0;o<this._items.length;o++)(i=this._items[o].getBoundingBox()).xMin+this.node.x<=this._viewEdge.xMax&&i.xMax+this.node.x>=this._viewEdge.xMin?t.push(o):e.push(o);else for(o=0;o<this._items.length;o++){var i;(i=this._items[o].getBoundingBox()).xMin+this.node.x<=this._viewEdge.xMax&&i.xMax+this.node.x>=this._viewEdge.xMin&&i.yMin+this.node.y<=this._viewEdge.yMax&&i.yMax+this.node.y>=this._viewEdge.yMin?t.push(o):e.push(o)}return{inView:t,outView:e}},e.prototype.checkViewItemUnfixed=function(){return{inView:[],outView:[]}},e.prototype.setItem=function(t,e,o){var i=this._items[o];i.position=t;var n=i.getComponent(h.default);if(n.DataIdx=e,n.onInitItem.apply(n,this.dataArr[e]),this.list.Others.length>0){var r=[];this._otherItemsArr.forEach(function(e){e[o].position=t,r.push(e[o])}),n.setOtherNode.apply(n,r)}},e.prototype.addItemNode=function(t){var e=this;void 0===t&&(t=!0);var o=null;if(this._itemPool.length>0)(o=this._itemPool.pop()).active=!0,this._items.push(o),this._otherItemPoolArr.forEach(function(t,o){var i=t.pop();i.active=!0,e._otherItemsArr[o].push(i)});else{var i=this.list.Main.TemplateType===u.TemplateType.PREFAB?this.list.Main.TemplatePrefab:this.list.Main.TemplateNode;(o=cc.instantiate(i)).getComponent(h.default)||o.addComponent(h.default),this.node.addChild(o),t?(o.active=!0,this._items.push(o)):(o.active=!1,this.putItemNode(o)),this.list.Others.forEach(function(o,i){var n=o.TemplateType===u.TemplateType.PREFAB?o.TemplatePrefab:o.TemplateNode,r=cc.instantiate(n);o.Content.addChild(r),t?(r.active=!0,e._otherItemsArr[i].push(r)):(r.active=!1,e.putItemNode(r,!0,i))})}return this._items.length-1},e.prototype.putItemNode=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=0),t.active=!1,e?this._otherItemPoolArr[o].push(t):(t.getComponent(h.default).onReset(),this._itemPool.push(t))},e.prototype.convertToParentPos=function(t,e){return t.add(e.position)},e.prototype.convertToChildPos=function(t,e){return t.sub(e.position)},e.prototype.getNodeEdgeRect=function(t){return cc.rect(-t.width*t.anchorX,-t.height*t.anchorY,t.width,t.height)},e.prototype.onPositionChanged=function(){var t=this;this._viewDirty=!0,this.list.Others.forEach(function(e){e.Content.position=t.node.position})},e.prototype.clearAllItem=function(){var t=this;this._items.forEach(function(e,o){t.putItemNode(e),t._otherItemsArr.forEach(function(e,i){t.putItemNode(e[o],!0,i)})}),this._items.length=0,this._otherItemsArr.forEach(function(t){t.length=0})},e.prototype.getScrollOffset=function(t,e,o){return t=Math.min(t,this.dataArr.length-1),this.list.IsFixedSize?this.getScrollOffsetFixed(t,e,o):this.getScrollOffsetUnfixed(t,e,o)},e.prototype.getScrollOffsetFixed=function(t,e,o){var i,n,r=this.getNodeEdgeRect(this.node);if(this.Type===s.VERTICAL){this.VerticalDirection===p.TOP_TO_BOTTOM?n=r.yMax-(this.Top+t*this.SpacingY+this._fixedSize.height*t)-this._fixedSize.height:(n=r.yMin+this.Bottom+t*this.SpacingY+this._fixedSize.height*t,this._fixedSize.height);var a=this._viewEdge.xMin-(r.xMin+this.node.x),h=r.yMax-(this._fixedSize.height*e.y+n)-(1-o.y)*this._viewEdge.height;return cc.v2(a,h)}if(this.Type===s.HORIZONTAL)return this.HorizontalDirection===l.RIGHT_TO_LEFT?i=r.xMax-(this.Right+t*this.SpacingX+this._fixedSize.width*t)-this._fixedSize.width:(i=r.xMin+this.Left+t*this.SpacingX+this._fixedSize.width*t,this._fixedSize.width),a=this._fixedSize.width*e.x+i-r.xMin-o.x*this._viewEdge.width,h=r.yMax-(this._viewEdge.yMax-this.node.y),cc.v2(a,h);var u=0,d=0;if(this.StartAxis===c.HORIZONTAL){var f=Math.floor((this.node.width-this.Left-this.Right+this.SpacingX)/(this._fixedSize.width+this.SpacingX));f=Math.max(f,1),u=Math.floor(t/f),d=t%f}else f=Math.floor((this.node.height-this.Top-this.Bottom+this.SpacingY)/(this._fixedSize.height+this.SpacingY)),u=t%(f=Math.max(f,1)),d=Math.floor(t/f);return this.VerticalDirection===p.TOP_TO_BOTTOM?n=r.yMax-(this.Top+u*this.SpacingY+this._fixedSize.height*u)-this._fixedSize.height:(n=r.yMin+this.Bottom+u*this.SpacingY+this._fixedSize.height*u,this._fixedSize.height),this.HorizontalDirection===l.RIGHT_TO_LEFT?i=r.xMax-(this.Right+d*this.SpacingX+this._fixedSize.width*d)-this._fixedSize.width:(i=r.xMin+this.Left+d*this.SpacingX+this._fixedSize.width*d,this._fixedSize.width),a=this._fixedSize.width*e.x+i-r.xMin-o.x*this._viewEdge.width,h=r.yMax-(this._fixedSize.height*e.y+n)-(1-o.y)*this._viewEdge.height,cc.v2(a,h)},e.prototype.getScrollOffsetUnfixed=function(){return null},e.prototype.reset=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];t>=0&&t<this.dataArr.length&&(this.dataArr[t]=e,this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0)},e.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dataArr.push(t),this._sizeDirty=!0,this._viewDirty=!0},e.prototype.pop=function(){this.dataArr.pop(),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0},e.prototype.clearAll=function(){this.dataArr=[],this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0},e.prototype.unshift=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dataArr.unshift(t),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0},e.prototype.shift=function(){this.dataArr.shift(),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0},e.prototype.splice=function(t,e){for(var o,i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];void 0===e?this.dataArr.splice(t):void 0===i||0===i.length?this.dataArr.splice(t,e):(o=this.dataArr).splice.apply(o,a([t,e],i)),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0},e.prototype.sort=function(t){this.dataArr.sort(t),this.clearAllItem(),this._sizeDirty=!0,this._viewDirty=!0},r([_({type:cc.Enum(s),tooltip:!1})],e.prototype,"Type",void 0),r([_({type:cc.Enum(c),tooltip:!1,visible:function(){return this.Type===s.GRID}})],e.prototype,"StartAxis",void 0),r([_({visible:function(){return this.Type===s.HORIZONTAL||this.Type===s.GRID}})],e.prototype,"Left",void 0),r([_({visible:function(){return this.Type===s.HORIZONTAL||this.Type===s.GRID}})],e.prototype,"Right",void 0),r([_({visible:function(){return this.Type===s.VERTICAL||this.Type===s.GRID}})],e.prototype,"Top",void 0),r([_({visible:function(){return this.Type===s.VERTICAL||this.Type===s.GRID}})],e.prototype,"Bottom",void 0),r([_({visible:function(){return this.Type===s.HORIZONTAL||this.Type===s.GRID}})],e.prototype,"SpacingX",void 0),r([_({visible:function(){return this.Type===s.VERTICAL||this.Type===s.GRID}})],e.prototype,"SpacingY",void 0),r([_({type:cc.Enum(p),visible:function(){return this.Type===s.VERTICAL||this.Type===s.GRID}})],e.prototype,"VerticalDirection",void 0),r([_({type:cc.Enum(l),visible:function(){return this.Type===s.HORIZONTAL||this.Type===s.GRID}})],e.prototype,"HorizontalDirection",void 0),r([f,g],e)}(cc.Component);o.default=y,cc._RF.pop()},{"./VirtualItem":"VirtualItem","./VirtualList":"VirtualList"}],VirtualList:[function(t,e,o){"use strict";cc._RF.push(e,"7144ex9rlJN/79EVSGTCdde","VirtualList");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var i=Array(t),n=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,n++)i[n]=r[a];return i};Object.defineProperty(o,"__esModule",{value:!0}),o.VirtualLayoutData=o.TemplateType=void 0;var s,c=t("./VirtualLayout"),l=cc._decorator,p=l.ccclass,h=l.property,u=l.requireComponent,d=l.executeInEditMode,f=l.disallowMultiple,_=l.menu;(function(t){t[t.NODE=0]="NODE",t[t.PREFAB=1]="PREFAB"})(s=o.TemplateType||(o.TemplateType={}));var g=function(){function t(){this.Content=null,this.TemplateType=s.PREFAB,this.TemplatePrefab=null,this.TemplateNode=null,this._isMain=!1}return r([h({type:cc.Node,tooltip:!1,visible:function(){return!this._isMain}})],t.prototype,"Content",void 0),r([h({type:cc.Enum(s),tooltip:!1})],t.prototype,"TemplateType",void 0),r([h({type:cc.Prefab,tooltip:!1,visible:function(){return this.TemplateType===s.PREFAB}})],t.prototype,"TemplatePrefab",void 0),r([h({type:cc.Node,tooltip:!1,visible:function(){return this.TemplateType===s.NODE}})],t.prototype,"TemplateNode",void 0),r([h(cc.Boolean)],t.prototype,"_isMain",void 0),r([p("VirtualLayoutData")],t)}();o.VirtualLayoutData=g;var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Main=new g,e.Others=[],e.IsFixedSize=!0,e._scrollView=null,e._layout=null,e}return n(e,t),e.prototype.onLoad=function(){this._scrollView=this.getComponent(cc.ScrollView),this._layout=this._scrollView.content.getComponent(c.default),this._layout&&(this._layout.list=this,this._layout.onInit())},e.prototype.resetInEditor=function(){},e.prototype._runEditor=function(){var t=this.getComponent(cc.ScrollView),e=t.content.getComponent(c.default);this.Main.Content||(this.Main.Content=t.content,this.Main._isMain=!0),e||t.content.addComponent(c.default)},e.prototype.scrollItemToView=function(t,e,o,i,n){void 0===e&&(e=cc.v2()),void 0===o&&(o=cc.v2()),void 0===i&&(i=0),void 0===n&&(n=!0),this._scrollView.scrollToOffset(this._layout.getScrollOffset(t,e,o),i,n)},e.prototype.getDataArr=function(){return this._layout.dataArr},e.prototype.reset=function(t){for(var e,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];(e=this._layout).reset.apply(e,a([t],o))},e.prototype.push=function(){for(var t,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];(t=this._layout).push.apply(t,e)},e.prototype.pop=function(){this._layout.pop()},e.prototype.clearAll=function(){this._layout.clearAll()},e.prototype.unshift=function(){for(var t,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];(t=this._layout).unshift.apply(t,e)},e.prototype.shift=function(){this._layout.shift()},e.prototype.splice=function(t,e){for(var o,i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];(o=this._layout).splice.apply(o,a([t,e],i))},e.prototype.sort=function(t){this._layout.sort(t)},r([h({type:g,tooltip:!1})],e.prototype,"Main",void 0),r([h({type:g,tooltip:!1})],e.prototype,"Others",void 0),r([h({visible:!1,tooltip:!1})],e.prototype,"IsFixedSize",void 0),r([p,f,d,u(cc.ScrollView),_("Framework/UI\u7ec4\u4ef6/VirtualList")],e)}(cc.Component);o.default=y,cc._RF.pop()},{"./VirtualLayout":"VirtualLayout"}],Websocket:[function(t,e,o){"use strict";cc._RF.push(e,"664d0LJZN1AEo+aNsNrxcSc","Websocket"),Object.defineProperty(o,"__esModule",{value:!0}),o.Websocket=void 0;var i=t("../utils/Log"),n=function(){function t(t){var e=t.url,o=t.pingTimeout,n=void 0===o?15e3:o,r=t.pongTimeout,a=void 0===r?1e4:r,s=t.reconnectTimeout,c=void 0===s?2e3:s,l=t.pingMsg,p=void 0===l?"heartbeat":l,h=t.repeatLimit,u=void 0===h?null:h;this.ws=null,this.repeat=0,this.forbidReconnect=!1,this.forgroundCount=-1,this.isWx=cc.sys.platform==cc.sys.WECHAT_GAME,this.hasAddEvent=!1,this.isHide=!1,this.onclose=function(){},this.onerror=function(){},this.onopen=function(){},this.onmessage=function(){},this.onreconnect=function(){},this.createWebSocket=function(){if(!this.ws||this.ws.readyState!=this.ws.OPEN)try{this.isWx?this.ws=wx.connectSocket({url:this.opts.url,success:function(){i.Log.log("wx connect socket success")},fail:function(){i.Log.log("wx connect socket fail")}}):this.ws=new WebSocket(this.opts.url,[]),this.initEventHandle()}catch(t){throw i.Log.log("createWebSocket error",t),this.reconnect(),t}},this.initEventHandle=function(){var t=this;this.isWx?(this.ws.onClose(function(){i.Log.log("wx --\x3e onClose..."),this.onclose(),this.reconnect()}.bind(this)),this.ws.onError(function(t){i.Log.log("wx --\x3e onError...",t),this.onerror(),this.reconnect()}.bind(this)),this.ws.onOpen(function(){i.Log.log("wx --\x3e onOpen..."),this.hasAddEvent||(this.hasAddEvent=!0,cc.game.on(cc.game.EVENT_SHOW,this.applocationShow,this),cc.game.on(cc.game.EVENT_HIDE,this.applocationHide,this)),this.repeat=0,this.onopen(),this.heartCheck()}.bind(this)),this.ws.onMessage(function(t){this.onmessage(t),this.heartCheck()}.bind(this))):(this.ws.onclose=function(){i.Log.log("ws --\x3e onclose..."),t.onclose(),t.reconnect()},this.ws.onerror=function(e){i.Log.log("ws --\x3e onerror...",e),t.onerror(),t.reconnect()},this.ws.onopen=function(){i.Log.log("ws --\x3e onopen..."),t.hasAddEvent||(t.hasAddEvent=!0,cc.game.on(cc.game.EVENT_SHOW,t.applocationShow,t),cc.game.on(cc.game.EVENT_HIDE,t.applocationHide,t)),t.repeat=0,t.onopen(),t.heartCheck()},this.ws.onmessage=function(e){t.onmessage(e)})},this.reconnect=function(){var t=this;this.ws&&this.ws.readyState==this.ws.OPEN?i.Log.log("reconnect--------\u91cd\u590d\u8fde\u63a5"):this.opts.repeatLimit>0&&this.opts.repeatLimit<=this.repeat||this.lockReconnect||this.forbidReconnect||(this.lockReconnect=!0,this.repeat++,this.onreconnect(),setTimeout(function(){t.createWebSocket(),t.lockReconnect=!1},this.opts.reconnectTimeout))},this.send=function(t){this.ws&&this.ws.readyState==this.ws.OPEN?this.isWx?this.ws.send({data:t,success:function(){}}):this.ws.send(t):i.Log.log("\u53d1\u9001\u5931\u8d25:",JSON.stringify(t))},this.heartCheck=function(){this.heartReset(),this.heartStart()},this.heartStart=function(){var t=this;this.forbidReconnect||(this.pingTimeoutId=setTimeout(function(){t.ws.send(t.opts.pingMsg),t.pongTimeoutId=setTimeout(function(){t.ws.close(),t.onreconnect()},t.opts.pongTimeout)},this.opts.pingTimeout))},this.heartReset=function(){clearTimeout(this.pongTimeoutId)},this.close=function(){i.Log.log("\u4e3b\u52a8\u65ad\u5f00 ws"),this.forbidReconnect=!0,this.heartReset(),this.ws.close()},this.opts={url:e,pingTimeout:n,pongTimeout:a,reconnectTimeout:c,pingMsg:p,repeatLimit:u},this.createWebSocket(),cc.game.off(cc.game.EVENT_SHOW),cc.game.off(cc.game.EVENT_HIDE)}return t.prototype.applocationShow=function(){var t=this;i.Log.log("game show"),this.isHide&&(this.isHide=!1,this.forbidReconnect=!1,-1!=this.forgroundCount&&clearTimeout(this.forgroundCount),this.forgroundCount=setTimeout(function(){t.createWebSocket()},500))},t.prototype.applocationHide=function(){i.Log.log("game hide"),this.isHide=!0,this.close()},t}();o.Websocket=n,cc._RF.pop()},{"../utils/Log":"Log"}],XcxSdk:[function(t,e,o){"use strict";cc._RF.push(e,"67eb4yZV0lJc5XohgONVb2u","XcxSdk");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(n,r){function a(t){try{c(i.next(t))}catch(e){r(e)}}function s(t){try{c(i.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,s)}c((i=i.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,i,n,r,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,i=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){a.label=r[1];break}if(6===r[0]&&a.label<n[1]){a.label=n[1],n=r;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(r);break}n[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(s){r=[6,s],i=0}finally{o=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../utils/Log"),c=t("../const/FrameEventConst"),l=t("../lib/base64"),p=t("../lib/crypto"),h=t("../manager/AudioMng"),u=t("../manager/EventMng"),d=function(t){function e(){var e=t.call(this)||this;e.wxRun=0,e.env={uploadImageUrl:"xxxx",AccessKeySecret:"xxxx",OSSAccessKeyId:"xxxx",timeout:8e4},wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),wx.onShareAppMessage(function(){return{title:"I`m Shark",imageUrl:"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep4iaauHk6qmCLM3ASY3ia0CKibSPF3FzFyc3IXR5yZA9uAFXVyGaDTqyX1LB6WpjrB4picu4K7lnXgGw/132",query:"uid=0"}}),wx.onShareTimeline(function(){return{title:"I`m Shark",imageUrl:"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep4iaauHk6qmCLM3ASY3ia0CKibSPF3FzFyc3IXR5yZA9uAFXVyGaDTqyX1LB6WpjrB4picu4K7lnXgGw/132",query:"uid=0"}}),wx.onShow(function(t){var o=t.query;s.Log.log("wx.onShow---\x3equery:",o),e.setQueryData(o)}),wx.onHide(function(){s.Log.log("wx.onHide")});var o=wx.getLaunchOptionsSync().query;return s.Log.log("wx.getLaunchOptionsSync---\x3equery:",o),e.setQueryData(o),e}return n(e,t),e.prototype.setQueryData=function(t){t.uid},e.prototype.shareAppMessage=function(){this.shareStartTime=Math.floor((new Date).getTime()/1e3),wx.shareAppMessage({title:"I`m Shark",imageUrl:"https://wx.qlogo.cn/mmopen/vi_32/DYAIOgq83ep4iaauHk6qmCLM3ASY3ia0CKibSPF3FzFyc3IXR5yZA9uAFXVyGaDTqyX1LB6WpjrB4picu4K7lnXgGw/132",query:"uid=0"})},e.prototype.getWeRunData=function(){var t=this;wx.getWeRunData({success:function(e){return r(this,void 0,void 0,function(){var o,i,n;return a(this,function(r){switch(r.label){case 0:return s.Log.log("getWeRunData",e),o=e.encryptedData,i={encryptData:o,iv:e.iv,encryptedData:t.replacenormalcharacter(o)},[4,t.getEncryptedData(i)];case 1:return n=r.sent(),t.wxRun=n[n.length-1].step,[2]}})})},fail:function(e){s.Log.log("res===get==fail======",e),t.wxRun=0}})},e.prototype.previewImage=function(t){wx.previewImage({current:t,urls:[t]})},e.prototype.navigateToMiniProgram=function(t){wx.navigateToMiniProgram({appId:t,success:function(){s.Log.log("\u8df3\u8f6c\u5c0f\u7a0b\u5e8f\u6210\u529f")}})},e.prototype.createVideo=function(t){h.AudioMng.getInstance().pauseAll();var e=wx.createVideo({x:0,y:0,src:t,autoplay:!0,initialTime:0,width:wx.getSystemInfoSync().windowWidth,height:wx.getSystemInfoSync().windowHeight,controls:!1,showProgress:!1,showProgressInControlMode:!1});e.onEnded(function(t){s.Log.log("=========end",t),u.default.emit(c.FrameEventConst.WX_VIDEO_FINISH),h.AudioMng.getInstance().resumeAll(),e.destroy()})},e.prototype.chooseImage=function(){var t=this;wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){var o=e.tempFilePaths;s.Log.log("tempFilePaths",o);for(var i=t.formatTime(new Date),n=0;n<e.tempFilePaths.length;n++)wx.showLoading({title:"\u4e0a\u4f20\u4e2d"+(n+1)+"/"+e.tempFilePaths.length,mask:!0}),t.uploadFile(e.tempFilePaths[n],"images/"+i+"/",function(t){s.Log.log("======\u4e0a\u4f20\u6210\u529f\u56fe\u7247\u5730\u5740\u4e3a\uff1a",t),u.default.emit(c.FrameEventConst.WX_UPLOAD_IMG_SUCCESS,t),wx.hideLoading()},function(t){s.Log.log("======\u4e0a\u4f20\u5931\u8d25======",t),wx.hideLoading()})}})},e.prototype.uploadFile=function(t,e,o,i){if(!t||t.length<1)wx.showModal({title:"\u56fe\u7247\u9519\u8bef",content:"\u8bf7\u91cd\u8bd5",showCancel:!1});else{s.Log.log("\u4e0a\u4f20\u56fe\u7247.....");var n=e+(new Date).getTime()+Math.floor(150*Math.random())+".png",r=this.env.uploadImageUrl,a=this.env.OSSAccessKeyId,c=this.getPolicyBase64(),l=this.getSignature(c);wx.uploadFile({url:r,filePath:t,name:"file",formData:{key:n,policy:c,OSSAccessKeyId:a,signature:l,success_action_status:"200"},success:function(t){200==t.statusCode?o(r+n):i(new Error("\u4e0a\u4f20\u9519\u8bef:"+JSON.stringify(t)))},fail:function(t){t.wxaddinfo=r,i(t)}})}},e.prototype.getPolicyBase64=function(){var t=new Date;t.setHours(t.getHours()+this.env.timeout);var e={expiration:t.toISOString(),conditions:[["content-length-range",0,5242880]]};return l.base64.encode(JSON.stringify(e))},e.prototype.getSignature=function(t){var e=this.env.AccessKeySecret,o=p.Cryptos.HMAC(t,e,{asBytes:!0});return p.Cryptos.util.bytesToBase64(o)},e.prototype.formatTime=function(t){var e=t.getFullYear(),o=t.getMonth()+1,i=t.getDate();return t.getHours(),t.getMinutes(),t.getSeconds(),[e,o,i].map(this.formatNumber).join("-")},e.prototype.formatNumber=function(t){return(t=t.toString())[1]?t:"0"+t},e.prototype.getEncryptedData=function(t){var e=this;return new Promise(function(o){e.sendHttpMsg("login/wxcheck",t,function(t){var e=t.data;o(e.data.res.stepInfoList)}.bind(e))})},e.prototype.replacenormalcharacter=function(t){return t.replace(/\=/g,"~").replace(/\//g,"_").replace(/\+/g,"-")},e}(t("../model/IDataModel").default);o.default=d,cc._RF.pop()},{"../../utils/Log":"Log","../const/FrameEventConst":"FrameEventConst","../lib/base64":"base64","../lib/crypto":"crypto","../manager/AudioMng":"AudioMng","../manager/EventMng":"EventMng","../model/IDataModel":"IDataModel"}],auto_choseRoomLayer:[function(t,e,o){"use strict";cc._RF.push(e,"58946XfbLZKxpiM751KchRO","auto_choseRoomLayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.choseRoomLayer=this.node,this.btn_close=this.choseRoomLayer.getChildByName("btn_close"),this.layout=this.choseRoomLayer.getChildByName("layout"),this.btn_1=this.layout.getChildByName("btn_1"),this.node_room1_type1=this.btn_1.getChildByName("node_room1_type1"),this.houzi1=this.node_room1_type1.getChildByName("houzi1"),this.lab_min1=this.node_room1_type1.getChildByName("lab_min1"),this.lab_max1=this.node_room1_type1.getChildByName("lab_max1"),this.node_room1_type2=this.btn_1.getChildByName("node_room1_type2"),this.font_1=this.node_room1_type2.getChildByName("font_1"),this.btn_2=this.layout.getChildByName("btn_2"),this.node_room2_type1=this.btn_2.getChildByName("node_room2_type1"),this.houzi2=this.node_room2_type1.getChildByName("houzi2"),this.lab_min2=this.node_room2_type1.getChildByName("lab_min2"),this.lab_max2=this.node_room2_type1.getChildByName("lab_max2"),this.node_room2_type2=this.btn_2.getChildByName("node_room2_type2"),this.font_2=this.node_room2_type2.getChildByName("font_2"),this.btn_3=this.layout.getChildByName("btn_3"),this.node_room3_type1=this.btn_3.getChildByName("node_room3_type1"),this.houzi3=this.node_room3_type1.getChildByName("houzi3"),this.lab_min3=this.node_room3_type1.getChildByName("lab_min3"),this.lab_max3=this.node_room3_type1.getChildByName("lab_max3"),this.node_room3_type2=this.btn_3.getChildByName("node_room3_type2"),this.font_3=this.node_room3_type2.getChildByName("font_3"),this.VM=this.choseRoomLayer.getChildByName("VM"),this.font_title=this.choseRoomLayer.getChildByName("font_title")},e.URL="db://assets/resources/prefab/choseRoomLayer.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_comDialog:[function(t,e,o){"use strict";cc._RF.push(e,"8449fru6hxMdKwUnP3UN6sJ","auto_comDialog");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.confirmDialog=this.node,this.model=this.confirmDialog.getChildByName("model"),this.background=this.confirmDialog.getChildByName("background"),this.lbl_title=this.background.getChildByName("lbl_title"),this.lbl_content=this.background.getChildByName("lbl_content"),this.btn_close=this.background.getChildByName("btn_close"),this.Background_close=this.btn_close.getChildByName("Background_close"),this.Label_close=this.Background_close.getChildByName("Label_close"),this.layout_btn=this.background.getChildByName("layout_btn"),this.btn_cancel=this.layout_btn.getChildByName("btn_cancel"),this.Background_cancel=this.btn_cancel.getChildByName("Background_cancel"),this.Label_cancel=this.Background_cancel.getChildByName("Label_cancel"),this.btn_certain=this.layout_btn.getChildByName("btn_certain"),this.Background_certain=this.btn_certain.getChildByName("Background_certain"),this.Label_certain=this.Background_certain.getChildByName("Label_certain")},e.URL="db://assets/resources/prefab/comPop/comDialog.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_comSharePop:[function(t,e,o){"use strict";cc._RF.push(e,"dfb59rYtc9CDKR8wrnEufVn","auto_comSharePop");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.comSharePop=this.node,this.camera=this.comSharePop.getChildByName("camera"),this.btn_haoyou=this.comSharePop.getChildByName("btn_haoyou"),this.Background_haoyou=this.btn_haoyou.getChildByName("Background_haoyou"),this.Label_haoyou=this.Background_haoyou.getChildByName("Label_haoyou"),this.btn_pengyouquan=this.comSharePop.getChildByName("btn_pengyouquan"),this.Background_pengyouquan=this.btn_pengyouquan.getChildByName("Background_pengyouquan"),this.Label_pengyouquan=this.Background_pengyouquan.getChildByName("Label_pengyouquan"),this.mask=this.comSharePop.getChildByName("mask"),this.img_helloWorld=this.mask.getChildByName("img_helloWorld"),this.com_qrcode=this.comSharePop.getChildByName("com_qrcode"),this.btn_close=this.comSharePop.getChildByName("btn_close")},e.URL="db://assets/resources/prefab/comPop/comSharePop.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_comTipsItem:[function(t,e,o){"use strict";cc._RF.push(e,"54bacqjbEFIAboSNKnA3h7R","auto_comTipsItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.comTipsItem=this.node,this.TipsBg=this.comTipsItem.getChildByName("TipsBg"),this.lab_des=this.TipsBg.getChildByName("lab_des")},e.URL="db://assets/resources/prefab/comPop/comTipsItem.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_comTips:[function(t,e,o){"use strict";cc._RF.push(e,"c4274nuSNFBN69tJemVtZ9+","auto_comTips");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.comTips=this.node},e.URL="db://assets/resources/prefab/comPop/comTips.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_gameLayer:[function(t,e,o){"use strict";cc._RF.push(e,"e1384Pz2gFDEpccFPbvbA1N","auto_gameLayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.gameLayer=this.node,this.bg=this.gameLayer.getChildByName("bg"),this.outGame=this.gameLayer.getChildByName("outGame"),this.node_room=this.bg.getChildByName("node_room"),this.room0=this.node_room.getChildByName("room0"),this.room1=this.node_room.getChildByName("room1"),this.room2=this.node_room.getChildByName("room2"),this.room3=this.node_room.getChildByName("room3"),this.room4=this.node_room.getChildByName("room4"),this.room5=this.node_room.getChildByName("room5"),this.room6=this.node_room.getChildByName("room6"),this.room7=this.node_room.getChildByName("room7"),this.room8=this.node_room.getChildByName("room8"),this.room100=this.node_room.getChildByName("room100"),this.room200=this.node_room.getChildByName("room200"),this.room300=this.node_room.getChildByName("room300"),this.room400=this.node_room.getChildByName("room400"),this.room500=this.node_room.getChildByName("room500"),this.room600=this.node_room.getChildByName("room600"),this.room700=this.node_room.getChildByName("room700"),this.room800=this.node_room.getChildByName("room800"),this.node_pos=this.bg.getChildByName("node_pos"),this.pos1=this.node_pos.getChildByName("pos1"),this.font_pos_1=this.pos1.getChildByName("font_pos_1"),this.pos2=this.node_pos.getChildByName("pos2"),this.font_pos_2=this.pos2.getChildByName("font_pos_2"),this.pos3=this.node_pos.getChildByName("pos3"),this.font_pos_3=this.pos3.getChildByName("font_pos_3"),this.pos4=this.node_pos.getChildByName("pos4"),this.font_pos_4=this.pos4.getChildByName("font_pos_4"),this.pos5=this.node_pos.getChildByName("pos5"),this.font_pos_5=this.pos5.getChildByName("font_pos_5"),this.pos6=this.node_pos.getChildByName("pos6"),this.font_pos_6=this.pos6.getChildByName("font_pos_6"),this.pos7=this.node_pos.getChildByName("pos7"),this.font_pos_7=this.pos7.getChildByName("font_pos_7"),this.pos9=this.node_pos.getChildByName("pos9"),this.font_pos_9=this.pos9.getChildByName("font_pos_9"),this.pos10=this.node_pos.getChildByName("pos10"),this.font_pos_10=this.pos10.getChildByName("font_pos_10"),this.pos11=this.node_pos.getChildByName("pos11"),this.font_pos_11=this.pos11.getChildByName("font_pos_11"),this.pos12=this.node_pos.getChildByName("pos12"),this.font_pos_12=this.pos12.getChildByName("font_pos_12"),this.pos1111=this.node_pos.getChildByName("pos1111"),this.pos2222=this.node_pos.getChildByName("pos2222"),this.pos3333=this.node_pos.getChildByName("pos3333"),this.pos4444=this.node_pos.getChildByName("pos4444"),this.pos5555=this.node_pos.getChildByName("pos5555"),this.pos6666=this.node_pos.getChildByName("pos6666"),this.pos7777=this.node_pos.getChildByName("pos7777"),this.pos8888=this.node_pos.getChildByName("pos8888"),this.kill_1=this.node_pos.getChildByName("kill_1"),this.kill_2=this.node_pos.getChildByName("kill_2"),this.kill_3=this.node_pos.getChildByName("kill_3"),this.kill_4=this.node_pos.getChildByName("kill_4"),this.kill_5=this.node_pos.getChildByName("kill_5"),this.kill_6=this.node_pos.getChildByName("kill_6"),this.kill_7=this.node_pos.getChildByName("kill_7"),this.kill_8=this.node_pos.getChildByName("kill_8"),this.node_player=this.bg.getChildByName("node_player"),this.node_player_name=this.bg.getChildByName("node_player_name"),this.node_player_my=this.bg.getChildByName("node_player_my"),this.node_player_name_my=this.bg.getChildByName("node_player_name_my"),this.btn_chose_room=this.bg.getChildByName("btn_chose_room"),this.bt_1=this.btn_chose_room.getChildByName("bt_1"),this.bt_2=this.btn_chose_room.getChildByName("bt_2"),this.bt_3=this.btn_chose_room.getChildByName("bt_3"),this.btn_chose_room_block=this.btn_chose_room.getChildByName("btn_chose_room_block"),this.node_doors=this.bg.getChildByName("node_doors"),this.men1=this.node_doors.getChildByName("men1"),this.men2=this.node_doors.getChildByName("men2"),this.men3=this.node_doors.getChildByName("men3"),this.men4=this.node_doors.getChildByName("men4"),this.men5=this.node_doors.getChildByName("men5"),this.men6=this.node_doors.getChildByName("men6"),this.men7=this.node_doors.getChildByName("men7"),this.men8=this.node_doors.getChildByName("men8"),this.men9=this.node_doors.getChildByName("men9"),this.killer=this.bg.getChildByName("killer"),this.sp_killer=this.killer.getChildByName("sp_killer"),this.label_2=this.killer.getChildByName("label_2"),this.font_1=this.label_2.getChildByName("font_1"),this.node_btns=this.bg.getChildByName("node_btns"),this.btn_room1=this.node_btns.getChildByName("btn_room1"),this.btn_room2=this.node_btns.getChildByName("btn_room2"),this.btn_room3=this.node_btns.getChildByName("btn_room3"),this.btn_room4=this.node_btns.getChildByName("btn_room4"),this.btn_room5=this.node_btns.getChildByName("btn_room5"),this.btn_room6=this.node_btns.getChildByName("btn_room6"),this.btn_room7=this.node_btns.getChildByName("btn_room7"),this.btn_room8=this.node_btns.getChildByName("btn_room8"),this.VM_guang=this.node_btns.getChildByName("VM_guang"),this.room_0=this.VM_guang.getChildByName("room_0"),this.room_1=this.VM_guang.getChildByName("room_1"),this.room_2=this.VM_guang.getChildByName("room_2"),this.room_3=this.VM_guang.getChildByName("room_3"),this.room_4=this.VM_guang.getChildByName("room_4"),this.room_5=this.VM_guang.getChildByName("room_5"),this.room_6=this.VM_guang.getChildByName("room_6"),this.room_7=this.VM_guang.getChildByName("room_7"),this.room_8=this.VM_guang.getChildByName("room_8"),this.btn_rooms_block=this.node_btns.getChildByName("btn_rooms_block"),this.node_room_names=this.bg.getChildByName("node_room_names"),this.img_room_name1=this.node_room_names.getChildByName("img_room_name1"),this.img_room_name2=this.node_room_names.getChildByName("img_room_name2"),this.img_room_name3=this.node_room_names.getChildByName("img_room_name3"),this.img_room_name4=this.node_room_names.getChildByName("img_room_name4"),this.img_room_name5=this.node_room_names.getChildByName("img_room_name5"),this.img_room_name6=this.node_room_names.getChildByName("img_room_name6"),this.img_room_name7=this.node_room_names.getChildByName("img_room_name7"),this.img_room_name8=this.node_room_names.getChildByName("img_room_name8"),this.icon_coin1=this.node_room_names.getChildByName("icon_coin1"),this.icon_coin2=this.icon_coin1.getChildByName("icon_coin2"),this.icon_coin3=this.icon_coin1.getChildByName("icon_coin3"),this.lab_num=this.icon_coin1.getChildByName("lab_num"),this.VM=this.icon_coin1.getChildByName("VM"),this.icon_coin4=this.node_room_names.getChildByName("icon_coin4"),this.icon_coin5=this.node_room_names.getChildByName("icon_coin5"),this.icon_coin6=this.node_room_names.getChildByName("icon_coin6"),this.icon_coin7=this.node_room_names.getChildByName("icon_coin7"),this.icon_coin8=this.node_room_names.getChildByName("icon_coin8"),this.btn_trxz=this.bg.getChildByName("btn_trxz"),this.btn_chose_betting_num=this.btn_trxz.getChildByName("btn_chose_betting_num"),this.btn_betting=this.btn_trxz.getChildByName("btn_betting"),this.btn_black=this.btn_trxz.getChildByName("btn_black"),this.img_cat=this.btn_trxz.getChildByName("img_cat"),this.layout_betting_num=this.btn_trxz.getChildByName("layout_betting_num"),this.icon_coin=this.layout_betting_num.getChildByName("icon_coin"),this.head_more=this.layout_betting_num.getChildByName("head_more"),this.img_shangqi=this.btn_trxz.getChildByName("img_shangqi"),this.lab_shangqi=this.img_shangqi.getChildByName("lab_shangqi"),this.node_chose_coin=this.btn_trxz.getChildByName("node_chose_coin"),this.toggleGroup=this.node_chose_coin.getChildByName("toggleGroup"),this.toggle1=this.toggleGroup.getChildByName("toggle1"),this.Background=this.toggle1.getChildByName("Background"),this.checkmark=this.toggle1.getChildByName("checkmark"),this.icon_coin11=this.toggle1.getChildByName("icon_coin11"),this.toggle2=this.toggleGroup.getChildByName("toggle2"),this.icon_coin12=this.toggle2.getChildByName("icon_coin12"),this.toggle3=this.toggleGroup.getChildByName("toggle3"),this.icon_coin13=this.toggle3.getChildByName("icon_coin13"),this.node_labs=this.bg.getChildByName("node_labs"),this.lab_betting_name=this.node_labs.getChildByName("lab_betting_name"),this.btn_rank=this.bg.getChildByName("btn_rank"),this.btn_jilu=this.bg.getChildByName("btn_jilu"),this.node_stage=this.bg.getChildByName("node_stage"),this.stage_1=this.node_stage.getChildByName("stage_1"),this.img_djs1=this.stage_1.getChildByName("img_djs1"),this.layout_1=this.img_djs1.getChildByName("layout_1"),this.lab_cur_player_num=this.layout_1.getChildByName("lab_cur_player_num"),this.lab_max_player_num=this.layout_1.getChildByName("lab_max_player_num"),this.lab_qi=this.img_djs1.getChildByName("lab_qi"),this.stage_2=this.node_stage.getChildByName("stage_2"),this.img_djs2=this.stage_2.getChildByName("img_djs2"),this.lab_last_time=this.img_djs2.getChildByName("lab_last_time"),this.font_chuxian=this.img_djs2.getChildByName("font_chuxian"),this.VM_btns=this.bg.getChildByName("VM_btns")},e.URL="db://assets/resources/prefab/gameLayer.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_game:[function(t,e,o){"use strict";cc._RF.push(e,"43cb8Y6M7NOm6TfXyfeHwWP","auto_game");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){var t=this.node.getParent();this.Canvas=t.getChildByName("Canvas"),this.ScrollView=this.Canvas.getChildByName("ScrollView"),this.view=this.ScrollView.getChildByName("view"),this.content=this.view.getChildByName("content"),this.gameLayer=this.content.getChildByName("gameLayer"),this.VMTimer=this.Canvas.getChildByName("VMTimer"),this.node_stage=this.Canvas.getChildByName("node_stage"),this.stage_3=this.node_stage.getChildByName("stage_3"),this.model_stage_3=this.stage_3.getChildByName("model_stage_3"),this.img_djs3=this.stage_3.getChildByName("img_djs3"),this.stage_4=this.node_stage.getChildByName("stage_4"),this.stage_5=this.node_stage.getChildByName("stage_5"),this.mode_stage_5=this.stage_5.getChildByName("mode_stage_5"),this.VM_result=this.stage_5.getChildByName("VM_result"),this.tc_over_0=this.VM_result.getChildByName("tc_over_0"),this.tc_over_1=this.VM_result.getChildByName("tc_over_1"),this.tc_over_layout_1=this.tc_over_1.getChildByName("tc_over_layout_1"),this.font_shadiao=this.tc_over_layout_1.getChildByName("font_shadiao"),this.lab_kill_room_name=this.tc_over_layout_1.getChildByName("lab_kill_room_name"),this.font_suoyouren=this.tc_over_layout_1.getChildByName("font_suoyouren"),this.font_duobishibai=this.tc_over_1.getChildByName("font_duobishibai"),this.tc_over_2=this.VM_result.getChildByName("tc_over_2"),this.tc_over_layout_2=this.tc_over_2.getChildByName("tc_over_layout_2"),this.lab_guafen_coin=this.tc_over_2.getChildByName("lab_guafen_coin"),this.guafen_coin=this.tc_over_2.getChildByName("guafen_coin"),this.icon_coin1=this.guafen_coin.getChildByName("icon_coin1"),this.icon_coin2=this.guafen_coin.getChildByName("icon_coin2"),this.icon_coin3=this.guafen_coin.getChildByName("icon_coin3"),this.lab_num=this.guafen_coin.getChildByName("lab_num"),this.VM=this.guafen_coin.getChildByName("VM"),this.tc_over_3=this.VM_result.getChildByName("tc_over_3"),this.pop_win1=this.tc_over_3.getChildByName("pop_win1"),this.pop_win2=this.tc_over_3.getChildByName("pop_win2"),this.pop_win3=this.tc_over_3.getChildByName("pop_win3"),this.lab_weiguafen=this.tc_over_3.getChildByName("lab_weiguafen"),this.VM_over_3=this.tc_over_3.getChildByName("VM_over_3"),this.tc_over_4=this.VM_result.getChildByName("tc_over_4"),this.pop_win4_1=this.tc_over_4.getChildByName("pop_win4_1"),this.pop_win4_2=this.tc_over_4.getChildByName("pop_win4_2"),this.pop_win4_3=this.tc_over_4.getChildByName("pop_win4_3"),this.lab_touru=this.tc_over_4.getChildByName("lab_touru"),this.lab_touru_num=this.tc_over_4.getChildByName("lab_touru_num"),this.coin_1_1=this.tc_over_4.getChildByName("coin_1_1"),this.coin_1_2=this.tc_over_4.getChildByName("coin_1_2"),this.coin_1_3=this.tc_over_4.getChildByName("coin_1_3"),this.lab_huode=this.tc_over_4.getChildByName("lab_huode"),this.lab_huode_num=this.tc_over_4.getChildByName("lab_huode_num"),this.coin_2_1=this.tc_over_4.getChildByName("coin_2_1"),this.coin_2_2=this.tc_over_4.getChildByName("coin_2_2"),this.coin_2_3=this.tc_over_4.getChildByName("coin_2_3"),this.VM_coin=this.tc_over_4.getChildByName("VM_coin")},e.URL="db://assets/scene/game.fire",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_jiluItem1:[function(t,e,o){"use strict";cc._RF.push(e,"edeeeB+3ZhFOZeD4YCnJnFe","auto_jiluItem1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.jiluItem1=this.node,this.bg=this.jiluItem1.getChildByName("bg"),this.room_name_1=this.bg.getChildByName("room_name_1"),this.room_name_2=this.bg.getChildByName("room_name_2"),this.room_name_3=this.bg.getChildByName("room_name_3"),this.room_name_4=this.bg.getChildByName("room_name_4"),this.room_name_5=this.bg.getChildByName("room_name_5"),this.room_name_6=this.bg.getChildByName("room_name_6"),this.room_name_7=this.bg.getChildByName("room_name_7"),this.room_name_8=this.bg.getChildByName("room_name_8"),this.gui_1=this.bg.getChildByName("gui_1"),this.gui_2=this.bg.getChildByName("gui_2"),this.gui_3=this.bg.getChildByName("gui_3"),this.gui_4=this.bg.getChildByName("gui_4"),this.gui_5=this.bg.getChildByName("gui_5"),this.gui_6=this.bg.getChildByName("gui_6"),this.gui_7=this.bg.getChildByName("gui_7"),this.gui_8=this.bg.getChildByName("gui_8"),this.node_labs=this.jiluItem1.getChildByName("node_labs"),this.lab_name_num_1=this.node_labs.getChildByName("lab_name_num_1"),this.lab_name_num_2=this.node_labs.getChildByName("lab_name_num_2"),this.lab_name_num_3=this.node_labs.getChildByName("lab_name_num_3"),this.lab_name_num_4=this.node_labs.getChildByName("lab_name_num_4"),this.lab_name_num_5=this.node_labs.getChildByName("lab_name_num_5"),this.lab_name_num_6=this.node_labs.getChildByName("lab_name_num_6"),this.lab_name_num_7=this.node_labs.getChildByName("lab_name_num_7"),this.lab_name_num_8=this.node_labs.getChildByName("lab_name_num_8"),this.biaoti1=this.jiluItem1.getChildByName("biaoti1")},e.URL="db://assets/resources/prefab/jiluItem1.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_jiluItem2:[function(t,e,o){"use strict";cc._RF.push(e,"cb3c01mOapHjrJ7p01yxTmw","auto_jiluItem2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.jiluItem2=this.node,this.bg=this.jiluItem2.getChildByName("bg"),this.room_name_1=this.bg.getChildByName("room_name_1"),this.room_name_2=this.bg.getChildByName("room_name_2"),this.room_name_3=this.bg.getChildByName("room_name_3"),this.room_name_4=this.bg.getChildByName("room_name_4"),this.room_name_5=this.bg.getChildByName("room_name_5"),this.room_name_6=this.bg.getChildByName("room_name_6"),this.room_name_7=this.bg.getChildByName("room_name_7"),this.room_name_8=this.bg.getChildByName("room_name_8"),this.room_name_9=this.bg.getChildByName("room_name_9"),this.room_name_10=this.bg.getChildByName("room_name_10"),this.node_labs=this.jiluItem2.getChildByName("node_labs"),this.lab_qi_1=this.node_labs.getChildByName("lab_qi_1"),this.lab_qi_2=this.node_labs.getChildByName("lab_qi_2"),this.lab_qi_3=this.node_labs.getChildByName("lab_qi_3"),this.lab_qi_4=this.node_labs.getChildByName("lab_qi_4"),this.lab_qi_5=this.node_labs.getChildByName("lab_qi_5"),this.lab_qi_6=this.node_labs.getChildByName("lab_qi_6"),this.lab_qi_7=this.node_labs.getChildByName("lab_qi_7"),this.lab_qi_8=this.node_labs.getChildByName("lab_qi_8"),this.lab_qi_9=this.node_labs.getChildByName("lab_qi_9"),this.lab_qi_10=this.node_labs.getChildByName("lab_qi_10"),this.biaoti1=this.jiluItem2.getChildByName("biaoti1")},e.URL="db://assets/resources/prefab/jiluItem2.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_jiluItem3:[function(t,e,o){"use strict";cc._RF.push(e,"a2c68jq+BBPaZB6dpOY8srR","auto_jiluItem3");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.jiluItem3=this.node,this.bg=this.jiluItem3.getChildByName("bg"),this.font_1=this.bg.getChildByName("font_1"),this.font_2=this.bg.getChildByName("font_2"),this.font_3=this.bg.getChildByName("font_3"),this.layout_1=this.bg.getChildByName("layout_1"),this.coin_1_1=this.layout_1.getChildByName("coin_1_1"),this.coin_1_2=this.layout_1.getChildByName("coin_1_2"),this.coin_1_3=this.layout_1.getChildByName("coin_1_3"),this.lab_touru_num=this.layout_1.getChildByName("lab_touru_num"),this.layout_2=this.bg.getChildByName("layout_2"),this.coin_2_1=this.layout_2.getChildByName("coin_2_1"),this.coin_2_2=this.layout_2.getChildByName("coin_2_2"),this.coin_2_3=this.layout_2.getChildByName("coin_2_3"),this.lab_huode_num=this.layout_2.getChildByName("lab_huode_num")},e.URL="db://assets/resources/prefab/jiluItem3.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_jiluItem4:[function(t,e,o){"use strict";cc._RF.push(e,"4bcdbOasPZEj5xvZIfOjVeh","auto_jiluItem4");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.jiluItem4=this.node,this.bg=this.jiluItem4.getChildByName("bg"),this.fengexian1=this.bg.getChildByName("fengexian1"),this.font_1=this.bg.getChildByName("font_1"),this.font_2=this.bg.getChildByName("font_2"),this.lab_qi=this.bg.getChildByName("lab_qi"),this.lab_touru_name=this.bg.getChildByName("lab_touru_name"),this.lab_huode_name=this.bg.getChildByName("lab_huode_name"),this.lab_choose_room=this.bg.getChildByName("lab_choose_room"),this.lba_kill_room=this.bg.getChildByName("lba_kill_room"),this.lab_touru_num=this.bg.getChildByName("lab_touru_num"),this.lab_huode_num=this.bg.getChildByName("lab_huode_num"),this.lab_win=this.bg.getChildByName("lab_win"),this.lab_lose=this.bg.getChildByName("lab_lose")},e.URL="db://assets/resources/prefab/jiluItem4.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_jiluItem5:[function(t,e,o){"use strict";cc._RF.push(e,"b67f48O01ZCk7Uo4zGuBZwZ","auto_jiluItem5");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.jiluItem5=this.node,this.font_1=this.jiluItem5.getChildByName("font_1")},e.URL="db://assets/resources/prefab/jiluItem5.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_jiluLayer:[function(t,e,o){"use strict";cc._RF.push(e,"ff2e1XwwT5N+Zspp+ZP2d2v","auto_jiluLayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.jiluLayer=this.node,this.model=this.jiluLayer.getChildByName("model"),this.scrollView=this.jiluLayer.getChildByName("scrollView"),this.view=this.scrollView.getChildByName("view"),this.content=this.view.getChildByName("content"),this.header=this.view.getChildByName("header"),this.Node_1=this.header.getChildByName("Node_1"),this.loading=this.Node_1.getChildByName("loading"),this.btn_back=this.jiluLayer.getChildByName("btn_back"),this.spr_back=this.btn_back.getChildByName("spr_back")},e.URL="db://assets/resources/prefab/jiluLayer.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_killer:[function(t,e,o){"use strict";cc._RF.push(e,"4a206VTyP5NQ52Olj8A8yma","auto_killer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.killer=this.node,this.sp_killer=this.killer.getChildByName("sp_killer")},e.URL="db://assets/resources/prefab/killer.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_playerName:[function(t,e,o){"use strict";cc._RF.push(e,"a2e55x8IrFONpOi6irOVW1/","auto_playerName");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.playerName=this.node,this.label_name_bg=this.playerName.getChildByName("label_name_bg"),this.lan_name1=this.label_name_bg.getChildByName("lan_name1"),this.lan_name=this.playerName.getChildByName("lan_name")},e.URL="db://assets/resources/prefab/playerName.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_player:[function(t,e,o){"use strict";cc._RF.push(e,"73567+7e5tGdIQRdLLolBBg","auto_player");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.player=this.node,this.img_cat=this.player.getChildByName("img_cat"),this.img_bubble=this.player.getChildByName("img_bubble"),this.coin_1=this.img_bubble.getChildByName("coin_1"),this.coin_2=this.img_bubble.getChildByName("coin_2"),this.coin_3=this.img_bubble.getChildByName("coin_3"),this.lab_coin=this.img_bubble.getChildByName("lab_coin"),this.VM=this.player.getChildByName("VM")},e.URL="db://assets/resources/prefab/player.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_rankLayer:[function(t,e,o){"use strict";cc._RF.push(e,"746d36kpoZJz5avvZ/Nm+vI","auto_rankLayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.rankLayer=this.node,this.model=this.rankLayer.getChildByName("model"),this.scrollView=this.rankLayer.getChildByName("scrollView"),this.view=this.scrollView.getChildByName("view"),this.content=this.view.getChildByName("content"),this.dingbubiaoti=this.content.getChildByName("dingbubiaoti"),this.paihangbai1=this.content.getChildByName("paihangbai1"),this.paihangbai2=this.content.getChildByName("paihangbai2"),this.paihangbai3=this.content.getChildByName("paihangbai3"),this.paihang1=this.content.getChildByName("paihang1"),this.paihang2=this.content.getChildByName("paihang2"),this.paihang3=this.content.getChildByName("paihang3"),this.lab_max_mianshang=this.content.getChildByName("lab_max_mianshang"),this.lab_mianshang_1=this.content.getChildByName("lab_mianshang_1"),this.lab_mianshang_2=this.content.getChildByName("lab_mianshang_2"),this.lab_mianshang_3=this.content.getChildByName("lab_mianshang_3"),this.lab_bang_1=this.content.getChildByName("lab_bang_1"),this.lab_bang_2=this.content.getChildByName("lab_bang_2"),this.lab_bang_3=this.content.getChildByName("lab_bang_3"),this.lab_coin_name=this.content.getChildByName("lab_coin_name"),this.font_paiming=this.content.getChildByName("font_paiming"),this.font_buchomg=this.content.getChildByName("font_buchomg"),this.font_des=this.content.getChildByName("font_des"),this.btn_back=this.rankLayer.getChildByName("btn_back"),this.spr_back=this.btn_back.getChildByName("spr_back"),this.bg_bottom=this.rankLayer.getChildByName("bg_bottom"),this.touxiangshiyi=this.bg_bottom.getChildByName("touxiangshiyi"),this.icon_coin=this.bg_bottom.getChildByName("icon_coin"),this.font_2=this.bg_bottom.getChildByName("font_2"),this.lab_my_name=this.bg_bottom.getChildByName("lab_my_name"),this.lab_my_coin=this.bg_bottom.getChildByName("lab_my_coin")},e.URL="db://assets/resources/prefab/rankLayer.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],auto_weihuLayer:[function(t,e,o){"use strict";cc._RF.push(e,"98f8aDL6VBFrppfMCZeHc/8","auto_weihuLayer");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator.ccclass,s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.weihuLayer=this.node,this.model=this.weihuLayer.getChildByName("model"),this.font_title=this.weihuLayer.getChildByName("font_title")},e.URL="db://assets/resources/prefab/weihuLayer.prefab",r([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],base64:[function(t,e,o){"use strict";cc._RF.push(e,"447cbA/D4hF3pCzaG685h+K","base64");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.base64=void 0;var n=cc._decorator,r=n.ccclass,a=(n.property,function(){function t(){}return t.encode=function(t){var e,o,i,n,r,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=t.length,o=0,e="";o<i;){if(n=255&t.charCodeAt(o++),o==i){e+=s.charAt(n>>2),e+=s.charAt((3&n)<<4),e+="==";break}if(r=t.charCodeAt(o++),o==i){e+=s.charAt(n>>2),e+=s.charAt((3&n)<<4|(240&r)>>4),e+=s.charAt((15&r)<<2),e+="=";break}a=t.charCodeAt(o++),e+=s.charAt(n>>2),e+=s.charAt((3&n)<<4|(240&r)>>4),e+=s.charAt((15&r)<<2|(192&a)>>6),e+=s.charAt(63&a)}return e},t.decode=function(t){var e,o,i,n,r,a,s,c=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1);for(a=t.length,r=0,s="";r<a;){do{e=c[255&t.charCodeAt(r++)]}while(r<a&&-1==e);if(-1==e)break;do{o=c[255&t.charCodeAt(r++)]}while(r<a&&-1==o);if(-1==o)break;s+=String.fromCharCode(e<<2|(48&o)>>4);do{if(61==(i=255&t.charCodeAt(r++)))return s;i=c[i]}while(r<a&&-1==i);if(-1==i)break;s+=String.fromCharCode((15&o)<<4|(60&i)>>2);do{if(61==(n=255&t.charCodeAt(r++)))return s;n=c[n]}while(r<a&&-1==n);if(-1==n)break;s+=String.fromCharCode((3&i)<<6|n)}return s},t.utf16to8=function(t){var e,o,i,n;for(e="",i=t.length,o=0;o<i;o++)(n=t.charCodeAt(o))>=1&&n<=127?e+=t.charAt(o):n>2047?(e+=String.fromCharCode(224|n>>12&15),e+=String.fromCharCode(128|n>>6&63),e+=String.fromCharCode(128|n>>0&63)):(e+=String.fromCharCode(192|n>>6&31),e+=String.fromCharCode(128|n>>0&63));return e},t.utf8to16=function(t){var e,o,i,n,r,a;for(e="",i=t.length,o=0;o<i;)switch((n=t.charCodeAt(o++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=t.charAt(o-1);break;case 12:case 13:r=t.charCodeAt(o++),e+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=t.charCodeAt(o++),a=t.charCodeAt(o++),e+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&a)<<0)}return e},i([r],t)}());o.base64=a,cc._RF.pop()},{}],crypto:[function(t,e,o){"use strict";cc._RF.push(e,"fc023iUrXNPN55I7305Ul55","crypto");var i=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Cryptos=void 0;var n=cc._decorator,r=n.ccclass,a=(n.property,function(){function t(){}var e;return e=t,t.base64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.util={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&this.util.rotl(t,8)|4278255360&this.util.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=this.util.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},stringToBytes:function(t){for(var e=[],o=0;o<t.length;o++)e.push(t.charCodeAt(o));return e},bytesToString:function(t){for(var e=[],o=0;o<t.length;o++)e.push(String.fromCharCode(t[o]));return e.join("")},stringToWords:function(t){for(var e=[],o=0,i=0;o<t.length;o++,i+=8)e[i>>>5]|=t.charCodeAt(o)<<24-i%32;return e},bytesToWords:function(t){for(var e=[],o=0,i=0;o<t.length;o++,i+=8)e[i>>>5]|=t[o]<<24-i%32;return e},wordsToBytes:function(t){for(var e=[],o=0;o<32*t.length;o+=8)e.push(t[o>>>5]>>>24-o%32&255);return e},bytesToHex:function(t){for(var e=[],o=0;o<t.length;o++)e.push((t[o]>>>4).toString(16)),e.push((15&t[o]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],o=0;o<t.length;o+=2)e.push(parseInt(t.substr(o,2),16));return e},bytesToBase64:function(t){if("function"==typeof btoa)return btoa(this.util.bytesToString(t));for(var o,i=[],n=0;n<t.length;n++)switch(n%3){case 0:i.push(e.base64map.charAt(t[n]>>>2)),o=(3&t[n])<<4;break;case 1:i.push(e.base64map.charAt(o|t[n]>>>4)),o=(15&t[n])<<2;break;case 2:i.push(e.base64map.charAt(o|t[n]>>>6)),i.push(e.base64map.charAt(63&t[n])),o=-1}for(null!=o&&-1!=o&&i.push(e.base64map.charAt(o));i.length%4!=0;)i.push("=");return i.join("")},base64ToBytes:function(t){if("function"==typeof atob)return this.util.stringToBytes(atob(t));t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var o=[],i=0;i<t.length;i++)switch(i%4){case 1:o.push(e.base64map.indexOf(t.charAt(i-1))<<2|e.base64map.indexOf(t.charAt(i))>>>4);break;case 2:o.push((15&e.base64map.indexOf(t.charAt(i-1)))<<4|e.base64map.indexOf(t.charAt(i))>>>2);break;case 3:o.push((3&e.base64map.indexOf(t.charAt(i-1)))<<6|e.base64map.indexOf(t.charAt(i)))}return o}},t.HMAC=function(t,e,o){for(var i=e=e.length>4*this._blocksize?this.SHA1(e,{asBytes:!0}):this.util.stringToBytes(e),n=e.slice(0),r=0;r<4*this._blocksize;r++)i[r]^=92,n[r]^=54;var a=this.SHA1(this.util.bytesToString(i)+this.SHA1(this.util.bytesToString(n)+t,{asString:!0}),{asBytes:!0});return o&&o.asBytes?a:o&&o.asString?this.util.bytesToString(a):this.util.bytesToHex(a)},t.SHA1=function(t,e){var o=this.util.wordsToBytes(this._sha1(t));return e&&e.asBytes?o:e&&e.asString?this.util.bytesToString(o):this.util.bytesToHex(o)},t._sha1=function(t){var e=this.util.stringToWords(t),o=8*t.length,i=[],n=1732584193,r=-271733879,a=-1732584194,s=271733878,c=-1009589776;e[o>>5]|=128<<24-o%32,e[15+(o+64>>>9<<4)]=o;for(var l=0;l<e.length;l+=16){for(var p=n,h=r,u=a,d=s,f=c,_=0;_<80;_++){if(_<16)i[_]=e[l+_];else{var g=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=g<<1|g>>>31}var y=(n<<5|n>>>27)+c+(i[_]>>>0)+(_<20?1518500249+(r&a|~r&s):_<40?1859775393+(r^a^s):_<60?(r&a|r&s|a&s)-1894007588:(r^a^s)-899497514);c=s,s=a,a=r<<30|r>>>2,r=n,n=y}n+=p,r+=h,a+=u,s+=d,c+=f}return[n,r,a,s,c]},t._blocksize=16,e=i([r],t)}());o.Cryptos=a,cc._RF.pop()},{}],debug:[function(t,e,o){"use strict";cc._RF.push(e,"92b39aP2aNNuYlHGBT1mbnR","debug"),Object.defineProperty(o,"__esModule",{value:!0}),o.ADAPTER_DEBUG_CONTENT=o.ADAPTER_DEBUG_VIEW=o.DEBUG_DRAW_LIND_WIDTH=o.DEBUG_DRAW_BORDER_COLOR=o.DEBUG_DRAW_FILL_COLOR=o.DEBUG_DRAW_LINE_COLOR=void 0,o.DEBUG_DRAW_LINE_COLOR=new cc.Color(238,124,55,255),o.DEBUG_DRAW_FILL_COLOR=new cc.Color(88,175,64,50),o.DEBUG_DRAW_BORDER_COLOR=new cc.Color(56,120,94,255),o.DEBUG_DRAW_LIND_WIDTH=3,o.ADAPTER_DEBUG_VIEW=!1,o.ADAPTER_DEBUG_CONTENT=!1,cc._RF.pop()},{}],enum:[function(t,e,o){"use strict";var i,n,r,a,s,c,l,p,h,u;cc._RF.push(e,"58bb1LVDpNPZLkEJzL3gp3i","enum"),Object.defineProperty(o,"__esModule",{value:!0}),o.ViewEvent=o.HolderEvent=o.ReleaseState=o.Transition=o.IndicatorMode=o.AlwaysScroll=o.NestedDirection=o.ScrollbarDirection=o.ScrollDirection=o.ChildAlignment=o.MagneticDirection=o.TouchMode=o.WrapMode=o.Layer=o.StretchDirection=o.ArrangeAxis=o.MovementType=o.Orientation=void 0,function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal"}(i=o.Orientation||(o.Orientation={})),function(t){t[t.Unrestricted=0]="Unrestricted",t[t.Elastic=1]="Elastic",t[t.Clamped=2]="Clamped"}(n=o.MovementType||(o.MovementType={})),function(t){t[t.Start=0]="Start",t[t.End=1]="End"}(r=o.ArrangeAxis||(o.ArrangeAxis={})),function(t){t[t.Auto=0]="Auto",t[t.Header=1]="Header",t[t.Footer=2]="Footer",t[t.Center=3]="Center"}(a=o.StretchDirection||(o.StretchDirection={})),function(t){t[t.Lowest=0]="Lowest",t[t.Medium=1]="Medium",t[t.Highest=2]="Highest"}(o.Layer||(o.Layer={})),function(t){t[t.Auto=0]="Auto",t[t.Wrap=1]="Wrap",t[t.Nowrap=2]="Nowrap"}(o.WrapMode||(o.WrapMode={})),function(t){t[t.Auto=0]="Auto",t[t.AlwaysAllow=1]="AlwaysAllow",t[t.Disabled=2]="Disabled"}(s=o.TouchMode||(o.TouchMode={})),function(t){t[t.Header=0]="Header",t[t.Footer=1]="Footer"}(c=o.MagneticDirection||(o.MagneticDirection={})),function(t){t[t.UpperLeft=0]="UpperLeft",t[t.UpperCenter=1]="UpperCenter",t[t.UpperRight=2]="UpperRight",t[t.MiddleLeft=3]="MiddleLeft",t[t.MiddleCenter=4]="MiddleCenter",t[t.MiddleRight=5]="MiddleRight",t[t.LowerLeft=6]="LowerLeft",t[t.LowerCenter=7]="LowerCenter",t[t.LowerRight=8]="LowerRight"}(l=o.ChildAlignment||(o.ChildAlignment={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t[t.None=4]="None"}(o.ScrollDirection||(o.ScrollDirection={})),function(t){t[t.Top_To_Bottom=0]="Top_To_Bottom",t[t.Bottom_To_Top=1]="Bottom_To_Top",t[t.Left_To_Right=2]="Left_To_Right",t[t.Right_To_Left=3]="Right_To_Left"}(p=o.ScrollbarDirection||(o.ScrollbarDirection={})),function(t){t[t.Both=0]="Both",t[t.Header=1]="Header",t[t.Footer=2]="Footer"}(o.NestedDirection||(o.NestedDirection={})),function(t){t[t.Auto=0]="Auto",t[t.Header=1]="Header",t[t.Footer=2]="Footer"}(o.AlwaysScroll||(o.AlwaysScroll={})),function(t){t[t.Normal=0]="Normal",t[t.Button=1]="Button"}(h=o.IndicatorMode||(o.IndicatorMode={})),function(t){t[t.None=0]="None",t[t.ColorTint=1]="ColorTint",t[t.SpriteSwap=2]="SpriteSwap",t[t.Scale=3]="Scale"}(u=o.Transition||(o.Transition={})),function(t){t.IDLE="IDLE",t.PULL="PULL",t.WAIT="WAIT",t.RELEASE="RELEASE"}(o.ReleaseState||(o.ReleaseState={})),function(t){t.CREATED="ADAPTER:HOLDER:CREATED",t.VISIBLE="ADAPTER:HOLDER:VISIBLE",t.DISABLE="ADAPTER:HOLDER:DISABLE"}(o.HolderEvent||(o.HolderEvent={})),function(t){t.VISIBLE="ADAPTER:VIEW:VISIBLE",t.DISABLE="ADAPTER::VIEW:DISABLE"}(o.ViewEvent||(o.ViewEvent={})),cc.Enum(i),cc.Enum(n),cc.Enum(r),cc.Enum(a),cc.Enum(c),cc.Enum(p),cc.Enum(l),cc.Enum(s),cc.Enum(h),cc.Enum(u),cc._RF.pop()},{}],helper:[function(t,e,o){"use strict";cc._RF.push(e,"fa024bPdTVAg4B0i4Y3elK9","helper"),Object.defineProperty(o,"__esModule",{value:!0}),o.Helper=void 0;var i=function(){function t(){}return t.smoothStep=function(t,e,o){return e*(o=-2*(o=this.clamp01(o))*o*o+3*o*o)+t*(1-o)},t.smoothDamp=function(t,e,o,i,n,r){var a=2/(i=Math.max(1e-4,i)),s=a*r,c=1/(1+s+.48*s*s+.235*s*s*s),l=t-e,p=e,h=n*i,u=(o+a*(l=this.clamp(l,0-h,h)))*r;o=(o-a*u)*c;var d=(e=t-l)+(l+u)*c;return p-t>0==d>p&&(o=((d=p)-p)/r),{velocity:o,position:d}},t.clamp01=function(t){return this.clamp(t,0,1)},t.clamp=function(t,e,o){return void 0===e&&(e=0),void 0===o&&(o=1),Math.min(Math.max(t,e),o)},t.sign=function(t){return t>=0?1:-1},t.lerp=function(t,e,o){return t+(e-t)*this.clamp01(o)},t.approximately=function(t,e){return Math.abs(e-t)<Math.max(1e-4*Math.max(Math.abs(t),Math.abs(e)),8*this.Epsilon)},t.round=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},t.pingpang=function(t){var e=t;e=Math.abs(t);var o=Math.trunc(e);return o%2==0?e-=o:e=1-(e-o),e},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.progress=function(t,e,o,i){return t+(e-t)*i},t.sizeToVec=function(t){return t?{x:t.width,y:t.height}:{x:0,y:0}},t.Epsilon=1401298e-51,t.Infinity=1/0,t}();o.Helper=i,cc._RF.pop()},{}],i18nLabel:[function(t,e,o){"use strict";cc._RF.push(e,"41ebaVoPpRA4Kp67XEdHfZn","i18nLabel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.i18nLabel=void 0;var a=t("./i18nMgr"),s=cc._decorator,c=s.ccclass,l=s.property,p=s.executeInEditMode,h=s.disallowMultiple,u=s.menu,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.i18n_string="",e.i18n_params=[],e}return n(e,t),Object.defineProperty(e.prototype,"i18n_key",{get:function(){return this.i18n_string},set:function(t){this.i18n_string=t,this.setEndValue()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.i18n_params},set:function(t){this.i18n_params=t,this.setEndValue()},enumerable:!1,configurable:!0}),e.prototype.start=function(){a.i18nMgr._addOrDelLabel(this,!0),this._resetValue()},e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];0==this.params.length?this.i18n_string=String(t[0]):t.length>=1&&(this.i18n_params=t),this.setEndValue()},e.prototype.setEndValue=function(){this.i18n_string&&(this.string=a.i18nMgr._getLabel(this.i18n_string,this.i18n_params))},e.prototype._resetValue=function(){this.i18n_key=this.i18n_string},e.prototype.onDestroy=function(){a.i18nMgr._addOrDelLabel(this,!1)},r([l({type:cc.String})],e.prototype,"i18n_key",null),r([l({type:[cc.String]})],e.prototype,"params",null),r([l({visible:!1})],e.prototype,"i18n_string",void 0),r([l({visible:!1})],e.prototype,"i18n_params",void 0),r([c,p,h,u("\u591a\u8bed\u8a00/i18nLabel")],e)}(cc.Label);o.i18nLabel=d,cc._RF.pop()},{"./i18nMgr":"i18nMgr"}],i18nMgr:[function(t,e,o){"use strict";cc._RF.push(e,"1e36aJmHntDxqZis49hy52h","i18nMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.i18nMgr=void 0;var i=t("../../utils/Log"),n=function(){function t(){}return t.getlanguage=function(){return cc.sys.localStorage.getItem("language")||"zh"},t.checkInit=function(){if(!this.language){var t=cc.sys.localStorage.getItem("language")||"zh";this.setLanguage(t)}},t.setLanguage=function(t){this.language!==t&&(this.language=t,cc.sys.localStorage.setItem("language",t),this.reloadLabel(),this.reloadSprite())},t._addOrDelLabel=function(t,e){if(e)this.labelArr.push(t);else{var o=this.labelArr.indexOf(t);-1!==o&&this.labelArr.splice(o,1)}},t._getLabel=function(t,e){if(this.checkInit(),0===e.length)return this.labelData[t]||t;var o=this.labelData[t]||t;"number"==typeof o&&(o=o.toString());for(var i=0;i<e.length;i++){var n=new RegExp("#"+i,"g");o=o.replace(n,e[i])}return o},t._addOrDelSprite=function(t,e){if(e)this.spriteArr.push(t);else{var o=this.spriteArr.indexOf(t);-1!==o&&this.spriteArr.splice(o,1)}},t._getSprite=function(t,e){this.checkInit(),cc.loader.loadRes("i18n/sprite/"+this.language+"/"+t,cc.SpriteFrame,function(t,o){if(t)return e(null);e(o)})},t.reloadLabel=function(){var t=this,e="i18n/label/"+this.language;cc.loader.loadRes(e,function(e,o){e?(i.Log.error(e),t.labelData={}):t.labelData=o.json;for(var n=0,r=t.labelArr;n<r.length;n++)r[n]._resetValue()})},t.reloadSprite=function(){for(var t=0,e=this.spriteArr;t<e.length;t++)e[t]._resetValue()},t.labelArr=[],t.labelData={},t.spriteArr=[],t.language="",t}();o.i18nMgr=n,cc._RF.pop()},{"../../utils/Log":"Log"}],i18nSprite:[function(t,e,o){"use strict";cc._RF.push(e,"0ffbcbl89xEj5yYYH4SQgf+","i18nSprite");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(r<3?n(a):r>3?n(e,o,a):n(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.i18nSprite=void 0;var a=t("./i18nMgr"),s=cc._decorator,c=s.ccclass,l=s.property,p=s.executeInEditMode,h=s.disallowMultiple,u=s.requireComponent,d=s.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.i18n_string="",e}return n(e,t),e.prototype.start=function(){a.i18nMgr._addOrDelSprite(this,!0),this._resetValue()},Object.defineProperty(e.prototype,"string",{get:function(){return this.i18n_string},set:function(t){this.i18n_string=t;var e=this.getComponent(cc.Sprite);cc.isValid(e)&&a.i18nMgr._getSprite(t,function(t){cc.isValid(e)&&(e.spriteFrame=t)})},enumerable:!1,configurable:!0}),e.prototype._resetValue=function(){this.string=this.i18n_string},e.prototype.onDestroy=function(){a.i18nMgr._addOrDelSprite(this,!1)},r([l({visible:!1})],e.prototype,"i18n_string",void 0),r([l({type:cc.String})],e.prototype,"string",null),r([c,p,u(cc.Sprite),h,d("\u591a\u8bed\u8a00/i18nSprite")],e)}(cc.Component);o.i18nSprite=f,cc._RF.pop()},{"./i18nMgr":"i18nMgr"}],index:[function(t,e,o){"use strict";cc._RF.push(e,"c9afbUbRIVBHZBm4oMrHzcm","index");var i=this&&this.__createBinding||(Object.create?function(t,e,o,i){void 0===i&&(i=o),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[o]}})}:function(t,e,o,i){void 0===i&&(i=o),t[i]=e[o]}),n=this&&this.__exportStar||function(t,e){for(var o in t)"default"===o||Object.prototype.hasOwnProperty.call(e,o)||i(e,t,o)};Object.defineProperty(o,"__esModule",{value:!0}),n(t("./manager/CenterManager"),o),n(t("./manager/LayoutManager"),o),n(t("./manager/ModelManager"),o),n(t("./manager/PageViewManager"),o),n(t("./manager/ReleaseManager"),o),n(t("./manager/ScrollManager"),o),n(t("./manager/ViewManager"),o),n(t("./abstract/Group"),o),n(t("./abstract/Holder"),o),n(t("./abstract/Manager"),o),n(t("./abstract/ScrollAdapter"),o),n(t("./abstract/View"),o),n(t("./component/Indicator"),o),n(t("./component/Scrollbar"),o),n(t("./define/debug"),o),n(t("./define/enum"),o),n(t("./define/interface"),o),n(t("./help/helper"),o),cc._RF.pop()},{"./abstract/Group":"Group","./abstract/Holder":"Holder","./abstract/Manager":"Manager","./abstract/ScrollAdapter":"ScrollAdapter","./abstract/View":"View","./component/Indicator":"Indicator","./component/Scrollbar":"Scrollbar","./define/debug":"debug","./define/enum":"enum","./define/interface":"interface","./help/helper":"helper","./manager/CenterManager":"CenterManager","./manager/LayoutManager":"LayoutManager","./manager/ModelManager":"ModelManager","./manager/PageViewManager":"PageViewManager","./manager/ReleaseManager":"ReleaseManager","./manager/ScrollManager":"ScrollManager","./manager/ViewManager":"ViewManager"}],interface:[function(t,e,o){"use strict";cc._RF.push(e,"11387OmCW9JLJvJrvO9Jr6q","interface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],xxtea:[function(t,e,o){"use strict";cc._RF.push(e,"21ad2LZoONL4bkCbIZSfGEe","xxtea"),Object.defineProperty(o,"__esModule",{value:!0}),o.xxtea=void 0;var i=function(){function t(){this.DELTA=2654435769}return t.getInstance=function(){return t.instance||(t.instance=new t,t.instance.initInstance()),this.instance},t.prototype.initInstance=function(){},t.prototype.btoa=function(t){var e,o,i,n,r,a,s,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");for(o=i=0,n=t.length,a=(n-=r=n%3)/3<<2,r>0&&(a+=4),e=new Array(a);o<n;)s=t.charCodeAt(o++)<<16|t.charCodeAt(o++)<<8|t.charCodeAt(o++),e[i++]=c[s>>18]+c[s>>12&63]+c[s>>6&63]+c[63&s];return 1==r?(s=t.charCodeAt(o++),e[i++]=c[s>>2]+c[(3&s)<<4]+"=="):2==r&&(s=t.charCodeAt(o++)<<8|t.charCodeAt(o++),e[i++]=c[s>>10]+c[s>>4&63]+c[(15&s)<<2]+"="),e.join("")},t.prototype.atob=function(t){var e,o,i,n,r,a,s,c,l,p,h=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];if((s=t.length)%4!=0)return"";if(/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(t))return"";for(l=s,(c="="==t.charAt(s-2)?1:"="==t.charAt(s-1)?2:0)>0&&(l-=4),l=3*(l>>2)+c,p=new Array(l),r=a=0;r<s&&-1!=(e=h[t.charCodeAt(r++)])&&-1!=(o=h[t.charCodeAt(r++)])&&(p[a++]=String.fromCharCode(e<<2|(48&o)>>4),-1!=(i=h[t.charCodeAt(r++)]))&&(p[a++]=String.fromCharCode((15&o)<<4|(60&i)>>2),-1!=(n=h[t.charCodeAt(r++)]));)p[a++]=String.fromCharCode((3&i)<<6|n);return p.join("")},t.prototype.toBinaryString=function(t,e){var o=t.length,i=o<<2;if(e){var n=t[o-1];if(n<(i-=4)-3||n>i)return null;i=n}for(var r=0;r<o;r++)t[r]=String.fromCharCode(255&t[r],t[r]>>>8&255,t[r]>>>16&255,t[r]>>>24&255);var a=t.join("");return e?a.substring(0,i):a},t.prototype.toUint32Array=function(t,e){var o,i=t.length,n=i>>2;0!=(3&i)&&++n,e?(o=new Array(n+1))[n]=i:o=new Array(n);for(var r=0;r<i;++r)o[r>>2]|=t.charCodeAt(r)<<((3&r)<<3);return o},t.prototype.int32=function(t){return 4294967295&t},t.prototype.mx=function(t,e,o,i,n,r){return(o>>>5^e<<2)+(e>>>3^o<<4)^(t^e)+(r[3&i^n]^o)},t.prototype.fixk=function(t){return t.length<4&&(t.length=4),t},t.prototype.encryptUint32Array=function(t,e){var o,i,n,r,a,s,c=t.length,l=c-1;for(i=t[l],n=0,s=0|Math.floor(6+52/c);s>0;--s){for(r=(n=this.int32(n+this.DELTA))>>>2&3,a=0;a<l;++a)o=t[a+1],i=t[a]=this.int32(t[a]+this.mx(n,o,i,a,r,e));o=t[0],i=t[l]=this.int32(t[l]+this.mx(n,o,i,l,r,e))}return t},t.prototype.decryptUint32Array=function(t,e){var o,i,n,r,a,s,c=t.length,l=c-1;for(o=t[0],s=Math.floor(6+52/c),n=this.int32(s*this.DELTA);0!==n;n=this.int32(n-this.DELTA)){for(r=n>>>2&3,a=l;a>0;--a)i=t[a-1],o=t[a]=this.int32(t[a]-this.mx(n,o,i,a,r,e));i=t[l],o=t[0]=this.int32(t[0]-this.mx(n,o,i,0,r,e))}return t},t.prototype.utf8Encode=function(t){if(/^[\x00-\x7f]*$/.test(t))return t;for(var e=[],o=t.length,i=0,n=0;i<o;++i,++n){var r=t.charCodeAt(i);if(r<128)e[n]=t.charAt(i);else if(r<2048)e[n]=String.fromCharCode(192|r>>6,128|63&r);else{if(!(r<55296||r>57343)){if(i+1<o){var a=t.charCodeAt(i+1);if(r<56320&&56320<=a&&a<=57343){var s=65536+((1023&r)<<10|1023&a);e[n]=String.fromCharCode(240|s>>18&63,128|s>>12&63,128|s>>6&63,128|63&s),++i;continue}}throw new Error("Malformed string")}e[n]=String.fromCharCode(224|r>>12,128|r>>6&63,128|63&r)}}return e.join("")},t.prototype.utf8DecodeShortString=function(t,e){for(var o=new Array(e),i=0,n=0,r=t.length;i<e&&n<r;i++){var a=t.charCodeAt(n++);switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o[i]=a;break;case 12:case 13:if(!(n<r))throw new Error("Unfinished UTF-8 octet sequence");o[i]=(31&a)<<6|63&t.charCodeAt(n++);break;case 14:if(!(n+1<r))throw new Error("Unfinished UTF-8 octet sequence");o[i]=(15&a)<<12|(63&t.charCodeAt(n++))<<6|63&t.charCodeAt(n++);break;case 15:if(!(n+2<r))throw new Error("Unfinished UTF-8 octet sequence");var s=((7&a)<<18|(63&t.charCodeAt(n++))<<12|(63&t.charCodeAt(n++))<<6|63&t.charCodeAt(n++))-65536;if(!(0<=s&&s<=1048575))throw new Error("Character outside valid Unicode range: 0x"+s.toString(16));o[i++]=s>>10&1023|55296,o[i]=1023&s|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+a.toString(16))}}return i<e&&(o.length=i),String.fromCharCode.apply(String,o)},t.prototype.utf8DecodeLongString=function(t,e){for(var o=[],i=new Array(32768),n=0,r=0,a=t.length;n<e&&r<a;n++){var s=t.charCodeAt(r++);switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:i[n]=s;break;case 12:case 13:if(!(r<a))throw new Error("Unfinished UTF-8 octet sequence");i[n]=(31&s)<<6|63&t.charCodeAt(r++);break;case 14:if(!(r+1<a))throw new Error("Unfinished UTF-8 octet sequence");i[n]=(15&s)<<12|(63&t.charCodeAt(r++))<<6|63&t.charCodeAt(r++);break;case 15:if(!(r+2<a))throw new Error("Unfinished UTF-8 octet sequence");var c=((7&s)<<18|(63&t.charCodeAt(r++))<<12|(63&t.charCodeAt(r++))<<6|63&t.charCodeAt(r++))-65536;if(!(0<=c&&c<=1048575))throw new Error("Character outside valid Unicode range: 0x"+c.toString(16));i[n++]=c>>10&1023|55296,i[n]=1023&c|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+s.toString(16))}if(n>=32766){var l=n+1;i.length=l,o[o.length]=String.fromCharCode.apply(String,i),e-=l,n=-1}}return n>0&&(i.length=n,o[o.length]=String.fromCharCode.apply(String,i)),o.join("")},t.prototype.utf8Decode=function(t,e){return(null==e||e<0)&&(e=t.length),0===e?"":/^[\x00-\x7f]*$/.test(t)||!/^[\x00-\xff]*$/.test(t)?e===t.length?t:t.substr(0,e):e<32767?this.utf8DecodeShortString(t,e):this.utf8DecodeLongString(t,e)},t.prototype.encrypt=function(t,e){return null==t||0===t.length?t:(t=this.utf8Encode(t),e=this.utf8Encode(e),this.toBinaryString(this.encryptUint32Array(this.toUint32Array(t,!0),this.fixk(this.toUint32Array(e,!1))),!1))},t.prototype.encryptToBase64=function(t,e){return this.btoa(this.encrypt(t,e))},t.prototype.decrypt=function(t,e){return null==t||0===t.length?t:(e=this.utf8Encode(e),this.utf8Decode(this.toBinaryString(this.decryptUint32Array(this.toUint32Array(t,!1),this.fixk(this.toUint32Array(e,!1))),!0)))},t.prototype.decryptFromBase64=function(t,e){return null==t||0===t.length?t:this.decrypt(this.atob(t),e)},t.prototype.strToHexCharCode=function(t){for(var e,o=0,i=t.length,n="";o<i;++o)n+=(e=t.charCodeAt(o).toString(16)).length<2?"0"+e:e;return n},t}();o.xxtea=i,cc._RF.pop()},{}]},{},["GameController","SkeletonExt","auto_comDialog","auto_comSharePop","auto_comTips","auto_comTipsItem","auto_choseRoomLayer","auto_gameLayer","auto_jiluItem1","auto_jiluItem2","auto_jiluItem3","auto_jiluItem4","auto_jiluItem5","auto_jiluLayer","auto_killer","auto_player","auto_playerName","auto_rankLayer","auto_weihuLayer","auto_game","Group","Holder","Manager","ScrollAdapter","View","Indicator","Scrollbar","debug","enum","interface","helper","index","CenterManager","LayoutManager","ModelManager","PageViewManager","ReleaseManager","ScrollManager","ViewManager","BhvButtonGroup","BhvFrameIndex","BhvGroupToggle","BhvRollNumber","BhvSwitchPage","VMAvatar","VMBase","VMCamera","VMCompsEdit","VMCustom","VMEvent","VMLabel","VMListViewCtrl","VMModify","VMParent","VMProgress","VMQrcode","VMState","VMTimer","VMTurntable","ViewModel","DrawBorad","DrawingBoard","FrameEventConst","ViewZorder","JsonOb","StringFormat","i18nLabel","i18nMgr","i18nSprite","JSBridgeManager","Qrcode","SingletonFactory","base64","crypto","xxtea","AudioMng","EventMng","PoolMng","UIMng","IDataModel","ISerialize","H5WxSdkTool","XcxSdk","CsjTool","JgTool","UIBase","UIHelp","VirtualItem","VirtualLayout","VirtualList","Loading_Layer","NodeSetting","Settings","UIComDialog","UIComSharePop","UIComTips","UIComTipsItem","JiluAdapter","RankAdapter","RankPage1","RankPage2","RankPageAdapter","RankPart1","RankPart2","RankPart3","RoomCoin","UIGameLayer","UIJiluItem1","UIJiluItem2","UIJiluItem3","UIJiluItem4","UIJiluItem5","UIJiluLayer","UIKiller","UIPlayer","UIPlayerName","UIRankLayer","UIWeihuLayer","UIGame","Http","Network","SocketDelegate","Websocket","AccountModel","ConfigModule","EventConst","GameDataCenter","PlayerModel","RoomChoseModel","RoomInfoModel","SocketModel","Log","Utils"]);