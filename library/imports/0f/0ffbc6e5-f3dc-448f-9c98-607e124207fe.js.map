{"version":3,"sources":["assets/script/framework/i18n/i18nSprite.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qCAAoC;AAC9B,IAAA,KAAqF,EAAE,CAAC,UAAU,EAAhG,OAAO,aAAA,EAAE,QAAQ,cAAA,EAAE,iBAAiB,uBAAA,EAAE,gBAAgB,sBAAA,EAAE,gBAAgB,sBAAA,EAAE,IAAI,UAAkB,CAAC;AAOzG;IAAgC,8BAAY;IAA5C;QAAA,qEAmCC;QAhCW,iBAAW,GAAW,EAAE,CAAC;;IAgCrC,CAAC;IA9BG,0BAAK,GAAL;QACI,iBAAO,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACpC,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAGD,sBAAI,8BAAM;aAAV;YACI,OAAO,IAAI,CAAC,WAAW,CAAC;QAC5B,CAAC;aAED,UAAW,KAAa;YACpB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YAEzB,IAAI,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;YAC1C,IAAI,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;gBACpB,iBAAO,CAAC,UAAU,CAAC,KAAK,EAAE,UAAC,WAAW;oBAClC,IAAI,EAAE,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;wBACpB,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC;qBACpC;gBACL,CAAC,CAAC,CAAC;aACN;QACL,CAAC;;;OAbA;IAeD,gCAAW,GAAX;QACI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;IACnC,CAAC;IAED,8BAAS,GAAT;QACI,iBAAO,CAAC,eAAe,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;IACzC,CAAC;IA/BD;QADC,QAAQ,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;mDACI;IAQjC;QADC,QAAQ,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC,MAAM,EAAE,CAAC;4CAG7B;IAbQ,UAAU;QALtB,OAAO;QACP,iBAAiB;QACjB,gBAAgB,CAAC,EAAE,CAAC,MAAM,CAAC;QAC3B,gBAAgB;QAChB,IAAI,CAAC,gBAAgB,CAAC;OACV,UAAU,CAmCtB;IAAD,iBAAC;CAnCD,AAmCC,CAnC+B,EAAE,CAAC,SAAS,GAmC3C;AAnCY,gCAAU","file":"","sourceRoot":"/","sourcesContent":["import { i18nMgr } from \"./i18nMgr\";\nconst { ccclass, property, executeInEditMode, disallowMultiple, requireComponent, menu } = cc._decorator;\n\n@ccclass\n@executeInEditMode\n@requireComponent(cc.Sprite)\n@disallowMultiple\n@menu(\"多语言/i18nSprite\")\nexport class i18nSprite extends cc.Component {\n\n    @property({ visible: false })\n    private i18n_string: string = \"\";\n\n    start() {\n        i18nMgr._addOrDelSprite(this, true);\n        this._resetValue();\n    }\n\n    @property({ type: cc.String })\n    get string() {\n        return this.i18n_string;\n    }\n\n    set string(value: string) {\n        this.i18n_string = value;\n\n        let sprite = this.getComponent(cc.Sprite);\n        if (cc.isValid(sprite)) {\n            i18nMgr._getSprite(value, (spriteFrame) => {\n                if (cc.isValid(sprite)) {\n                    sprite.spriteFrame = spriteFrame;\n                }\n            });\n        }\n    }\n\n    _resetValue() {\n        this.string = this.i18n_string;\n    }\n\n    onDestroy() {\n        i18nMgr._addOrDelSprite(this, false);\n    }\n}\n"]}