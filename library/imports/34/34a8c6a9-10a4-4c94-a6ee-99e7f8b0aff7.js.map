{"version":3,"sources":["assets/script/logic/ui/prefab/RoomCoin.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,gEAA2D;AAC3D,2DAAyD;AACzD,mEAA8D;AAExD,IAAA,KAA8B,EAAE,CAAC,UAAU,EAAzC,OAAO,aAAA,EAAE,IAAI,UAAA,EAAE,QAAQ,cAAkB,CAAC;AAGlD;IAA8B,4BAAY;IAA1C;QAAA,qEA8BC;QA7BuB,aAAO,GAAa,IAAI,CAAC;QACvB,QAAE,GAAW,CAAC,CAAC;QAE7B,aAAO,GAAY,KAAK,CAAC;;IA0BrC,CAAC;IAxBa,yBAAM,GAAhB;QACI,kBAAQ,CAAC,EAAE,CAAC,sBAAS,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC5D,CAAC;IAES,4BAAS,GAAnB;QACI,kBAAQ,CAAC,GAAG,CAAC,sBAAS,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC7D,CAAC;IAED,4BAAS,GAAT,UAAU,KAAU;QAApB,iBAeC;QAdG,IAAG,IAAI,CAAC,OAAO,EAAC;YACZ,OAAM;SACT;QACD,IAAG,wBAAc,CAAC,aAAa,CAAC,SAAO,IAAI,CAAC,EAAI,CAAC,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,KAAK,EAAC;YAC1E,OAAM;SACT;QACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;aAClB,EAAE,CAAC,GAAG,EAAE,EAAC,KAAK,EAAE,GAAG,EAAC,CAAC;aACrB,EAAE,CAAC,GAAG,EAAE,EAAC,KAAK,EAAE,CAAC,GAAG,EAAC,CAAC;aACtB,IAAI,CAAC;YACF,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC;aACD,KAAK,EAAE,CAAC;IACb,CAAC;IA5BmB;QAAnB,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;6CAA0B;IACvB;QAArB,QAAQ,CAAC,EAAE,CAAC,OAAO,CAAC;wCAAgB;IAF5B,QAAQ;QAFpB,OAAO;QACP,IAAI,CAAC,oBAAoB,CAAC;OACd,QAAQ,CA8BpB;IAAD,eAAC;CA9BD,AA8BC,CA9B6B,EAAE,CAAC,SAAS,GA8BzC;AA9BY,4BAAQ","file":"","sourceRoot":"/","sourcesContent":["import EventMng from \"../../../framework/manager/EventMng\";\nimport { GameEvent } from \"../../../userData/EventConst\";\nimport GameDataCenter from \"../../../userData/GameDataCenter\";\n\nconst { ccclass, menu, property } = cc._decorator;\n@ccclass\n@menu(\"UI/prefab/RoomCoin\")\nexport class RoomCoin extends cc.Component{\n    @property(cc.Label) labCoin: cc.Label = null;\n    @property(cc.Integer) id: number = 0;\n\n    private scaling: boolean = false;\n\n    protected onLoad(): void {\n        EventMng.on(GameEvent.COIN_SCALE, this.showScale, this);\n    }\n\n    protected onDestroy(): void {\n        EventMng.off(GameEvent.COIN_SCALE, this.showScale, this);\n    }\n\n    showScale(rooms: any){\n        if(this.scaling){\n            return\n        }\n        if(GameDataCenter.roomInfoModel[`coin${this.id}`] >= rooms[this.id - 1].total){\n            return\n        }\n        this.scaling = true;\n        cc.tween(this.node)\n        .by(0.5, {scale: 0.2})\n        .by(0.5, {scale: -0.2})\n        .call(()=>{\n            this.scaling = false;\n        })\n        .start();\n    }\n}"]}