{"version":3,"sources":["assets/script/logic/ui/Loading_Layer.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property(cc.Label)\n    labelPercent: cc.Label = null;\n\n    @property(cc.ProgressBar)\n    progPercent: cc.ProgressBar = null\n\n    start () {\n        cc.view.enableAutoFullScreen(false)\n        this.labelPercent.string = '0%'\n        this.progPercent.progress = 0;\n        (window as any).GetGameInfo()\n\t\t.then(res => {\n\t\t\tconsole.log(res, '获取游戏信息成功')\n\t\t\tif (res.code == 0) {\n\t\t\t\t(window as any).currencyIcon = res.data.icon;\n\t\t\t\t(window as any).currencyName = res.data.coin;\n\n\t\t\t\tcc.director.preloadScene(\"game\", (completeNum: number, totalNum: number) => {\n                    const percent = completeNum / totalNum * 80\n                    const progress = Math.ceil(Math.max(this.progPercent.progress * 100, percent))\n                    this.labelPercent.string = progress + '%'\n                    this.progPercent.progress = progress / 100\n                }, () => {\n                    cc.tween({num: 80})\n                    .to(0.5, {num: 100}, {\n                        progress: (parm1, parm2, param3, t) => {\n                            this.labelPercent.string = Math.ceil(param3) + '%'\n                            this.progPercent.progress = param3 / 100\n                            return (parm2 - parm1) * t + parm1\n                        }\n                    }).call(() => {\n                        cc.director.loadScene('game', (err, scene) => {\n                            // cc.director.runScene(scene)\n                        })\n                    })\n                    .start()\n                })\n\t\t\t}\n\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err, '获取游戏信息失败')\n\t\t})\n        \n\n        // cc.loader.loadResDir('sounds', cc.AudioClip, (err) => {\n        //     if (!err) {\n        //         cc.tween({num: 0})\n        //         .to(1.0, {\n        //             num: 30\n        //         }, {\n                    \n        //         })\n        //     }\n        // })\n    }\n\n    // update (dt) {}\n}\n"]}