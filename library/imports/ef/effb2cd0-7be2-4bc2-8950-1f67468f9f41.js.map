{"version":3,"sources":["assets/script/framework/adapter/manager/ReleaseManager.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oDAAoD;AACpD,+CAA8C;AAC9C,uCAA8C;AAC9C,iDAAgD;AAC1C,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAC5C,IAAK,KAKJ;AALD,WAAK,KAAK;IACN,6CAAU,CAAA;IACV,iDAAY,CAAA;IACZ,iDAAY,CAAA;IACZ,mDAAa,CAAA;AACjB,CAAC,EALI,KAAK,KAAL,KAAK,QAKT;AAED;IAAoC,kCAAc;IAAlD;QAAA,qEAoKC;QAlKuB,cAAQ,GAAY,KAAK,CAAA;QAY1C,UAAI,GAAW,CAAC,CAAA;QAQhB,WAAK,GAAW,CAAC,CAAA;QAQjB,SAAG,GAAW,CAAC,CAAA;QAQf,YAAM,GAAW,CAAC,CAAA;;IA8HzB,CAAC;IAjKe,sBAAI,mCAAO;aAAX,cAAgB,OAAO,IAAI,CAAC,QAAQ,CAAA,CAAC,CAAC;aAClD,UAAY,KAAc;YACtB,IAAI,KAAK,IAAI,IAAI,CAAC,QAAQ;gBAAE,OAAM;YAClC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA;QACzB,CAAC;;;OAJiD;IAwClD,sBAAI,+BAAG;aAAP;YACI,IAAI,CAAC,IAAI,CAAC,OAAO;gBAAE,OAAO,CAAC,CAAA;YAC3B,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;gBAC3B,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;aACpD;iBAAM;gBACH,OAAO,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;aACpD;QACL,CAAC;;;OAAA;IACD,sBAAI,+BAAG;aAAP;YACI,IAAI,CAAC,IAAI,CAAC,OAAO;gBAAE,OAAO,CAAC,CAAA;YAC3B,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;gBAC3B,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;aACtD;iBAAM;gBACH,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;aAChD;QACL,CAAC;;;OAAA;IAES,+BAAM,GAAhB;QACI,IAAI,CAAC,IAAI,CAAC,OAAO;YAAE,OAAM;QACzB,IAAI,CAAC,OAAO,GAAG,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;QACpE,IAAI,CAAC,SAAS,GAAG,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,CAAA;QACrE,IAAI,CAAC,SAAS,GAAG,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAAA;QACvE,IAAI,CAAC,UAAU,GAAG,IAAI,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,aAAa,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;QACxE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC,6BAAa,CAAC,KAAK,CAAC,eAAe,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAA;QAC5F,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC,6BAAa,CAAC,KAAK,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAA;QACxF,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE,CAAC,6BAAa,CAAC,KAAK,CAAC,gBAAgB,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAA;QAC3F,IAAI,CAAC,SAAS,EAAE,CAAA;IACpB,CAAC;IACO,kCAAS,GAAjB;QACI,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;YAC3B,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE;gBACjC,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,EAAE;oBACf,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAA;iBAC9C;gBACD,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;oBAChB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAA;iBAC9C;aACJ;iBAAM;gBACH,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,EAAE;oBACf,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAA;iBAC9C;gBACD,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;oBAChB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAA;iBAC9C;aACJ;SACJ;aAAM;YACH,IAAI,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE;gBACjC,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE;oBACd,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAA;iBAC9C;gBACD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oBACjB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAA;iBAC9C;aACJ;iBAAM;gBACH,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE;oBACd,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAA;iBAC9C;gBACD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;oBACjB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,UAAU,GAAG,KAAK,CAAA;iBAC9C;aACJ;SACJ;IACL,CAAC;IACO,sCAAa,GAArB;QACI,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;YAC3B,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,EAAE;gBACf,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,mBAAY,CAAC,IAAI,CAAC,CAAA;aAClD;YACD,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;gBAChB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,mBAAY,CAAC,IAAI,CAAC,CAAA;aACjD;SACJ;aAAM;YACH,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE;gBACd,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,mBAAY,CAAC,IAAI,CAAC,CAAA;aACjD;YACD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACjB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,mBAAY,CAAC,IAAI,CAAC,CAAA;aAC/C;SACJ;IACL,CAAC;IACO,oCAAW,GAAnB;QACI,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;YAC3B,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,EAAE;gBACf,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,mBAAY,CAAC,OAAO,CAAC,CAAA;aACrD;YACD,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;gBAChB,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,mBAAY,CAAC,OAAO,CAAC,CAAA;aACpD;SACJ;aAAM;YACH,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE;gBACd,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,mBAAY,CAAC,OAAO,CAAC,CAAA;aACpD;YACD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACjB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,mBAAY,CAAC,OAAO,CAAC,CAAA;aAClD;SACJ;IACL,CAAC;IACD,+BAA+B;IACxB,4CAAmB,GAA1B,UAA2B,SAAiB;QACxC,IAAI,CAAC,IAAI,CAAC,OAAO;YAAE,OAAM;QACzB,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,CAAA;QACtD,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,EAAE;YACtC,MAAM,GAAG,CAAC,CAAA;SACb;QACD,IAAI,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;YAC3B,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,EAAE;gBACf,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC,CAAA;aAC5D;YACD,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;gBAChB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC,CAAA;aAC1D;SACJ;aAAM;YACH,IAAI,IAAI,CAAC,GAAG,GAAG,CAAC,EAAE;gBACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC,CAAA;aAC1D;YACD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBACjB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC,CAAA;aACzD;SACJ;IACL,CAAC;IAjKM,oBAAK,GAAG,KAAK,CAAA;IACR;QAAX,QAAQ,EAAE;oDAAkC;IACjC;QAAX,QAAQ,EAAE;iDAAuC;IAW/C;QANF,QAAQ,CAAC;YACN,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YACb,KAAK,EAAE,IAAI;YACX,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,cAAc,OAAO,IAAI,CAAC,OAAO,CAAA,CAAC,CAAC;YAC5C,OAAO,EAAE,iBAAiB;SAC7B,CAAC;gDAAiB;IAQhB;QANF,QAAQ,CAAC;YACN,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YACb,KAAK,EAAE,IAAI;YACX,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,cAAc,OAAO,IAAI,CAAC,OAAO,CAAA,CAAC,CAAC;YAC5C,OAAO,EAAE,iBAAiB;SAC7B,CAAC;iDAAkB;IAQjB;QANF,QAAQ,CAAC;YACN,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YACb,KAAK,EAAE,IAAI;YACX,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,cAAc,OAAO,IAAI,CAAC,OAAO,CAAA,CAAC,CAAC;YAC5C,OAAO,EAAE,iBAAiB;SAC7B,CAAC;+CAAgB;IAQf;QANF,QAAQ,CAAC;YACN,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;YACb,KAAK,EAAE,IAAI;YACX,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,cAAc,OAAO,IAAI,CAAC,OAAO,CAAA,CAAC,CAAC;YAC5C,OAAO,EAAE,iBAAiB;SAC7B,CAAC;kDAAmB;IAtCZ,cAAc;QAD1B,OAAO,CAAC,gBAAgB,CAAC;OACb,cAAc,CAoK1B;IAAD,qBAAC;CApKD,AAoKC,CApKmC,iBAAO,GAoK1C;AApKY,wCAAc;AAqK3B,WAAW;AACX;IAaI,sBAAY,OAAuB,EAAE,KAAY,EAAE,iBAAyB;QAZpE,YAAO,GAAW,CAAC,CAAA;QAEnB,cAAS,GAAW,CAAC,CAAA;QACrB,YAAO,GAAW,CAAC,CAAA;QAUvB,IAAI,CAAC,kBAAkB,GAAG,iBAAiB,CAAA;QAC3C,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAA;QACvB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;IACvB,CAAC;IAfD,sBAAI,gCAAM;aAAV,cAAe,OAAO,IAAI,CAAC,OAAO,CAAA,CAAC,CAAC;;;OAAA;IAIpC,sBAAI,kCAAQ;aAAZ,cAAiB,OAAO,IAAI,CAAC,SAAS,CAAA,CAAC,CAAC;;;OAAA;IACxC,sBAAI,gCAAM;aAAV,cAAe,OAAO,IAAI,CAAC,OAAO,CAAA,CAAC,CAAC;;;OAAA;IACpC,sBAAI,+BAAK;aAAT,cAAc,OAAO,IAAI,CAAC,MAAM,CAAA,CAAC,CAAC;;;OAAA;IAU1B,2BAAI,GAAZ,UAAa,MAAc,EAAE,UAAmB;QAC5C,IAAI,UAAU,EAAE;YACZ,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;SACrB;QACD,IAAI,IAAI,CAAC,KAAK;YAAE,OAAM;QACtB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAA;QACrB,IAAI,CAAC,SAAS,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,YAAY,CAAC,CAAA;QACxF,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,IAAI,GAAG,CAAA;QAChC,IAAI,CAAC,SAAS,CAAC,mBAAY,CAAC,IAAI,CAAC,CAAA;QACjC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAA;IACzC,CAAC;IACO,gCAAS,GAAjB,UAAkB,KAAmB;QACjC,IAAI,IAAI,CAAC,MAAM,IAAI,mBAAY,CAAC,IAAI,EAAE;YAClC,OAAM;SACT;QACD,IAAI,KAAK,IAAI,mBAAY,CAAC,IAAI,IAAI,IAAI,CAAC,MAAM,IAAI,mBAAY,CAAC,OAAO,EAAE;YACnE,OAAM;SACT;QACD,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;IACvB,CAAC;IACD;;;OAGG;IACI,2BAAI,GAAX,UAAY,UAAiF;QAAjF,2BAAA,EAAA,aAAqB,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,YAAY;QACzF,IAAI,CAAC,OAAO,GAAG,UAAU,CAAA;QACzB,IAAI,CAAC,MAAM,GAAG,mBAAY,CAAC,IAAI,CAAA;IACnC,CAAC;IACD;;OAEG;IACI,8BAAO,GAAd;QACI,IAAI,CAAC,OAAO,GAAG,CAAC,CAAA;QAChB,IAAI,CAAC,MAAM,GAAG,mBAAY,CAAC,IAAI,CAAA;QAC/B,IAAI,IAAI,CAAC,MAAM,IAAI,GAAG,EAAE;YACpB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAA;YAChB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAA;YAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAA;SACxC;IACL,CAAC;IACL,mBAAC;AAAD,CA1DA,AA0DC,IAAA;AA1DY,oCAAY","file":"","sourceRoot":"/","sourcesContent":["// import { _decorator, Component, Node } from 'cc';\nimport { Manager } from '../abstract/Manager';\nimport { ReleaseState } from '../define/enum';\nimport { ScrollManager } from './ScrollManager';\nconst { ccclass, property } = cc._decorator;\nenum Event {\n    ON_PULL_UP,\n    ON_PULL_DOWN,\n    ON_PULL_LEFT,\n    ON_PULL_RIGHT,\n}\n@ccclass('ReleaseManager')\nexport class ReleaseManager extends Manager<Event> {\n    static Event = Event\n    @property() private _enabled: boolean = false\n    @property() get enabled() { return this._enabled }\n    set enabled(value: boolean) {\n        if (value == this._enabled) return\n        this._enabled = value\n    }\n    @property({\n        range: [0, 1],\n        slide: true,\n        step: 0.01,\n        visible: function () { return this.enabled },\n        tooltip: \"根据此阈值来切换state状态\"\n    }) left: number = 0\n\n    @property({\n        range: [0, 1],\n        slide: true,\n        step: 0.01,\n        visible: function () { return this.enabled },\n        tooltip: \"根据此阈值来切换state状态\"\n    }) right: number = 0\n\n    @property({\n        range: [0, 1],\n        slide: true,\n        step: 0.01,\n        visible: function () { return this.enabled },\n        tooltip: \"根据此阈值来切换state状态\"\n    }) top: number = 0\n\n    @property({\n        range: [0, 1],\n        slide: true,\n        step: 0.01,\n        visible: function () { return this.enabled },\n        tooltip: \"根据此阈值来切换state状态\"\n    }) bottom: number = 0\n    private _pullUp: ReleaseEvent\n    private _pullDown: ReleaseEvent\n    private _pullLeft: ReleaseEvent\n    private _pullRight: ReleaseEvent\n    get max() {\n        if (!this.enabled) return 0\n        if (this.adapter.isHorizontal) {\n            return this._pullLeft ? this._pullLeft.expand : 0\n        } else {\n            return this._pullDown ? this._pullDown.expand : 0\n        }\n    }\n    get min() {\n        if (!this.enabled) return 0\n        if (this.adapter.isHorizontal) {\n            return this._pullRight ? this._pullRight.expand : 0\n        } else {\n            return this._pullUp ? this._pullUp.expand : 0\n        }\n    }\n\n    protected onInit(): void {\n        if (!this.enabled) return\n        this._pullUp = new ReleaseEvent(this, Event.ON_PULL_UP, this.bottom)\n        this._pullDown = new ReleaseEvent(this, Event.ON_PULL_DOWN, this.top)\n        this._pullLeft = new ReleaseEvent(this, Event.ON_PULL_LEFT, this.right)\n        this._pullRight = new ReleaseEvent(this, Event.ON_PULL_RIGHT, this.left)\n        this.adapter.scrollManager.on(ScrollManager.Event.ON_SCROLL_START, this.onScrollStart, this)\n        this.adapter.scrollManager.on(ScrollManager.Event.ON_SCROLL_END, this.onScrollEnd, this)\n        this.adapter.scrollManager.on(ScrollManager.Event.ON_SCROLL_CANCEL, this.onScrollEnd, this)\n        this.checkLoop()\n    }\n    private checkLoop() {\n        if (this.adapter.isHorizontal) {\n            if (this.adapter.isArrangeAxisStart) {\n                if (this.left > 0) {\n                    this.adapter.viewManager.loopHeader = false\n                }\n                if (this.right > 0) {\n                    this.adapter.viewManager.loopFooter = false\n                }\n            } else {\n                if (this.left > 0) {\n                    this.adapter.viewManager.loopFooter = false\n                }\n                if (this.right > 0) {\n                    this.adapter.viewManager.loopHeader = false\n                }\n            }\n        } else {\n            if (this.adapter.isArrangeAxisStart) {\n                if (this.top > 0) {\n                    this.adapter.viewManager.loopHeader = false\n                }\n                if (this.bottom > 0) {\n                    this.adapter.viewManager.loopFooter = false\n                }\n            } else {\n                if (this.top > 0) {\n                    this.adapter.viewManager.loopFooter = false\n                }\n                if (this.bottom > 0) {\n                    this.adapter.viewManager.loopHeader = false\n                }\n            }\n        }\n    }\n    private onScrollStart() {\n        if (this.adapter.isHorizontal) {\n            if (this.left > 0) {\n                this._pullRight[\"_setState\"](ReleaseState.IDLE)\n            }\n            if (this.right > 0) {\n                this._pullLeft[\"_setState\"](ReleaseState.IDLE)\n            }\n        } else {\n            if (this.top > 0) {\n                this._pullDown[\"_setState\"](ReleaseState.IDLE)\n            }\n            if (this.bottom > 0) {\n                this._pullUp[\"_setState\"](ReleaseState.IDLE)\n            }\n        }\n    }\n    private onScrollEnd() {\n        if (this.adapter.isHorizontal) {\n            if (this.left > 0) {\n                this._pullRight[\"_setState\"](ReleaseState.RELEASE)\n            }\n            if (this.right > 0) {\n                this._pullLeft[\"_setState\"](ReleaseState.RELEASE)\n            }\n        } else {\n            if (this.top > 0) {\n                this._pullDown[\"_setState\"](ReleaseState.RELEASE)\n            }\n            if (this.bottom > 0) {\n                this._pullUp[\"_setState\"](ReleaseState.RELEASE)\n            }\n        }\n    }\n    /** @deprecated 内部方法，调用会爆炸💥 */\n    public internal_lateUpdate(deltaTime: number) {\n        if (!this.enabled) return\n        var offset = this.adapter.scrollManager.boundaryOffset\n        if (!this.adapter.scrollManager.dragging) {\n            offset = 0\n        }\n        if (this.adapter.isHorizontal) {\n            if (this.left > 0) {\n                this._pullRight[\"_set\"](Math.max(-offset, 0), offset < 0)\n            }\n            if (this.right > 0) {\n                this._pullLeft[\"_set\"](Math.max(offset, 0), offset > 0)\n            }\n        } else {\n            if (this.top > 0) {\n                this._pullDown[\"_set\"](Math.max(offset, 0), offset > 0)\n            }\n            if (this.bottom > 0) {\n                this._pullUp[\"_set\"](Math.max(-offset, 0), offset < 0)\n            }\n        }\n    }\n\n}\n/** 事件参数 */\nexport class ReleaseEvent {\n    private _expand: number = 0\n    get expand() { return this._expand }\n    private _progress: number = 0\n    private _offset: number = 0\n    private _state: ReleaseState\n    get progress() { return this._progress }\n    get offset() { return this._offset }\n    get state() { return this._state }\n    private _defaultPercentage: number\n    private _manager: ReleaseManager\n    private _event: Event\n    private _stop: boolean\n    constructor(manager: ReleaseManager, event: Event, defaultPercentage: number) {\n        this._defaultPercentage = defaultPercentage\n        this._manager = manager\n        this._event = event\n    }\n    private _set(offset: number, isContinue: boolean) {\n        if (isContinue) {\n            this._stop = false\n        }\n        if (this._stop) return\n        this._offset = offset\n        this._progress = offset / (this._defaultPercentage * this._manager.adapter.mainAxisSize)\n        this._stop = this._offset <= 0.1\n        this._setState(ReleaseState.PULL)\n        this._manager.emit(this._event, this)\n    }\n    private _setState(value: ReleaseState) {\n        if (this._state == ReleaseState.WAIT) {\n            return\n        }\n        if (value == ReleaseState.PULL && this._state == ReleaseState.RELEASE) {\n            return\n        }\n        this._state = value\n    }\n    /**\n     * 等待\n     * @param expandSize 扩展尺寸\n     */\n    public wait(expandSize: number = this._defaultPercentage * this._manager.adapter.mainAxisSize) {\n        this._expand = expandSize\n        this._state = ReleaseState.WAIT\n    }\n    /**\n     * 释放\n     */\n    public release() {\n        this._expand = 0\n        this._state = ReleaseState.IDLE\n        if (this.offset <= 0.1) {\n            this._offset = 0\n            this._progress = 0\n            this._manager.emit(this._event, this)\n        }\n    }\n}"]}