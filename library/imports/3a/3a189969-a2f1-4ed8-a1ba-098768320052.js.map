{"version":3,"sources":["assets/script/utils/Utils.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Log } from \"./Log\";\n\nconst {ccclass, property} = cc._decorator;\ndeclare function unescape(s: string): string;\n\n@ccclass\nexport class Utils {\n    //获得查询字符串\n    public static getQueryString(name) {\n        var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n        var r = window.location.search.substr(1).match(reg);\n        if (r != null) return unescape(r[2]); return null;\n    }\n\n    // 对Date的扩展，将 Date 转化为指定格式的String   \n    // 月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，   \n    // 年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)   \n    // 例子：   \n    // (new Date()).Format(\"yyyy-MM-dd hh:mm:ss.S\") ==> 2006-07-02 08:09:04.423   \n    // (new Date()).Format(\"yyyy-M-d h:m:s.S\")      ==> 2006-7-2 8:9:4.18 \n    //Utils.getFormateDate(new Date(data[\"time_add\"] * 1000), \"yyyy-M-d h:m:s\");\n    public static getFormateDate(data: Date, formate: string): string {\n        var o = {\n            \"M+\": data.getMonth() + 1,                 //月份   \n            \"d+\": data.getDate(),                    //日   \n            \"h+\": data.getHours(),                   //小时   \n            \"m+\": data.getMinutes(),                 //分   \n            \"s+\": data.getSeconds(),                 //秒   \n            \"q+\": Math.floor((data.getMonth() + 3) / 3), //季度   \n            \"S\": data.getMilliseconds()             //毫秒   \n        };\n        if (/(y+)/.test(formate))\n            formate = formate.replace(RegExp.$1, (data.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n        for (var k in o)\n            if (new RegExp(\"(\" + k + \")\").test(formate))\n                formate = formate.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n        return formate;\n    }\n\n    //clone对象\n    public static cloneObj(obj) {\n        var a = JSON.stringify(obj)\n        return JSON.parse(a)\n    }\n\n    public static getCookie(cookieName) {\n        var strCookie = document.cookie;\n        var arrCookie = strCookie.split(\"; \");\n        for(var i = 0; i < arrCookie.length; i++){\n            var arr = arrCookie[i].split(\"=\");\n            if(cookieName == arr[0]){\n                return arr[1];\n            }\n        }\n        return \"\";\n    }\n\n    public static delCookie(name){\n        var exp = new Date();\n        exp.setTime(exp.getTime() - 1);\n        var cval=Utils.getCookie(name);\n        Log.log('____删除cookie:',cval)\n        if(cval!=null)\n          document.cookie= name + \"=\"+cval+\";expires=\"+exp.toUTCString();\n    }\n\n    //生成随机数，>=a,<b\n    public static random(a: number, b: number): number {\n        var diff: number = b - a - 1;\n        var r: number = Math.random() * diff;\n        return Math.round(r) + a;\n    }\n\n    /**\n     * JS使用POST方式进行跳转\n     * @param URL 跳转链接\n     * @param PARAMS 参数{a:1,b:2}\n     */\n     postOpenWindow(URL, PARAMS) {\n\t\tvar temp_form = document.createElement(\"form\");\n\t\ttemp_form.action = URL;\n\t\ttemp_form.target = \"_blank\";\n\t\ttemp_form.method = \"post\";\n\t\ttemp_form.style.display = \"none\";\n\t\t\n\t\tfor (var x in PARAMS) {\n\t\t\tvar opt = document.createElement(\"textarea\");\n\t\t\topt.name = x;\n\t\t\topt.value = PARAMS[x];\n\t\t\ttemp_form.appendChild(opt);\n\t\t}\n\t\t\n\t\tdocument.body.appendChild(temp_form);\n\t\ttemp_form.submit();\n\t}\n}\n"]}